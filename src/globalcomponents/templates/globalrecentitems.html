<div class="slds-page-header">
    <div class="slds-page-header__row">
        <div class="slds-page-header__col-title">
            <div class="slds-media">
                <div class="slds-media__body">
                    <div class="slds-page-header__name">
                        <div class="slds-page-header__name-title">
                            <h1>
                                <span class="slds-page-header__title slds-truncate"><system-label label="LBL_RECENT_ITEMS"></system-label></span>
                            </h1>
                        </div>
                    </div>
                    <p class="slds-page-header__name-meta">{{recent.recentItems.length}} <system-label label="LBL_ITEMS"></system-label></p>
                </div>
            </div>
        </div>
    </div>
</div>
<div system-to-bottom>
    <table class="slds-table slds-table--bordered slds-table--fixed-layout slds-table--header-fixed" role="grid" >
        <thead>
            <tr class="slds-text-title--caps">
                <th class="slds-cell-shrink" scope="col">
                </th>
                <th class="slds-is-sortable slds-is-resizable " scope="col">
                    <span class="slds-truncate slds-th__action"><system-label label="LBL_NAME"></system-label></span>
                </th>
                <th class="slds-is-sortable slds-is-resizable " scope="col">
                    <span class="slds-truncate slds-th__action"><system-label label="LBL_MODULE"></system-label></span>
                </th>
                <th class="slds-is-sortable slds-is-resizable " scope="col">
                    <span class="slds-truncate slds-th__action"><system-label label="LBL_VIEWED"></system-label></span>
                </th>
            </tr>
        </thead>
        <tbody>
        <tr class="slds-p-bottom--small" *ngIf="!recent.isInitialized">
            <system-spinner size="16" ></system-spinner>
        </tr>
            <tr *ngFor="let recentItem of recent.recentItems" [system-model-provider]="{module: recentItem.module_name, data: recentItem.data}" class="slds-hint-parent">
                <td role="gridcell" class="slds-cell-shrink">
                    <system-icon [module]="recentItem.module_name" size="small" divClass=""></system-icon>
                </td>
                <td>
                    <a href="javascript:void(0);" class=" slds-text-link--reset" (click)="goRecent(recentItem.module_name, recentItem.item_id)">
                        <div class="slds-truncate" system-model-popover [module]="recentItem.module_name" [id]="recentItem.item_id">
                            {{recentItem.summary_text ? recentItem.summary_text : recentItem.item_summary}}
                        </div>
                    </a>
                </td>
                <td>
                    <div class="slds-truncate"><system-label-modulename [module]="recentItem.module_name" [singular]="true"></system-label-modulename></div>
                </td>
                <td>
                    <div class="slds-truncate"><system-display-datetime [date]="recentItem.date_modified"></system-display-datetime></div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
