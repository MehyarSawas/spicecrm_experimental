<system-modal>
    <system-modal-header (close)="close()" module="KReports">
        <system-label-modulename module="KReports" [singular]="true"></system-label-modulename>
    </system-modal-header>
    <system-modal-content margin="xx-small" [grow]="true">
        <system-collapsable-tab *ngIf="createmode" tabtitle="LBL_DETAILS" [collapsible]="false">
            <object-record-fieldset [fieldset]="fieldset" direction="vertical"></object-record-fieldset>
        </system-collapsable-tab>
        <system-collapsable-tab tabtitle="LBL_MODULE" [collapsible]="false">
            <div class="slds-p-around--x-small">
                <div class="slds-app-launcher__header-search slds-p-horizontal--none">
                    <div class="slds-form-element">
                        <div class="slds-form-element__control slds-input-has-icon slds-input-has-icon--left">
                            <system-utility-icon icon="search" [addclasses]="'slds-input__icon slds-input__icon--left'"></system-utility-icon>
                            <input type="search" class="slds-input" [(ngModel)]="searchTerm" [placeholder]="language.getLabel('LBL_SEARCH')">
                        </div>
                    </div>
                </div>
                <ul class="slds-grid slds-grid--pull-padded slds-p-around--xx-small slds-wrap">
                    <li *ngFor="let module of filteredModuleList; trackBy: trackByFn" [class.spice-box-is-selected]="module.name == selectedModule" class="slds-p-around--small slds-size--xx-small" (click)="setSelectedModule(module.name)" (dblclick)="confirm(module.name)">
                        <div class="slds-app-launcher__tile-figure slds-app-launcher__tile-figure--small slds-text-link_reset">
                            <system-icon [module]="module.name" size="large"></system-icon>
                        </div>
                        <div class="slds-align_absolute-center slds-p-top--xx-small">
                            <p class="slds-truncate slds-text-link_reset" [title]="module.display">
                                {{module.display}}
                            </p>
                        </div>
                    </li>
                </ul>
            </div>
        </system-collapsable-tab>
    </system-modal-content>
    <system-modal-footer>
        <button class="slds-button slds-button--neutral" (click)="close()">
            <system-label label="LBL_CANCEL"></system-label>
        </button>
        <button *ngIf="createmode" [disabled]="!canCreate" class="slds-button slds-button--neutral" (click)="confirm()">
            <system-label label="LBL_NEXT"></system-label>
        </button>
    </system-modal-footer>
</system-modal>
