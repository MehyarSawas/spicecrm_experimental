<div class="slds-grid slds-grid--vertical" style="height: 100%">
    <div class="slds-border--bottom slds-p-around--x-small">
        <button (click)="addFixed()" [disabled]="!reportsDesignerService.expertMode" class="slds-button slds-button_neutral slds-m-right--small slds-p-horizontal--x-small slds-text-title--caps" style="height: 100%; line-height: 22px">
            <system-label label="LBL_ADD_FIXED"></system-label>
        </button>
    </div>
    <div cdkDropList [cdkDropListData]="listFields" (cdkDropListDropped)="onDrop($event)" class="slds-grow slds-scrollable--y" style="height: 100%">
        <table class="slds-table slds-table--cell-buffer spice-table_header-fixed slds-table--fixed-layout slds-no-row-hover reports-designer-manipulate-table">
            <thead>
            <tr class="slds-text-title--caps slds-theme--shade">
                <th class="slds-cell-shrink"></th>
                <th scope="col" class="slds-resizable">
                    <div class="slds-truncate">
                        <system-label label="LBL_PATH"></system-label>
                    </div>
                </th>
                <th scope="col" class="slds-resizable">
                    <div class="slds-truncate">
                        <system-label label="LBL_NAME"></system-label>
                    </div>
                </th>
                <th scope="col" class="slds-resizable">
                    <div class="slds-truncate">
                        <system-label label="LBL_FUNCTION"></system-label>
                    </div>
                </th>
                <th scope="col" class="slds-text-align--center slds-cell-shrink">
                    <system-utility-icon icon="summary" size="x-small" [title]="language.getLabel('LBL_GROUP_BY')"></system-utility-icon>
                </th>
                <th scope="col" class="slds-text-align--center slds-cell-shrink">
                    <system-utility-icon icon="link" size="x-small" [title]="language.getLabel('LBL_REQUIRED')"></system-utility-icon>
                </th>
                <th class="slds-cell-shrink"></th>
            </tr>
            </thead>
            <tbody>
                <ng-container *ngFor="let listItem of listFields; trackBy: trackByFn">
                    <tr reports-designer-manipulate-table-row
                        [listItem]="listItem" (onDelete)="deleteField(listItem.fieldid)"
                        cdkDrag [cdkDragData]="listItem" cdkDragBoundary=".reports-designer-manipulate-table"
                        class="slds-border--bottom slds-drag--preview">
                    </tr>
                    <tr reports-designer-manipulate-table-row-expansion [listItem]="listItem" class="slds-theme--shade slds-box_border"></tr>
                </ng-container>
                <tr *ngIf="listFields?.length == 0">
                    <td colspan="7" >
                        <div class="slds-align--absolute-center slds-p-around--large"><system-label label="MSG_DROP_FIELD_HERE"></system-label></div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
