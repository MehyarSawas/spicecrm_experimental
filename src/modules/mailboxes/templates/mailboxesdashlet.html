<div class="slds-grid slds-grid--vertical" style="height: 100%">
    <div class="slds-grid slds-grid--vertical-align-center slds-border--bottom slds-p-around--x-small">
        <system-icon module="Mailboxes" size="small"></system-icon>
        <h2 class="slds-text-heading--medium slds-p-bottom--xx-small">Mailboxes</h2>
    </div>
    <div #tablecontainer class="slds-scrollable--y slds-grow" style="width: 100%;" (scroll)="onScroll()">
        <table class="slds-table slds-table_cell-buffer slds-table_bordered slds-table--fixed-layout spice-table_header-fixed" style="border-top: 0">
            <thead>
            <tr class="slds-text-title_caps">
                <th scope="col">
                    <div class="slds-truncate slds-text-align--center">
                        <system-label label="LBL_NAME"></system-label>
                    </div>
                </th>
                <th scope="col">
                    <div class="slds-truncate slds-text-align--center">
                        <system-label label="LBL_UNREAD"></system-label>
                    </div>
                </th>
                <th scope="col">
                    <div class="slds-truncate slds-text-align--center">
                        <system-label label="LBL_READ"></system-label>
                    </div>
                </th>
            </tr>
            </thead>
            <tbody *ngIf="!isLoading && mailboxes.length > 0">
            <tr *ngFor="let mailbox of mailboxes; trackBy: trackByFn" style="cursor: pointer" (click)="goToRecord(mailbox.id)">
                <td class="slds-truncate" style="min-width: 120px">
                    <div class="slds-truncate slds-p-vertical--xxx-small slds-align--absolute-center" style="width: fit-content;height: fit-content;">
                        {{mailbox.name}}
                    </div>
                </td>
                <td class="slds-truncate" style="min-width: 100px">
                    <div [ngClass]="mailbox?.emailsunread > 0 ? 'slds-badge slds-theme--success' : ''" [class.slds-p-horizontal--xx-small]="mailbox?.emailsunread > 9"
                         class="slds-truncate slds-p-vertical--xxx-small slds-align--absolute-center" style="border-radius: 50%;width: fit-content;height: fit-content;">
                        {{mailbox.emailsunread}}
                    </div>
                </td>
                <td class="slds-truncate" style="min-width: 100px">
                    <div class="slds-truncate slds-p-vertical--xxx-small slds-align--absolute-center" style="width: fit-content;height: fit-content;">
                        {{mailbox.emailsread}}
                    </div>
                </td>
            </tr>
            </tbody>
            <tbody *ngIf="isLoading" system-table-stencils [columns]="3"></tbody>
        </table>
    </div>
</div>
