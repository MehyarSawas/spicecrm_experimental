<div class="slds-p-around--medium slds-theme--shade">
    <div class="slds-page-header__row">
        <div class="slds-page-header__col-title">
            <div class="slds-media">
                <system-icon icon="settings"></system-icon>
                <div class="slds-media__body">
                    <div class="slds-page-header__name">
                        <div class="slds-page-header__name-title">
                            <h1>
                                <span class="slds-page-header__title slds-truncate"><system-label label="LBL_GENERAL_SETTINGS"></system-label></span>
                            </h1>
                        </div>
                    </div>
                    <p class="slds-page-header__name-meta"><ng-content></ng-content></p>
                </div>
            </div>
        </div>
        <button class="slds-button slds-button--neutral" (click)="save()"><system-label label="LBL_SAVE"></system-label></button>
    </div>
</div>
<div class="slds-theme--default slds-p-around--xx-small">
    <div class="slds-section slds-is-open">
        <h3 class="slds-section__title">
            <button aria-expanded="true" class="slds-button slds-section__title-action">
                <span class="slds-truncate"><system-label label="LBL_GENERAL_SETTINGS"></system-label></span>
            </button>
        </h3>
        <div class="slds-section__content">
            <div class="slds-grid slds-m-vertical--xx-small slds-grid--align-spread">
                <div class="slds-form-element__control slds-size--1-of-1 slds-p-around--x-small">
                    <system-label label="LBL_NAME"></system-label>
                    <system-input-text autocomplete="off" [(ngModel)]="settings.system.name"></system-input-text>
                </div>
            </div>
            <div class="slds-grid slds-m-vertical--xx-small slds-grid--align-spread">
                <div class="slds-form-element__control slds-size--1-of-1 slds-p-around--x-small">
                    <system-label label="LBL_SITE_URL"></system-label>
                    <system-input-text autocomplete="off" [(ngModel)]="settings.system.site_url"></system-input-text>
                </div>
            </div>
            <div class="slds-grid slds-m-vertical--xx-small slds-grid--align-spread">
                <div class="slds-form-element__control slds-size--1-of-1 slds-p-around--x-small">
                    <system-label label="LBL_UNIQUE_KEY"></system-label>
                    <system-input-text [disabled]="true" autocomplete="off" [(ngModel)]="settings.system.unique_key"></system-input-text>
                </div>
            </div>
        </div>
    </div>
    <div class="slds-section slds-is-open">
        <h3 class="slds-section__title">
            <button aria-expanded="true" class="slds-button slds-section__title-action">
                <span class="slds-truncate"><system-label label="LBL_ADVANCED_SETTINGS"></system-label></span>
            </button>
        </h3>
        <div class="slds-section__content">
            <div class="slds-grid slds-m-vertical--xx-small slds-grid--align-spread">
                <div class="slds-p-around--x-small slds-size--1-of-2">
                    <div class="slds-form-element">
                        <label class="slds-form-element__label"><system-label label="LBL_DEVELOPER_MODE"></system-label></label>
                        <div class="slds-form-element__control">
                            <div class="slds-select_container">
                                <select class="slds-select" [(ngModel)]="settings.advanced.developerMode">
                                    <option value="0">off</option>
                                    <option value="1">on</option>
                                    <option value="2">on Request</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="slds-form-element__control slds-size--1-of-2 slds-truncate slds-p-around--x-small">
                    <system-label label="LBL_STACKTRACE"></system-label>
                    <div class="slds-p-vertical--xx-small">
                        <system-checkbox [(ngModel)]="settings.advanced.stack_trace_errors"></system-checkbox>
                    </div>
                </div>
                <!--div class="slds-form-element__control slds-size--1-of-6 slds-truncate slds-p-around--x-small">
                    <system-label label="LBL_LOG_SLOW_QUERIES"></system-label>
                    <div class="slds-p-vertical--xx-small">
                        <system-checkbox [(ngModel)]="settings.advanced.dump_slow_queries"></system-checkbox>
                    </div>
                </div-->

            </div>
            <div class="slds-grid slds-m-vertical--xx-small slds-grid--align-spread">
                <div class="slds-form-element__control slds-size--1-of-2 slds-p-around--x-small">
                    <system-label label="LBL_MAXIMUM_UPLOAD_SIZE"></system-label>
                    <system-input-integer [(ngModel)]="settings.advanced.upload_maxsize"></system-input-integer>
                </div>
                <div class="slds-form-element__control slds-size--1-of-2 slds-p-around--x-small">
                    <system-label label="LBL_EXPORT_LINES"></system-label>
                    <system-input-integer [disabled]="true" [(ngModel)]="settings.advanced.maximum_export_lines"></system-input-integer>
                </div>
            </div>
        </div>
    </div><div class="slds-section slds-is-open">
        <h3 class="slds-section__title">
            <button aria-expanded="true" class="slds-button slds-section__title-action">
                <span class="slds-truncate"><system-label label="LBL_CACHE"></system-label></span>
            </button>
        </h3>
        <div class="slds-section__content">
            <div class="slds-grid slds-m-vertical--xx-small slds-grid--align-spread">
                <div class="slds-p-around--x-small slds-size--1-of-2">
                    <div class="slds-form-element">
                        <label class="slds-form-element__label"><system-label label="LBL_CACHE_TYPE"></system-label></label>
                        <div class="slds-form-element__control">
                            <div class="slds-select_container">
                                <select class="slds-select" [(ngModel)]="settings.cache.class">
                                    <option value="SpiceCacheFile">File</option>
                                    <option value="SpiceCacheRedis">Redis</option>
                                    <option value="SpiceCacheMemcached">Memcached</option>
                                    <option value="SpiceCacheMemory">Memoryt</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="slds-form-element__control slds-size--1-of-2 slds-truncate slds-p-around--x-small">
                    <system-label label="LBL_DISABLE_EXTERNAL_CACHE"></system-label>
                    <div class="slds-p-vertical--xx-small">
                        <system-checkbox [(ngModel)]="settings.cache.external_cache_disabled"><system-label label="LBL_CACHE_DISABLED"></system-label></system-checkbox>
                    </div>
                </div>
            </div>
            <div *ngIf="settings.cache.class == 'SpiceCacheFile'" class="slds-grid slds-m-vertical--xx-small slds-grid--align-spread">
                <div class="slds-p-around--x-small slds-size--1-of-2">
                    <system-label label="LBL_FILE_LOCTATION"></system-label>
                    <div class="slds-form-element__control">
                        <div class="slds-select_container">
                            <select class="slds-select" [(ngModel)]="settings.cache.file_location">
                                <option value="cache">./cache</option>
                                <option value="systemdir">System Temp Dir</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="slds-p-around--x-small slds-size--1-of-2">
                    <div class="slds-grid slds-grid_vertical">
                        <system-label label="LBL_FILE_NAME"></system-label>
                        <system-checkbox class="slds-p-vertical--xx-small" [(ngModel)]="settings.cache.file_transparentnames"><system-label label="LBL_TRANSPARENT_FILENAMES"></system-label></system-checkbox>
                    </div>
                </div>
            </div>
            <div *ngIf="settings.cache.class == 'SpiceCacheRedis'" class="slds-grid slds-m-vertical--xx-small slds-grid--align-spread">
                <div class="slds-p-around--x-small slds-size--1-of-2">
                    <system-label label="LBL_REDIS_HOST"></system-label>
                    <system-input-text autocomplete="off" [(ngModel)]="settings.cache.redis_host"></system-input-text>
                </div>
                <div class="slds-p-around--x-small slds-size--1-of-2">
                    <system-label label="LBL_REDIS_PORT"></system-label>
                    <system-input-integer autocomplete="off" [(ngModel)]="settings.cache.redis_port"></system-input-integer>
                </div>
            </div>
            <div *ngIf="settings.cache.class == 'SpiceCacheMemcached'" class="slds-grid slds-m-vertical--xx-small slds-grid--align-spread">
                <div class="slds-p-around--x-small slds-size--1-of-2">
                    <system-label label="LBL_MEMCACHED_HOST"></system-label>
                    <system-input-text autocomplete="off" [(ngModel)]="settings.cache.memcached_host"></system-input-text>
                </div>
                <div class="slds-p-around--x-small slds-size--1-of-2">
                    <system-label label="LBL_MEMCACHED_PORT"></system-label>
                    <system-input-integer autocomplete="off" [(ngModel)]="settings.cache.memcached_port"></system-input-integer>
                </div>
            </div>
        </div>
    </div>
    <div class="slds-section slds-is-open">
        <h3 class="slds-section__title">
            <button aria-expanded="true" class="slds-button slds-section__title-action">
                <span class="slds-truncate"><system-label label="LBL_LOGGER_SETTINGS"></system-label></span>
            </button>
        </h3>
        <div class="slds-section__content">
            <div class="slds-grid slds-m-vertical--xx-small">
                <div class="slds-size--1-of-2">
                    <div>
                        <system-label label="LBL_LOGFILE_NAME"></system-label>
                        <div class="slds-grid slds-p-around--x-small">
                            <div class="slds-form-element__control slds-size--5-of-6 slds-p-right--x-small">
                                <system-input-text autocomplete="off" [(ngModel)]="settings.logger.file_name"></system-input-text>
                            </div>
                            <div class="slds-form-element__control slds-size--1-of-6 slds-p-left--x-small">
                                <system-input-text autocomplete="off" [(ngModel)]="settings.logger.file_ext"></system-input-text>
                            </div>
                        </div>
                    </div>
                    <div class="slds-grid">
                        <div class="slds-form-element__control slds-size--1-of-2 slds-p-around--x-small">
                            <system-label label="LBL_LOGFILE_MAX_SIZE"></system-label>
                            <div class="slds-grid slds-grid--vertical-align-center">
                                <system-input-integer class="slds-grow" autocomplete="off" [(ngModel)]="loggerMaxSize"></system-input-integer>
                                <div class="slds-p-left--x-small">MB</div>
                            </div>
                        </div>
                        <div class="slds-form-element__control slds-size--1-of-2 slds-p-around--x-small">
                            <system-label label="LBL_LOGFILE_MAX_NUMBER"></system-label>
                            <system-input-integer autocomplete="off" [(ngModel)]="settings.logger.file_maxlogs"></system-input-integer>
                        </div>
                    </div>
                    <div class="slds-form-element__control slds-size--1-of-1 slds-p-around--x-small">
                        <system-label label="LBL_SLOW_QUERYTIME_TRESHHOLD"></system-label>
                        <system-input-integer [(ngModel)]="settings.advanced.slow_query_time_msec"></system-input-integer>
                    </div>
                </div>
                <div class="slds-size--1-of-2 slds-grid slds-grid--vertical">
                    <div class="slds-form-element__control slds-size--1-of-1 slds-p-around--x-small">
                        <system-label label="LBL_LOGFILE_LEVEL"></system-label>
                        <system-checkbox-group [(ngModel)]="loglevels" class="slds-grid slds-wrap">
                            <system-checkbox-group-checkbox value="debug" class="slds-size--1-of-2 slds-p-vertical--xxx-small"><system-label label="LBL_LOGLEVEL_DEBUG"></system-label></system-checkbox-group-checkbox>
                            <system-checkbox-group-checkbox value="info" class="slds-size--1-of-2 slds-p-vertical--xxx-small"><system-label label="LBL_LOGLEVEL_INFO"></system-label></system-checkbox-group-checkbox>
                            <system-checkbox-group-checkbox value="error" class="slds-size--1-of-2 slds-p-vertical--xxx-small"><system-label label="LBL_LOGLEVEL_ERROR"></system-label></system-checkbox-group-checkbox>
                            <system-checkbox-group-checkbox value="warn" class="slds-size--1-of-2 slds-p-vertical--xxx-small"><system-label label="LBL_LOGLEVEL_WARN"></system-label></system-checkbox-group-checkbox>
                            <system-checkbox-group-checkbox value="security" class="slds-size--1-of-2 slds-p-vertical--xxx-small"><system-label label="LBL_LOGLEVEL_SECURITY"></system-label></system-checkbox-group-checkbox>
                            <system-checkbox-group-checkbox value="fatal" class="slds-size--1-of-2 slds-p-vertical--xxx-small"><system-label label="LBL_LOGLEVEL_FATAL"></system-label></system-checkbox-group-checkbox>
                            <system-checkbox-group-checkbox value="sql" class="slds-size--1-of-2 slds-p-vertical--xxx-small"><system-label label="LBL_LOGLEVEL_SQL"></system-label></system-checkbox-group-checkbox>
                            <system-checkbox-group-checkbox value="slowsql" class="slds-size--1-of-2 slds-p-vertical--xxx-small"><system-label label="LBL_LOGLEVEL_SLOWSQL"></system-label></system-checkbox-group-checkbox>
                            <system-checkbox-group-checkbox value="developer" class="slds-size--1-of-2 slds-p-vertical--xxx-small"><system-label label="LBL_LOGLEVEL_DEVELOPER"></system-label></system-checkbox-group-checkbox>
                        </system-checkbox-group>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
