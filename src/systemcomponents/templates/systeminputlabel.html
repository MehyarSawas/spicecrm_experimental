<div class="slds-combobox_container">
    <div class="slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click " [ngClass]="{'slds-is-open': isOpen}" role="combobox">
        <div *ngIf="label" class="slds-form-element__control">
            <div class="slds-pill_container">
              <span class="slds-pill slds-size--1-of-1 slds-p-horizontal--xx-small" [ngClass]="{'slds-theme--shade': _disabled}">
                <span class="slds-pill__label"><system-label [label]="label"></system-label>&nbsp;({{label}})</span>
                <button *ngIf="!_disabled" class="slds-button slds-button--icon slds-pill__remove" (click)="clearField()">
                  <system-button-icon [icon]="'close'"></system-button-icon>
                </button>
              </span>
            </div>
        </div>
        <div *ngIf="!label" class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right">
            <input [disabled]="_disabled" type="search" class="slds-input slds-combobox__input" [(ngModel)]="searchterm" (keyup)="keyup($event)" (blur)="onBlur()" system-placeholder="LBL_SEARCH" role="combobox"/>
        </div>
        <div class="slds-dropdown slds-dropdown_fluid slds-dropdown--length-7" role="listbox">
            <ul class="slds-listbox slds-listbox_vertical" role="presentation">
                <li *ngFor="let foundlabel of foundlabels" role="presentation" class="slds-listbox__item" (mousedown)="selectLabel(foundlabel.label)">
                    <div class="slds-media slds-listbox__option slds-listbox__option_plain" role="option">
                          <span class="slds-truncate">{{foundlabel.label}} [{{foundlabel.translation}}]</span>
                    </div>
                </li>
                <li class="slds-listbox__item slds-border_top slds-p-vertical--xx-small" role="presentation" (mousedown)="addLabel()">
                    <button class="slds-button slds-button--icon slds-align_absolute-center"><system-utility-icon [icon]="'add'" [size]="'x-small'"></system-utility-icon></button>
                </li>
            </ul>
        </div>
    </div>
</div>
