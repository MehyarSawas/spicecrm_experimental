<div class="slds-p-around--x-small slds-height_full" [system-overlay-loading-spinner]="searching">
    <div class="slds-form-element slds-grid slds-grid--vertical-align-center slds-grid--align-spread">
        <div system-dropdown-trigger-simple class="slds-dropdown-trigger slds-dropdown-trigger_click">
            <button class="slds-button slds-button--icon-border slds-m-right--xx-small" [title]="moduleTitle">
                <system-icon size="small" divClass="" *ngIf="_searchmodule != 'all'" [module]="_searchmodule"></system-icon>
                <system-utility-icon size="x-small" *ngIf="_searchmodule == 'all'" icon="world"></system-utility-icon>
            </button>
            <div class="slds-dropdown slds-dropdown_left">
                <ul class="slds-listbox slds-listbox_vertical" role="group">
                    <li role="presentation" class="slds-listbox__item" (click)="searchmodule = 'all'">
                        <div class="slds-media slds-listbox__option slds-listbox__option_plain slds-media_small" role="option">
                            <div class="slds-media__figure slds-listbox__option-icon">
                                <system-utility-icon icon="check" size="x-small" *ngIf="'all' == _searchmodule"></system-utility-icon>
                            </div>
                            <div class="slds-media__body">
                                <div class="slds-truncate"><system-label label="LBL_ALL"></system-label></div>
                            </div>
                        </div>
                    </li>
                    <li *ngFor="let searchModule of searchmodules" role="presentation" (click)="searchmodule = searchModule" class="slds-listbox__item">
                        <div class="slds-media slds-listbox__option slds-listbox__option_plain slds-media_small"
                             role="option">
                            <div class="slds-media__figure slds-listbox__option-icon">
                                <system-utility-icon  icon="check" size="x-small" *ngIf="searchModule == _searchmodule"></system-utility-icon>
                            </div>
                            <div class="slds-media__body">
                                <div class="slds-truncate"><system-label-modulename [module]="searchModule"></system-label-modulename></div>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
        <div class="slds-grow slds-form-element__control">
            <input type="text" id="search-term" autoComplete="off" [placeholder]="language.getLabel('LBL_SEARCH_SPICE')" class="slds-input" [(ngModel)]="this.searchTerm" (keyup)="search($event)"/>
        </div>
    </div>
    <div class="slds-border--bottom slds-p-horizontal--x-small slds-p-top--xx-small">
        <system-checkbox [(ngModel)]="selectAll" [indeterminate]="groupware.archiveto?.length > 0 && beans?.length != groupware.archiveto?.length">
            <system-label label="LBL_SELECT_ALL"></system-label>
        </system-checkbox>
    </div>
    <div class="slds-p-vertical--small" system-to-bottom>
        <groupware-pane-bean *ngFor="let bean of beans" [bean]="bean" [system-model-provider]="{module: bean.module, id: bean.id, data: bean.data}"></groupware-pane-bean>
    </div>
</div>
