<div *ngIf="taggingEnabled" class="slds-show--medium slds-p-top--xx-small">
    <system-stencil *ngIf="model.isLoading; else displayContent"></system-stencil>
    <ng-template #displayContent>
        <div class="slds-grid slds-grid--vertical-align-center">
            <div class="slds-p-right--xx-small slds-grid slds-gutters_direct-xxx-small" *ngIf="objecttags.length">
                <div *ngFor="let tag of objecttags;let i=index" class="slds-col">
                    <span class="slds-badge slds-badge_lightest">
                        {{tag}}
                        <span *ngIf="isEditing" class="slds-badge__icon slds-badge__icon_right" (click)="removeByIndex(i)">
                            <system-utility-icon icon="close" size="xx-small"></system-utility-icon>
                        </span>
                    </span>
                </div>
            </div>
            <div *ngIf="objecttags.length == 0 && !isEditing" class="slds-p-right--xx-small">
                <div style="font-style:italic"><system-label label="LBL_NO_TAGS_ASSIGNED"></system-label></div>
            </div>
            <div *ngIf="!isEditing && canEdit">
                <button class="slds-button slds-button_icon" (click)="editTags()">
                    <system-button-icon [icon]="'edit'"></system-button-icon>
                </button>
            </div>
            <div *ngIf="isEditing" class="slds-grid slds-grow">
                <div class="slds-form-element slds-grow">
                    <system-input-tags (tagemitter)="addTag($event)"></system-input-tags>
                </div>
                <button class="slds-p-left--xx-small slds-button slds-button_icon" (click)="cancelEdit()">
                    <system-button-icon [icon]="'close'"></system-button-icon>
                </button>
                <button class="slds-button slds-button_icon" (click)="saveTags()">
                    <system-button-icon [icon]="'check'"></system-button-icon>
                </button>
            </div>
        </div>
    </ng-template>
</div>
