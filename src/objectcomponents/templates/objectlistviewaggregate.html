<div class="slds-filters__item slds-p-horizontal--small slds-p-vertical--xx-small">
    <div class="slds-p-vertical--xx-small slds-grid slds-grid--vertical-align-center slds-grid--align-spread" (click)="toggleCollapsed()">
        <div class="slds-grid">
            <ul class="slds-list_horizontal slds-has-dividers_right">
                <li class="slds-item" *ngFor="let aggregateNameItem of aggregateNameItems">{{aggregateNameItem}}</li>
            </ul>
            <div class="slds-p-left--xx-small" *ngIf="collapsed && checkdCount>0">({{checkdCount}} <system-label label="LBL_SELECTED"></system-label>)</div>
        </div>
        <system-utility-icon [icon]="collapsed? 'down' : 'up'" size="x-small"></system-utility-icon>
    </div>
    <ng-container *ngIf="!collapsed">
        <div class="slds-form-element" *ngFor="let bucketItem of aggregateBuckets">
            <object-listview-aggregate-item  [bucketitem]="bucketItem" [aggregate]="aggregate" class="slds-form-element__control"></object-listview-aggregate-item >
        </div>
        <div *ngIf="aggregateBucketCount > aggregateDefaultItems || otherDocCount > 0" class="slds-grid slds-grid--vertical-align-center slds-grid--align-spread slds-p-top--xx-small">
            <div>
                <a *ngIf="aggregateBucketCount > aggregateDefaultItems" class="slds-text-body--small" href="javascript:void(0);" (click)="showall = !showall">
                    <system-label [label]="showall ? 'LBL_LESS': 'LBL_MORE'"></system-label>
                    <span *ngIf="!showall"> (+{{aggregateBucketCount - 5}})</span>
                </a>
            </div>
            <div>
                <p *ngIf="otherDocCount > 0" class="slds-text-body--small slds-text-color--weak">{{otherDocCount}} <system-label label="LBL_ARE_NOT_INCLUDED"></system-label>...</p>
            </div>
        </div>
    </ng-container>
</div>