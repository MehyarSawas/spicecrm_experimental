"use strict";var __extends=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var r in o)o.hasOwnProperty(r)&&(t[r]=o[r])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();Object.defineProperty(exports,"__esModule",{value:!0});var Subscriber_1=require("../Subscriber"),noop_1=require("../util/noop"),isFunction_1=require("../util/isFunction");function tap(o,r,e){return function(t){return t.lift(new DoOperator(o,r,e))}}exports.tap=tap;var DoOperator=function(){function t(t,o,r){this.nextOrObserver=t,this.error=o,this.complete=r}return t.prototype.call=function(t,o){return o.subscribe(new TapSubscriber(t,this.nextOrObserver,this.error,this.complete))},t}(),TapSubscriber=function(n){function t(t,o,r,e){t=n.call(this,t)||this;return t._tapNext=noop_1.noop,t._tapError=noop_1.noop,t._tapComplete=noop_1.noop,t._tapError=r||noop_1.noop,t._tapComplete=e||noop_1.noop,isFunction_1.isFunction(o)?(t._context=t)._tapNext=o:o&&(t._context=o,t._tapNext=o.next||noop_1.noop,t._tapError=o.error||noop_1.noop,t._tapComplete=o.complete||noop_1.noop),t}return __extends(t,n),t.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},t.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},t}(Subscriber_1.Subscriber);