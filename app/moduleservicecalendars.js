/*!
 * 
 *                     aacService
 *
 *                     release: 2022.01.001
 *
 *                     date: 2022-04-13 22:38:49
 *
 *                     build: 2022.01.001.1649882329485
 *
 */
"use strict";(self.webpackChunkcore=self.webpackChunkcore||[]).push([["src_modules_servicecalendars_moduleservicecalendars_ts"],{6167:(e,t,s)=>{s.r(t),s.d(t,{ModuleServiceCalendars:()=>q});var i=s(9808),a=s(2382),l=s(9769),d=s(1549),n=s(1706),r=s(4518),o=s(6472),c=s(5710),m=s(2644),u=s(4893),v=s(5329),C=s(4154),h=s(3333),f=s(2656),g=s(3463),p=s(3194),b=s(3814),S=s(7763),Z=s(586),_=s(6040),y=s(1058),k=s(7588);let T=(()=>{class ServiceCalendarTime{constructor(e,t,s,i){this.language=e,this.model=t,this.metadata=s,this.relatedmodels=i,this.relatedmodels.module="ServiceCalendars",this.relatedmodels.relatedModule="ServiceCalendarTimes",this.relatedmodels.linkName="servicecalendartimes",this.relatedmodels.loaditems=1e3,this.componentconfig=this.metadata.getComponentConfig("ServiceCalendars","ServiceCalendars"),this.listfields=this.metadata.getFieldSetFields(this.componentconfig.fieldset)}ngOnChanges(e){this.relatedmodels.id=this.calendarid,this.relatedmodels.resetData(),this.relatedmodels.getData().subscribe((e=>{this.relatedmodels.items.sort(((e,t)=>e.dayofweek==t.dayofweek?e.timestart>t.timestart?1:-1:e.dayofweek>t.dayofweek?1:-1))}))}}return ServiceCalendarTime.ɵfac=function(e){return new(e||ServiceCalendarTime)(u.Y36(v.d),u.Y36(c.o),u.Y36(C.Pu),u.Y36(_.j))},ServiceCalendarTime.ɵcmp=u.Xpm({type:ServiceCalendarTime,selectors:[["service-calendar-time"]],inputs:{calendarid:"calendarid"},features:[u._Bn([_.j]),u.TTD],decls:2,vars:2,consts:[["system-to-bottom",""],[3,"listfields","listitemactionset"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u._UZ(1,"object-relatedlist-table",1),u.qZA()),2&e&&(u.xp6(1),u.Q6J("listfields",t.listfields)("listitemactionset",t.componentconfig.actionset))},directives:[y.H,k.K],encapsulation:2}),ServiceCalendarTime})();const x=function(e){return{"slds-theme--inverse":e}},J=function(e){return{module:"ServiceCalendars",data:e}};function M(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",15),u.NdJ("click",(function(){const t=u.CHM(e).$implicit;return u.oxw().activeCalendar=t.id})),u.TgZ(1,"div",16)(2,"span"),u._uU(3),u.qZA(),u._UZ(4,"object-action-menu",17),u.qZA()()}if(2&e){const e=t.$implicit,s=u.oxw();u.Q6J("ngClass",u.VKq(5,x,e.id==s.activeCalendar)),u.xp6(1),u.Q6J("system-model-provider",u.VKq(7,J,e)),u.xp6(2),u.Oqu(e.name),u.xp6(1),u.Q6J("buttonsize","x-small")("actionset",s.actionset)}}function w(e,t){if(1&e&&u._UZ(0,"service-calendar-time",18),2&e){const e=u.oxw();u.Q6J("calendarid",e.activeCalendar)}}let A=(()=>{class ServiceCalendars{constructor(e,t,s,i){this.language=e,this.modellist=t,this.model=s,this.metadata=i;let a=this.metadata.getComponentConfig("ServiceCalendars","ServiceCalendars");this.actionset=a.actionset}ngOnInit(){this.modellist.initialize("ServiceCalendars"),this.modellist.getListData()}refresh(){this.activeCalendar=void 0,this.modellist.reLoadList()}set activeCalendar(e){this._activeCalendarID=e}get activeCalendar(){return this._activeCalendarID}addCalendar(){this.model.module="ServiceCalendars",this.model.id="",this.model.initialize(),this.model.addModel()}addDay(){this.model.module="ServiceCalendarTimes",this.model.id="",this.model.initialize(),this.model.addModel(null,null,{servicecalendar_id:this.activeCalendar})}}return ServiceCalendars.ɵfac=function(e){return new(e||ServiceCalendars)(u.Y36(v.d),u.Y36(m.t),u.Y36(c.o),u.Y36(C.Pu))},ServiceCalendars.ɵcmp=u.Xpm({type:ServiceCalendars,selectors:[["service-calendars"]],features:[u._Bn([m.t,c.o])],decls:17,vars:3,consts:[[1,"slds-grid","slds-grid_vertical-align-center","slds-grid--align-spread","slds-p-around--small"],[1,"slds-text-heading_medium"],["module","ServiceCalendars"],[1,"slds-grid"],[1,"slds-button","slds-button--neutral",3,"click"],["icon","add"],["label","LBL_CALENDAR"],[1,"slds-button","slds-button--neutral",3,"disabled","click"],["label","LBL_DAY"],[1,"slds-button","slds-button_icon","slds-button_icon-border-filled",3,"click"],["icon","refresh"],["system-to-bottom-noscroll","","system-view-provider","",1,"slds-size--1-of-4","slds-theme--default"],["class","slds-box--border slds-m-around--xx-small",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"slds-size--3-of-4","slds-border--left","slds-theme--shade"],[3,"calendarid",4,"ngIf"],[1,"slds-box--border","slds-m-around--xx-small",3,"ngClass","click"],[1,"slds-p-around--x-small","slds-grid","slds-grid--vertical-align-center","slds-grid--align-spread",3,"system-model-provider"],[3,"buttonsize","actionset"],[3,"calendarid"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0)(1,"h2",1),u._UZ(2,"system-label-modulename",2),u.qZA(),u.TgZ(3,"div",3)(4,"button",4),u.NdJ("click",(function(){return t.addCalendar()})),u._UZ(5,"system-button-icon",5)(6,"system-label",6),u.qZA(),u.TgZ(7,"button",7),u.NdJ("click",(function(){return t.addDay()})),u._UZ(8,"system-button-icon",5)(9,"system-label",8),u.qZA(),u.TgZ(10,"button",9),u.NdJ("click",(function(){return t.refresh()})),u._UZ(11,"system-button-icon",10),u.qZA()()(),u.TgZ(12,"div",3)(13,"div",11),u.YNc(14,M,5,9,"div",12),u.qZA(),u.TgZ(15,"div",13),u.YNc(16,w,1,1,"service-calendar-time",14),u.qZA()()),2&e&&(u.xp6(7),u.Q6J("disabled",!t.activeCalendar),u.xp6(7),u.Q6J("ngForOf",t.modellist.listData.list),u.xp6(2),u.Q6J("ngIf",t.activeCalendar))},directives:[h.M,f.J,g._,p.t,b.V,i.sg,i.mk,S.u,Z.g,i.O5,T],encapsulation:2}),ServiceCalendars})(),q=(()=>{class ModuleServiceCalendars{}return ModuleServiceCalendars.ɵfac=function(e){return new(e||ModuleServiceCalendars)},ModuleServiceCalendars.ɵmod=u.oAB({type:ModuleServiceCalendars}),ModuleServiceCalendars.ɵinj=u.cJS({imports:[[i.ez,a.u5,d.ObjectFields,n.GlobalComponents,r.ObjectComponents,o.SystemComponents,l.o]]}),ModuleServiceCalendars})();("undefined"==typeof ngJitMode||ngJitMode)&&u.kYT(q,{declarations:[A,T],imports:[i.ez,a.u5,d.ObjectFields,n.GlobalComponents,r.ObjectComponents,o.SystemComponents,l.o]})}}]);