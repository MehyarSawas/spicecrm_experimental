/*!
 * 
 *                     aacService
 *
 *                     release: 2023.01.001
 *
 *                     date: 2023-08-14 15:14:26
 *
 *                     build: 2023.01.001.1692018866666
 *
 */
"use strict";(self.webpackChunkcore=self.webpackChunkcore||[]).push([["src_modules_prospectlists_moduleprospectlists_ts"],{3768:(e,s,t)=>{t.r(s),t.d(s,{ModuleProspectLists:()=>N});var l=t(6895),o=t(433),i=t(4357),d=t(3190),a=t(4826),n=t(6490),r=t(3735),c=t(5710),m=t(6349),u=t(1571),p=t(5329),g=t(4044),L=t(4505),b=t(1933),h=t(3278),_=t(7514),M=t(4561),f=t(3463),T=t(3333),Z=t(9621),A=t(3499),C=t(5767),v=t(1916);function P(e,s){if(1&e){const e=u.EpF();u.TgZ(0,"div",24)(1,"div",25)(2,"div")(3,"system-checkbox",26),u.NdJ("ngModelChange",(function(s){const t=u.CHM(e).$implicit;return u.KtG(t.selected=s)})),u.qZA()(),u.TgZ(4,"div"),u._UZ(5,"system-icon",27),u.qZA(),u.TgZ(6,"div",28),u._UZ(7,"system-label-modulename",29),u.qZA(),u.TgZ(8,"div",28),u._uU(9),u.qZA()(),u.TgZ(10,"div",13)(11,"div",30)(12,"system-checkbox",26),u.NdJ("ngModelChange",(function(s){const t=u.CHM(e).$implicit;return u.KtG(t.inclRejGDPR=s)})),u.qZA()()(),u.TgZ(13,"div",13)(14,"div",30)(15,"system-checkbox",26),u.NdJ("ngModelChange",(function(s){const t=u.CHM(e).$implicit;return u.KtG(t.inclInactive=s)})),u.qZA()()()()}if(2&e){const e=s.$implicit;u.Q6J("ngClass",0==e.bean_count?"slds-text-color--inverse-weak":"slds-text-color_default"),u.xp6(3),u.Q6J("ngModel",e.selected)("disabled",0==e.bean_count),u.xp6(2),u.Q6J("module",e.module),u.xp6(2),u.Q6J("module",e.module),u.xp6(2),u.hij("(",e.bean_count,")"),u.xp6(3),u.Q6J("ngModel",e.inclRejGDPR)("disabled",0==e.bean_count||!e.selected),u.xp6(3),u.Q6J("ngModel",e.inclInactive)("disabled",0==e.bean_count||!e.selected)}}let y=(()=>{class ProspectListsCreateTargetListFromModuleModal{constructor(e,s,t,l,o,i){this.language=e,this.model=s,this.modal=t,this.backend=l,this.router=o,this.toast=i,this.prospectListName="",this.self={},this.result={},this.beans=[],this.checkedCount=0,this.model.initialize()}ngOnInit(){this.beans=m.ZP.toArray(this.result.modules),this.beans.sort(((e,s)=>e.sort_order&&s.sort_order?e.sort_order>s.sort_order?1:-1:e.module>s.module?1:-1))}closeModal(){this.self.destroy()}get canAdd(){return this.beans.filter((e=>e.selected)).length>0}add(e=!1){if(this.prospectListName){const s=this.modal.await("LBL_SAVING_DATA");let t=this.beans.filter((e=>e.selected)).map((e=>({module:e.module,link_names:e.link_names,inclRejGDPR:e.inclRejGDPR,inclInactive:e.inclInactive})));this.backend.postRequest("module/ProspectLists/fromModule",{},{prospectListName:this.prospectListName,data:t,parentBeanId:this.parentBeanId,parentModule:this.parentModule}).subscribe({next:t=>{e?this.router.navigate(["/module/ProspectLists/"+t.prospectlistid]):this.toast.sendToast(this.language.getLabel("LBL_DATA_SAVED"),"success"),s.emit(!0),s.complete()},error:()=>{s.emit(!0),this.toast.sendToast(this.language.getLabel("ERR_FAILED_TO_EXECUTE"),"error")}}),this.closeModal()}else this.toast.sendToast(this.language.getLabel("LBL_ENTER_NAME"),"error")}}return ProspectListsCreateTargetListFromModuleModal.ɵfac=function(e){return new(e||ProspectListsCreateTargetListFromModuleModal)(u.Y36(p.d),u.Y36(c.o),u.Y36(g.o),u.Y36(L.y),u.Y36(b.F0),u.Y36(h.A))},ProspectListsCreateTargetListFromModuleModal.ɵcmp=u.Xpm({type:ProspectListsCreateTargetListFromModuleModal,selectors:[["object-create-targetlist-from-module-modal"]],inputs:{prospectListName:"prospectListName"},features:[u._Bn([c.o])],decls:32,vars:4,consts:[["size","medium"],[3,"close"],["label","LBL_SELECT_MODULE"],[1,"slds-form-element"],[1,"slds-form-element","slds-p-bottom--small-small","slds-p-vertical"],[1,"slds-form-element__label"],["title","required",1,"slds-required"],["label","LBL_PROSPECTLIST"],[1,"slds-form-element__control"],["type","text","required","required",1,"slds-input",3,"ngModel","ngModelChange"],[1,"slds-grid","slds-p-top--small","slds-form-element"],[1,"slds-form-element","slds-p-horizontal--small","slds-size_4-of-6"],["label","LBL_MODULE"],[1,"slds-form-element","slds-p-horizontal--small","slds-size_1-of-6"],["label","LBL_SELECT_GDPR_REJECTED"],["label","LBL_SELECT_INACTIVE"],[1,"slds-form-element","slds-p-horizontal"],["class","slds-grid slds-p-vertical--small",3,"ngClass",4,"ngFor","ngForOf"],[1,"slds-grid","slds-grid--vertical-align-center"],[1,"slds-col--bump-left","slds-button","slds-button--neutral",3,"click"],["label","LBL_CANCEL"],[1,"slds-col--bump-left","slds-button","slds-button--brand",3,"disabled","click"],["label","LBL_SAVE"],["label","LBL_SAVE_AND_GO_TO_RECORD"],[1,"slds-grid","slds-p-vertical--small",3,"ngClass"],[1,"slds-grid","slds-form-element","slds-p-horizontal--small","slds-size_4-of-6"],[3,"ngModel","disabled","ngModelChange"],["size","x-small",3,"module"],[1,"slds-p-right--small"],[3,"module"],[1,"slds-size--1-of-2","slds-form-element__control"]],template:function(e,s){1&e&&(u.TgZ(0,"system-modal",0)(1,"system-modal-header",1),u.NdJ("close",(function(){return s.closeModal()})),u._UZ(2,"system-label",2),u.qZA(),u.TgZ(3,"system-modal-content")(4,"div",3)(5,"div",4)(6,"label",5)(7,"abbr",6),u._uU(8,"* "),u.qZA(),u._UZ(9,"system-label",7),u.qZA(),u.TgZ(10,"div",8)(11,"input",9),u.NdJ("ngModelChange",(function(e){return s.prospectListName=e})),u.qZA()()(),u.TgZ(12,"div",10)(13,"div",11)(14,"label",5),u._UZ(15,"system-label",12),u.qZA()(),u.TgZ(16,"div",13)(17,"label",5),u._UZ(18,"system-label",14),u.qZA()(),u.TgZ(19,"div",13)(20,"label",5),u._UZ(21,"system-label",15),u.qZA()()(),u.TgZ(22,"div",16),u.YNc(23,P,16,10,"div",17),u.qZA()()(),u.TgZ(24,"system-modal-footer")(25,"div",18)(26,"button",19),u.NdJ("click",(function(){return s.closeModal()})),u._UZ(27,"system-label",20),u.qZA(),u.TgZ(28,"button",21),u.NdJ("click",(function(){return s.add()})),u._UZ(29,"system-label",22),u.qZA(),u.TgZ(30,"button",21),u.NdJ("click",(function(){return s.add(!0)})),u._UZ(31,"system-label",23),u.qZA()()()()),2&e&&(u.xp6(11),u.Q6J("ngModel",s.prospectListName),u.xp6(12),u.Q6J("ngForOf",s.beans),u.xp6(5),u.Q6J("disabled",!s.canAdd),u.xp6(2),u.Q6J("disabled",!s.canAdd))},dependencies:[l.mk,l.sg,o.Fj,o.JJ,o.Q7,o.On,_.U,M.f,f._,T.M,Z.j,A.x,C.p,v.y],encapsulation:2}),ProspectListsCreateTargetListFromModuleModal})();var E=t(4154);let B=(()=>{class ProspectListsCreateTargetListFromModuleButton{constructor(e,s,t,l,o,i,d){this.language=e,this.metadata=s,this.model=t,this.modal=l,this.backend=o,this.injector=i,this.toast=d,this.actionconfig={},this.beans=[],this.loading=!0,this.disabled=!0}ngOnInit(){this.model.module&&this.metadata.checkModuleAcl("ProspectLists","create")&&(this.disabled=!1)}execute(){const e=this.modal.await(this.language.getLabel("LBL_LOADING"));this.backend.getRequest("module/ProspectLists/getrelated/"+this.model.module+"/"+this.model.id,{modules:this.actionconfig.modules}).subscribe({next:s=>{e.emit(!0),this.beans=s,this.modal.openModal("ProspectListsCreateTargetListFromModuleModal",!0,this.injector).subscribe((e=>{e.instance.result=this.beans,e.instance.parentBeanId=this.model.id,e.instance.parentModule=this.model.module}))},error:()=>{e.emit(!0),this.toast.sendToast(this.language.getLabel("LBL_ERROR_LOADING_DATA"),"error")}})}}return ProspectListsCreateTargetListFromModuleButton.ɵfac=function(e){return new(e||ProspectListsCreateTargetListFromModuleButton)(u.Y36(p.d),u.Y36(E.Pu),u.Y36(c.o),u.Y36(g.o),u.Y36(L.y),u.Y36(u.zs3),u.Y36(h.A))},ProspectListsCreateTargetListFromModuleButton.ɵcmp=u.Xpm({type:ProspectListsCreateTargetListFromModuleButton,selectors:[["prospectlists-create-targetlist-from-module-button"]],decls:2,vars:0,consts:[["label","LBL_TARGETLIST_FROM_MODULE"]],template:function(e,s){1&e&&(u.TgZ(0,"span"),u._UZ(1,"system-label",0),u.qZA())},dependencies:[f._],encapsulation:2}),ProspectListsCreateTargetListFromModuleButton})(),N=(()=>{class ModuleProspectLists{}return ModuleProspectLists.ɵfac=function(e){return new(e||ModuleProspectLists)},ModuleProspectLists.ɵmod=u.oAB({type:ModuleProspectLists}),ModuleProspectLists.ɵinj=u.cJS({imports:[l.ez,o.u5,d.ObjectFields,a.GlobalComponents,n.ObjectComponents,r.SystemComponents,i.o]}),ModuleProspectLists})();("undefined"==typeof ngJitMode||ngJitMode)&&u.kYT(N,{declarations:[y,B],imports:[l.ez,o.u5,d.ObjectFields,a.GlobalComponents,n.ObjectComponents,r.SystemComponents,i.o]})}}]);