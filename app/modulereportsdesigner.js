/*!
 * 
 *                     aacService
 *
 *                     release: 2022.01.001
 *
 *                     date: 2022-04-13 22:53:19
 *
 *                     build: 2022.01.001.1649883199846
 *
 */
"use strict";(self.webpackChunkcore=self.webpackChunkcore||[]).push([["src_modules_reportsdesigner_modulereportsdesigner_ts"],{3158:(e,t,s)=>{s.r(t),s.d(t,{ModuleReportsDesigner:()=>us});var i=s(9808),l=s(2382),n=s(1549),o=s(4518),r=s(6472),a=s(9769),d=s(4800),c=s(4274),g=s(4893),p=s(6625),u=s(4505),m=s(5710),h=s(5329),f=s(4154),b=s(6163);let Z=(()=>{class ReportsDesignerService{constructor(e,t,s,i,l,n,o){this.configurationService=e,this.backend=t,this.cdr=s,this.model=i,this.language=l,this.metadata=n,this.modelUtils=o,this.currentPath={},this.activeModule={},this.operatorCount={},this.operatorTypes={},this.operatorAssignments={},this.expertMode=!0,this.manipulateExpandedItemId="",this.visualizeActiveLayoutItem="",this.visualizeColorTheme=[],this.loadReporterConfig()}get listFields(){return this.model.getField("listfields")}set listFields(e){this.model.setField("listfields",e)}loadPlugins(e){const t=this.metadata.getComponentConfig(e,"KReports");if(t.componentset&&t.componentset.length>0){const e=this.metadata.getComponentSetObjects(t.componentset);if(!e||0==e.length)return;return e.filter((e=>!!e.componentconfig)).map((e=>({name:this.language.getLabel(e.componentconfig.name),id:e.componentconfig.plugin,component:e.componentconfig.component,sequence:e.sequence}))).sort(((e,t)=>isNaN(parseInt(e.sequence,10))||isNaN(parseInt(t.sequence,10))?0:+e.sequence>+t.sequence?1:-1))}}setCurrentPath(e,t){return this.currentPath[e]=t}getCurrentPath(e){return e?this.currentPath[e]:this.activeModule?this.currentPath[this.activeModule.module]:void 0}loadReporterConfig(){let e=this.configurationService.getData("reporterConfig");e?this.setConfigs(e):this.backend.getRequest("module/KReports/core/whereoperators/all").subscribe((e=>{this.configurationService.setData("reporterConfig",e),this.setConfigs(e)}))}loadVisualizationColors(){this.backend.getRequest("module/KReports/core/vizcolors").subscribe((e=>{e&&(this.visualizeColorTheme=e.map((e=>(e.colors=e.colors.split("*"),e))))}))}setConfigs(e){this.operatorCount=e.operatorCount,this.operatorTypes=e.operatorTypes,this.operatorAssignments=e.operatorAssignments}removePlaceHolderElement(e){this.dragPlaceHolderNode&&e.contains(this.dragPlaceHolderNode)&&(e.removeChild(this.dragPlaceHolderNode),this.dragPlaceHolderNode=void 0)}generateGuid(){return"k"+this.modelUtils.generateGuid().replace(/-/g,"")}}return ReportsDesignerService.ɵfac=function(e){return new(e||ReportsDesignerService)(g.LFG(p.C),g.LFG(u.y),g.LFG(g.sBO),g.LFG(m.o),g.LFG(h.d),g.LFG(f.Pu),g.LFG(b.A))},ReportsDesignerService.ɵprov=g.Yz7({token:ReportsDesignerService,factory:ReportsDesignerService.ɵfac}),ReportsDesignerService})();var v=s(4542),L=s(2294),x=s(727),y=s(2480),T=s(4044),C=s(7017),D=s(4561),M=s(3333),A=s(3463),U=s(1058),I=s(2656),J=s(4947),F=s(8859),w=s(2161);function N(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",28)(1,"button",29),g.NdJ("click",(function(){g.CHM(e);const t=g.oxw().$implicit;return g.oxw().deleteUnionModule(t.unionid)})),g._UZ(2,"system-button-icon",30),g.qZA()()}}function q(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"li",23),g.NdJ("click",(function(){const t=g.CHM(e).$implicit;return g.oxw().setActiveModule(t)})),g.TgZ(1,"a",24),g._UZ(2,"system-icon",25),g.TgZ(3,"span",18),g._UZ(4,"system-label-modulename",26),g.qZA()(),g.YNc(5,N,3,0,"div",27),g.qZA()}if(2&e){const e=t.$implicit,s=g.oxw();g.ekj("slds-active",e.unionid==s.activeModule.unionid),g.xp6(2),g.Q6J("module",e.module),g.xp6(2),g.Q6J("module",e.module),g.xp6(1),g.Q6J("ngIf","root"!=e.unionid)}}function R(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",33)(1,"system-module-tree",34),g.NdJ("itemSelected",(function(t){const s=g.CHM(e).$implicit;return g.oxw(2).onItemSelection(t,s.module)})),g.qZA()()}if(2&e){const e=t.$implicit,s=g.oxw(2);g.ekj("slds-hide",s.activeModule.unionid!=e.unionid),g.xp6(1),g.Q6J("module",e.module)}}function k(e,t){if(1&e&&(g.TgZ(0,"div",31),g.YNc(1,R,2,3,"div",32),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngForOf",e.allModules)("ngForTrackBy",e.trackByFn)}}function E(e,t){if(1&e&&(g.TgZ(0,"tr",37)(1,"td",38),g._UZ(2,"system-utility-icon",39),g.qZA(),g.TgZ(3,"td",40)(4,"div",41),g._uU(5),g.qZA()(),g.TgZ(6,"td")(7,"div",41),g._UZ(8,"system-label",42),g.qZA()()()),2&e){const e=t.$implicit,s=g.oxw(2);g.Q6J("cdkDragData",e),g.xp6(4),g.Q6J("title",e.name),g.xp6(1),g.Oqu(e.name),g.xp6(2),g.Q6J("title",s.language.getLabel(e.label)),g.xp6(1),g.Q6J("label",e.label)}}function B(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"tbody",35),g.NdJ("cdkDropListExited",(function(t){g.CHM(e);return g.oxw().dropExited(t)}))("cdkDropListEntered",(function(t){g.CHM(e);return g.oxw().dropEntered(t)})),g.YNc(1,E,9,5,"tr",36),g.qZA()}if(2&e){const e=t.$implicit,s=g.oxw();g.ekj("slds-hide",s.isLoadingModuleFields||s.activeModule.unionid!=e.unionid),g.Q6J("id",e.unionid)("cdkDropListData",s.reportModuleFields[e.module]),g.xp6(1),g.Q6J("ngForOf",s.getFilteredReportFields(s.reportModuleFields[e.module]))("ngForTrackBy",s.trackByFn)}}function O(e,t){1&e&&g._UZ(0,"tbody",43),2&e&&g.Q6J("columns",2)("rows",5)("select",!0)}let S=(()=>{class ReportsDesignerTree{constructor(e,t,s,i,l,n,o,r){this.language=e,this.backend=t,this.model=s,this.modal=i,this.metadata=l,this.cdr=n,this.injector=o,this.reportsDesignerService=r,this.modules=[],this.filterKey="",this.isLoadingModuleFields=!1,this.reportModuleFields={},this.onUnionDelete=new g.vpe,this.onUnionAdd=new g.vpe}get canAdd(){const e=this.model.getField("listfields");return e&&e.length&&e.length>0}get activeModule(){return this.reportsDesignerService.activeModule}get allModules(){return[{module:this.model.getField("report_module"),unionid:"root"},...this.unionModules]}get unionModules(){const e=this.model.getField("union_modules");return e&&e.length?e:[]}onItemSelection(e,t){this.reportsDesignerService.setCurrentPath(t,e.path),this.getModuleFields(e.module,t)}getFilteredReportFields(e){return this.filterKey?e.filter((e=>e.name.toLowerCase().includes(this.filterKey.toLowerCase())||e.label&&this.language.getLabel(e.label).toLowerCase().includes(this.filterKey.toLowerCase()))):e}addUnionModule(){this.modal.openModal("ReportsDesignerSelectModuleModal",!0,this.injector).subscribe((e=>{e.instance.response.subscribe((e=>{if(e){let t=this.model.getField("union_modules");t&&t.length||(t=[]);let s={unionid:this.reportsDesignerService.generateGuid(),module:e.module};t.push(s),this.model.setField("union_modules",t),this.initializeUnionListFields(s.unionid),this.setActiveModule(s)}}))}))}deleteUnionModule(e){this.modal.confirmDeleteRecord().subscribe((t=>{if(t){let t=this.model.getField("union_modules");t=t.filter((t=>t.unionid!=e)),this.model.setField("union_modules",t);const s=t.length>0?t[t.length-1]:{unionid:"root",module:this.model.getField("report_module")};this.setActiveModule(s),this.onUnionDelete.emit(e)}}))}initializeUnionListFields(e){const t=this.model.getField("unionlistfields");let s=this.model.getField("listfields").slice().map((t=>t={fieldid:t.fieldid,joinid:e,path:t.path,displaypath:"",unionfieldpath:"",unionfielddisplaypath:"",unionfieldname:"",unionfielddisplayname:"",name:t.name,fixedvalue:"",id:t.fieldid}));t&&t.length&&t.length>0&&(s=[...t,...s]),this.model.setField("unionlistfields",s)}getModuleFields(e,t){this.reportModuleFields[t]=[],this.isLoadingModuleFields=!0,this.cdr.detectChanges(),this.backend.getRequest("dictionary/browser/"+e+"/fields").subscribe((e=>{this.reportModuleFields[t]=e.filter((e=>"relate"!=e.type&&"non-db"!=e.source)),this.isLoadingModuleFields=!1}))}dropExited(e){let t=document.createElement("tr"),s=document.createElement("td");s.colSpan=10,s.innerHTML="&nbsp;",s.style.background="#fff",t.appendChild(s),this.reportsDesignerService.dragPlaceHolderNode=t;let i=e.container.data.findIndex((t=>t.id==e.item.data.id));i>-1&&e.container.element.nativeElement.insertBefore(t,e.container.element.nativeElement.children[i])}dropEntered(e){this.reportsDesignerService.removePlaceHolderElement(e.container.element.nativeElement)}setActiveModule(e){this.reportsDesignerService.activeModule=e,this.reportsDesignerService.getCurrentPath(e.module)||this.reportsDesignerService.setCurrentPath(e.module,e.module),this.setCurrentUnionListFields(e.unionid)}setCurrentUnionListFields(e){let t=this.model.getField("unionlistfields");t=t&&t.length?t:[],this.onUnionAdd.emit(t.filter((t=>t.joinid==e)))}trackByFn(e,t){return e}}return ReportsDesignerTree.ɵfac=function(e){return new(e||ReportsDesignerTree)(g.Y36(h.d),g.Y36(u.y),g.Y36(m.o),g.Y36(T.o),g.Y36(f.Pu),g.Y36(g.sBO),g.Y36(g.zs3),g.Y36(Z))},ReportsDesignerTree.ɵcmp=g.Xpm({type:ReportsDesignerTree,selectors:[["reports-designer-tree"]],outputs:{onUnionDelete:"onUnionDelete",onUnionAdd:"onUnionAdd"},decls:26,vars:9,consts:[[1,"slds-border--bottom",2,"height","50%"],[1,"slds-tabs--default","slds-grid","slds-grid--vertical",2,"height","100%"],[1,"slds-grid"],["role","tablist",1,"slds-tabs--default__nav","slds-scrollable--x","slds-grow"],["class","slds-tabs--default__item slds-grid slds-grid_vertical-align-center","role","presentation",3,"slds-active","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"slds-p-around--x-small","slds-border--left","slds-border--bottom"],[1,"slds-button","slds-button_icon",3,"disabled","click"],["icon","add"],["class","slds-grow","style","height: 0",4,"ngIf"],[1,"slds-grid","slds-grid--vertical",2,"height","50%"],["role","none",1,"slds-input-has-icon","slds-input-has-icon_left"],["icon","search","addclasses","slds-input__icon slds-input__icon--left"],["type","search",1,"slds-input",3,"placeholder","ngModel","ngModelChange"],[1,"slds-grow","slds-scrollable--y"],[1,"slds-table","slds-table_cell-buffer","slds-table_bordered"],[1,"slds-line-height_reset"],[1,"slds-cell-shrink"],["scope","col"],[1,"slds-truncate"],["label","LBL_FIELD"],["label","LBL_NAME"],["cdkDropList","","cdkDropListSortingDisabled","",3,"slds-hide","id","cdkDropListData","cdkDropListExited","cdkDropListEntered",4,"ngFor","ngForOf","ngForTrackBy"],["system-table-stencils","",3,"columns","rows","select",4,"ngIf"],["role","presentation",1,"slds-tabs--default__item","slds-grid","slds-grid_vertical-align-center",3,"click"],["href","javascript:void(0);","role","tab","aria-selected","false",1,"slds-tabs--default__link","slds-grid"],["size","small","divClass","slds-m-right--x-small",3,"module"],[3,"module"],["class","slds-col_bump-left slds-p-left_none slds-p-right_none",4,"ngIf"],[1,"slds-col_bump-left","slds-p-left_none","slds-p-right_none"],[1,"slds-button","slds-button_icon","slds-button_icon-container","slds-button_icon-x-small",3,"click"],["icon","close"],[1,"slds-grow",2,"height","0"],["class","slds-scrollable--y","style","height: 100%",3,"slds-hide",4,"ngFor","ngForOf","ngForTrackBy"],[1,"slds-scrollable--y",2,"height","100%"],[3,"module","itemSelected"],["cdkDropList","","cdkDropListSortingDisabled","",3,"id","cdkDropListData","cdkDropListExited","cdkDropListEntered"],["cdkDrag","","class","slds-hint-parent slds-drag--preview",3,"cdkDragData",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","",1,"slds-hint-parent","slds-drag--preview",3,"cdkDragData"],[1,"slds-p-around--none","slds-cell-shrink"],["cdkDragHandle","","icon","drag_and_drop","size","x-small",1,"slds-p-horizontal--x-small",2,"cursor","move"],["data-label","Account Name"],[1,"slds-truncate",3,"title"],[3,"label"],["system-table-stencils","",3,"columns","rows","select"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"ul",3),g.YNc(4,q,6,5,"li",4),g.qZA(),g.TgZ(5,"div",5)(6,"button",6),g.NdJ("click",(function(){return t.addUnionModule()})),g._UZ(7,"system-button-icon",7),g.qZA()()(),g.YNc(8,k,2,2,"div",8),g.qZA()(),g.TgZ(9,"div",9)(10,"div",10),g._UZ(11,"system-utility-icon",11),g.TgZ(12,"input",12),g.NdJ("ngModelChange",(function(e){return t.filterKey=e})),g.qZA()(),g.TgZ(13,"div",13)(14,"table",14)(15,"thead")(16,"tr",15),g._UZ(17,"th",16),g.TgZ(18,"th",17)(19,"div",18),g._UZ(20,"system-label",19),g.qZA()(),g.TgZ(21,"th",17)(22,"div",18),g._UZ(23,"system-label",20),g.qZA()()()(),g.YNc(24,B,2,6,"tbody",21),g.YNc(25,O,1,3,"tbody",22),g.qZA()()()),2&e&&(g.xp6(4),g.Q6J("ngForOf",t.allModules)("ngForTrackBy",t.trackByFn),g.xp6(2),g.Q6J("disabled",!t.canAdd),g.xp6(2),g.Q6J("ngIf",!!t.activeModule.unionid),g.xp6(4),g.Q6J("placeholder",t.language.getLabel("LBL_SEARCH"))("ngModel",t.filterKey),g.xp6(12),g.Q6J("ngForOf",t.allModules)("ngForTrackBy",t.trackByFn),g.xp6(1),g.Q6J("ngIf",t.isLoadingModuleFields))},directives:[i.sg,D.f,M.M,i.O5,I.J,J.w,F.r,l.Fj,l.JJ,l.On,A._,d.Wj,d.Zt,d.Bh,w.x],encapsulation:2}),ReportsDesignerTree})();var Q=s(7514),P=s(1553),Y=s(9062),z=s(9901),G=s(2995);const H=function(){return{name:"LBL_ADMIN_DATA"}};let V=(()=>{class ReportsDesignerDetails{constructor(e,t,s,i){this.language=e,this.model=t,this.backend=s,this.metadata=i}ngOnInit(){let e=this.metadata.getComponentConfig("ReportsDesignerDetails",this.model.module);this.fieldset=e.fieldset,this.model.getField("reportoptions")||this.model.setField("reportoptions",{})}get reportOptions(){return this.model.getField("reportoptions")}}return ReportsDesignerDetails.ɵfac=function(e){return new(e||ReportsDesignerDetails)(g.Y36(h.d),g.Y36(m.o),g.Y36(u.y),g.Y36(f.Pu))},ReportsDesignerDetails.ɵcmp=g.Xpm({type:ReportsDesignerDetails,selectors:[["reports-designer-details"]],decls:22,vars:9,consts:[[1,"slds-p-around--x-small"],["tabtitle","LBL_DETAILS",3,"collapsible"],["direction","vertical",3,"fieldset"],["tabtitle","LBL_OPTIONS",3,"collapsible"],[1,"slds-grid"],[1,"slds-form-element","slds-m-vertical--xxx-small","slds-size--1-of-2"],[1,"slds-form-element__legend","slds-form-element__label"],["label","LBL_SHOW_DELETED"],[1,"slds-form-element__control"],[3,"ngModel","ngModelChange"],["label","LBL_AUTHORIZATION_CHECK"],["name","reportOptionsAuthCheck","value","full",3,"ngModel","ngModelChange"],["label","LBL_ON_ALL_NODES"],["name","reportOptionsAuthCheck","value","top",3,"ngModel","ngModelChange"],["label","LBL_TOP_NODE_ONLY"],["name","reportOptionsAuthCheck","value","none",3,"ngModel","ngModelChange"],["label","LBL_DISABLED"],["component","ObjectRecordAdministrationTab",3,"componentconfig"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0)(1,"system-collapsable-tab",1),g._UZ(2,"object-record-fieldset",2),g.qZA(),g.TgZ(3,"system-collapsable-tab",3)(4,"div",4)(5,"fieldset",5)(6,"legend",6),g._UZ(7,"system-label",7),g.qZA(),g.TgZ(8,"div",8)(9,"system-checkbox",9),g.NdJ("ngModelChange",(function(e){return t.reportOptions.showDeleted=e})),g._UZ(10,"system-label",7),g.qZA()()(),g.TgZ(11,"fieldset",5)(12,"legend",6),g._UZ(13,"system-label",10),g.qZA(),g.TgZ(14,"div",8)(15,"system-input-radio",11),g.NdJ("ngModelChange",(function(e){return t.reportOptions.authCheck=e})),g._UZ(16,"system-label",12),g.qZA(),g.TgZ(17,"system-input-radio",13),g.NdJ("ngModelChange",(function(e){return t.reportOptions.authCheck=e})),g._UZ(18,"system-label",14),g.qZA(),g.TgZ(19,"system-input-radio",15),g.NdJ("ngModelChange",(function(e){return t.reportOptions.authCheck=e})),g._UZ(20,"system-label",16),g.qZA()()()()(),g._UZ(21,"system-dynamic-component",17),g.qZA()),2&e&&(g.xp6(1),g.Q6J("collapsible",!1),g.xp6(1),g.Q6J("fieldset",t.fieldset),g.xp6(1),g.Q6J("collapsible",!1),g.xp6(6),g.Q6J("ngModel",t.reportOptions.showDeleted),g.xp6(6),g.Q6J("ngModel",t.reportOptions.authCheck),g.xp6(2),g.Q6J("ngModel",t.reportOptions.authCheck),g.xp6(2),g.Q6J("ngModel",t.reportOptions.authCheck),g.xp6(2),g.Q6J("componentconfig",g.DdM(8,H)))},directives:[P.z,Y.d,A._,Q.U,l.JJ,l.On,z.A,G.T],encapsulation:2}),ReportsDesignerDetails})();var j=s(3497);const $=["reports-designer-manipulate-table-row",""];function X(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",24)(1,"system-checkbox",25),g.NdJ("ngModelChange",(function(t){g.CHM(e);return g.oxw().joinType=t})),g.qZA()()}if(2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngModel",e.joinType)("hidelabel",!0)}}let K=(()=>{class ReportsDesignerManipulateTableRow{constructor(e,t,s,i,l){this.language=e,this.modelUtilities=t,this.modal=s,this.model=i,this.reportsDesignerService=l,this.listItem={},this.onDelete=new g.vpe}set name(e){this.listItem.name=e;let t=this.model.getField("unionlistfields");t&&t.length&&0!=t.length&&(t.forEach((t=>{if(t.fieldid==this.listItem.fieldid)return t.name=e,!0})),this.model.setField("unionlistfields",t))}get name(){return this.listItem.name}set groupBy(e){this.listItem.groupby=e?"yes":"no"}get groupBy(){return"yes"==this.listItem.groupby}set joinType(e){this.listItem.jointype=e?"required":"optional"}get joinType(){return"required"==this.listItem.jointype}get displayPath(){return this.listItem.displaypath&&this.listItem.displaypath.length>0?this.listItem.displaypath:"FIXED"}deleteField(){this.onDelete.emit()}toggleExpand(e){e.stopPropagation(),this.reportsDesignerService.expertMode&&(this.reportsDesignerService.manipulateExpandedItemId=this.reportsDesignerService.manipulateExpandedItemId==this.listItem.fieldid?"":this.listItem.fieldid)}get requiredEnabled(){return this.listItem.path.split("::").length>2}}return ReportsDesignerManipulateTableRow.ɵfac=function(e){return new(e||ReportsDesignerManipulateTableRow)(g.Y36(h.d),g.Y36(b.A),g.Y36(T.o),g.Y36(m.o),g.Y36(Z))},ReportsDesignerManipulateTableRow.ɵcmp=g.Xpm({type:ReportsDesignerManipulateTableRow,selectors:[["","reports-designer-manipulate-table-row",""]],inputs:{listItem:"listItem"},outputs:{onDelete:"onDelete"},attrs:$,decls:43,vars:9,consts:[[1,"slds-p-around--none"],["cdkDragHandle","","icon","drag_and_drop","size","x-small",1,"slds-p-horizontal--x-small",2,"cursor","move"],[1,"slds-truncate",3,"title"],[1,"slds-form-element"],[3,"ngModel","ngModelChange"],[1,"slds-form-element__control"],[1,"slds-select_container"],[1,"slds-select",3,"ngModel","ngModelChange"],["value","SUM"],["label","LBL_SUM"],["value","COUNT"],["label","LBL_COUNT"],["value","COUNT_DISTINCT"],["label","LBL_COUNT_DISTINCT"],["value","MAX"],["label","LBL_MAXIMUM"],["value","MIN"],["label","LBL_MINIMUM"],["value","AVG"],["label","LBL_AVERAGE"],["value","GROUP_CONCAT"],["label","LBL_GROUP_CONCAT"],["value","GROUP_CONASC"],["value","GROUP_CONDSC"],[1,"slds-align--absolute-center"],[3,"ngModel","hidelabel","ngModelChange"],["class","slds-align--absolute-center",4,"ngIf"],[1,"slds-cell-shrink"],[1,"slds-button","slds-button--icon",3,"click"],["icon","delete"],["size","x-small",1,"slds-p-horizontal--xx-small","slds-p-vertical--xx-small",2,"cursor","pointer",3,"icon","colorclass","click"]],template:function(e,t){1&e&&(g.TgZ(0,"td",0),g._UZ(1,"system-utility-icon",1),g.qZA(),g.TgZ(2,"td")(3,"div",2),g._uU(4),g.qZA()(),g.TgZ(5,"td")(6,"div",3)(7,"system-input-label",4),g.NdJ("ngModelChange",(function(e){return t.name=e})),g.qZA()()(),g.TgZ(8,"td")(9,"div",3)(10,"div",5)(11,"div",6)(12,"select",7),g.NdJ("ngModelChange",(function(e){return t.listItem.sqlfunction=e})),g._UZ(13,"option"),g.TgZ(14,"option",8),g._UZ(15,"system-label",9),g.qZA(),g.TgZ(16,"option",10),g._UZ(17,"system-label",11),g.qZA(),g.TgZ(18,"option",12),g._UZ(19,"system-label",13),g.qZA(),g.TgZ(20,"option",14),g._UZ(21,"system-label",15),g.qZA(),g.TgZ(22,"option",16),g._UZ(23,"system-label",17),g.qZA(),g.TgZ(24,"option",18),g._UZ(25,"system-label",19),g.qZA(),g.TgZ(26,"option",20),g._UZ(27,"system-label",21),g.qZA(),g.TgZ(28,"option",22),g._UZ(29,"system-label",21),g._uU(30," (ASC)"),g.qZA(),g.TgZ(31,"option",23),g._UZ(32,"system-label",21),g._uU(33," (DESC)"),g.qZA()()()()()(),g.TgZ(34,"td")(35,"div",24)(36,"system-checkbox",25),g.NdJ("ngModelChange",(function(e){return t.groupBy=e})),g.qZA()()(),g.TgZ(37,"td"),g.YNc(38,X,2,2,"div",26),g.qZA(),g.TgZ(39,"td",27)(40,"button",28),g.NdJ("click",(function(){return t.deleteField()})),g._UZ(41,"system-button-icon",29),g.qZA(),g.TgZ(42,"system-utility-icon",30),g.NdJ("click",(function(e){return t.toggleExpand(e)})),g.qZA()()),2&e&&(g.xp6(3),g.Q6J("title",t.displayPath),g.xp6(1),g.hij(" ",t.displayPath," "),g.xp6(3),g.Q6J("ngModel",t.name),g.xp6(5),g.Q6J("ngModel",t.listItem.sqlfunction),g.xp6(24),g.Q6J("ngModel",t.groupBy)("hidelabel",!0),g.xp6(2),g.Q6J("ngIf",t.requiredEnabled),g.xp6(4),g.Q6J("icon",t.reportsDesignerService.manipulateExpandedItemId==t.listItem.fieldid?"up":"down")("colorclass",t.reportsDesignerService.expertMode?"slds-icon-text-default":"slds-icon-text-light"))},directives:[F.r,d.Bh,j.$,l.JJ,l.On,l.EJ,l.YN,l.Kr,A._,Q.U,i.O5,I.J],encapsulation:2}),ReportsDesignerManipulateTableRow})();var W=s(6991);const ee=["reports-designer-manipulate-table-row-expansion",""];function te(e,t){if(1&e){const e=g.EpF();g.ynx(0),g.TgZ(1,"td",1)(2,"fieldset",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"label",6),g._UZ(7,"system-label",7),g.qZA(),g.TgZ(8,"div",3)(9,"input",8),g.NdJ("ngModelChange",(function(t){g.CHM(e);return g.oxw().listItem.path=t})),g.qZA()()()(),g.TgZ(10,"div",9)(11,"div",10)(12,"label",6),g._UZ(13,"system-label",11),g.qZA(),g.TgZ(14,"div",3)(15,"input",12),g.NdJ("ngModelChange",(function(t){g.CHM(e);return g.oxw().listItem.fixedvalue=t})),g.qZA()()(),g.TgZ(16,"div",10)(17,"label",6),g._UZ(18,"system-label",13),g.qZA(),g.TgZ(19,"div",3)(20,"input",14),g.NdJ("ngModelChange",(function(t){g.CHM(e);return g.oxw().listItem.grouping=t})),g.qZA()()()(),g.TgZ(21,"div",9)(22,"div",10)(23,"label",6),g._UZ(24,"system-label",15),g.qZA(),g.TgZ(25,"div",3)(26,"div",16)(27,"select",17),g.NdJ("ngModelChange",(function(t){g.CHM(e);return g.oxw().listItem.valuetype=t})),g._UZ(28,"option"),g.TgZ(29,"option",18),g._UZ(30,"system-label",19),g.qZA(),g.TgZ(31,"option",20),g._UZ(32,"system-label",21),g.qZA(),g.TgZ(33,"option",22),g._UZ(34,"system-label",23),g.qZA(),g.TgZ(35,"option",24),g._UZ(36,"system-label",25),g.qZA(),g.TgZ(37,"option",26),g._UZ(38,"system-label",27),g.qZA(),g.TgZ(39,"option",28),g._UZ(40,"system-label",29),g.qZA(),g.TgZ(41,"option",30),g._UZ(42,"system-label",31),g.qZA(),g.TgZ(43,"option",32),g._UZ(44,"system-label",33),g.qZA()()()()()(),g.TgZ(45,"div",34)(46,"label",6),g._UZ(47,"system-label",35),g.qZA(),g.TgZ(48,"system-input-base64",36),g.NdJ("ngModelChange",(function(t){g.CHM(e);return g.oxw().listItem.customsqlfunction=t})),g.qZA()(),g.TgZ(49,"div",37)(50,"div",10)(51,"label",6),g._UZ(52,"system-label",38),g.qZA(),g.TgZ(53,"div",3)(54,"input",39),g.NdJ("ngModelChange",(function(t){g.CHM(e);return g.oxw().listItem.assigntovalue=t})),g.qZA()()(),g.TgZ(55,"div",10)(56,"label",6),g._UZ(57,"system-label",40),g.qZA(),g.TgZ(58,"div",3)(59,"input",39),g.NdJ("ngModelChange",(function(t){g.CHM(e);return g.oxw().listItem.formulasequence=t})),g.qZA()()()(),g.TgZ(60,"div",41)(61,"label",6),g._UZ(62,"system-label",42),g.qZA(),g.TgZ(63,"system-input-base64",36),g.NdJ("ngModelChange",(function(t){g.CHM(e);return g.oxw().listItem.formulavalue=t})),g.qZA()(),g.TgZ(64,"div",37)(65,"div",10)(66,"label",6),g._UZ(67,"system-label",7),g.qZA(),g.TgZ(68,"div",3)(69,"input",43),g.NdJ("ngModelChange",(function(t){g.CHM(e);return g.oxw().listItem.path=t})),g.qZA()()(),g.TgZ(70,"div",10)(71,"label",6),g._UZ(72,"system-label",44),g.qZA(),g.TgZ(73,"div",3)(74,"input",14),g.NdJ("ngModelChange",(function(t){g.CHM(e);return g.oxw().listItem.fieldid=t})),g.qZA()()()()()()(),g.BQk()}if(2&e){const e=g.oxw();g.xp6(9),g.Q6J("ngModel",e.listItem.path)("disabled",!0),g.xp6(6),g.Q6J("ngModel",e.listItem.fixedvalue),g.xp6(5),g.Q6J("ngModel",e.listItem.grouping),g.xp6(7),g.Q6J("ngModel",e.listItem.valuetype),g.xp6(21),g.Q6J("ngModel",e.listItem.customsqlfunction),g.xp6(6),g.Q6J("ngModel",e.listItem.assigntovalue),g.xp6(5),g.Q6J("ngModel",e.listItem.formulasequence),g.xp6(4),g.Q6J("ngModel",e.listItem.formulavalue),g.xp6(6),g.Q6J("ngModel",e.listItem.path),g.xp6(5),g.Q6J("ngModel",e.listItem.fieldid)}}let se=(()=>{class ReportsDesignerManipulateTableRowExpansion{constructor(e,t,s,i,l){this.language=e,this.modelUtilities=t,this.modal=s,this.model=i,this.reportsDesignerService=l,this.listItem={}}}return ReportsDesignerManipulateTableRowExpansion.ɵfac=function(e){return new(e||ReportsDesignerManipulateTableRowExpansion)(g.Y36(h.d),g.Y36(b.A),g.Y36(T.o),g.Y36(m.o),g.Y36(Z))},ReportsDesignerManipulateTableRowExpansion.ɵcmp=g.Xpm({type:ReportsDesignerManipulateTableRowExpansion,selectors:[["","reports-designer-manipulate-table-row-expansion",""]],inputs:{listItem:"listItem"},attrs:ee,decls:1,vars:1,consts:[[4,"ngIf"],["colspan","7"],[1,"slds-form-element","slds-form-element_compound","slds-p-vertical--x-small"],[1,"slds-form-element__control"],[1,"slds-grid","slds-m-vertical--xx-small","slds-grid--align-spread"],[1,"slds-form-element","slds-size--1-of-1"],[1,"slds-form-element__label"],["label","LBL_PATH"],["type","text",1,"slds-input",3,"ngModel","disabled","ngModelChange"],[1,"slds-form-element","slds-grid"],[1,"slds-form-element","slds-size--1-of-2"],["label","LBL_FIXED_VALUE"],["type","text","tabindex","1","autofocus","",1,"slds-input",3,"ngModel","ngModelChange"],["label","LBL_GROUPING"],["disabled","","type","text",1,"slds-input",3,"ngModel","ngModelChange"],["label","LBL_VALUE_TYPE"],[1,"slds-select_container"],[1,"slds-select",3,"ngModel","ngModelChange"],["value","TOFSUM"],["label","LBL_VALUE_TYPE_TOFSUM"],["value","POFSUM"],["label","LBL_VALUE_TYPE_POFSUM"],["value","POFCOUNT"],["label","LBL_VALUE_TYPE_POFCOUNT"],["value","POFAVG"],["label","LBL_VALUE_TYPE_POFAVERAGE"],["value","DOFSUM"],["label","LBL_VALUE_TYPE_DOFSUM"],["value","DOFCOUNT"],["label","LBL_VALUE_TYPE_DOFCOUNT"],["value","DOFAVG"],["label","LBL_VALUE_TYPE_DOFAVERAGE"],["value","C"],["label","LBL_VALUE_TYPE_C"],[1,"slds-form-element","slds-m-top--x-small","slds-has-divider--top"],["label","LBL_CUSTOM_FUNCTION"],[3,"ngModel","ngModelChange"],[1,"slds-grid","slds-has-divider--top"],["label","LBL_STORE"],["type","text",1,"slds-input",3,"ngModel","ngModelChange"],["label","LBL_SEQUENCE"],[1,"slds-form-element"],["label","LBL_FORMULA"],["type","text","disabled","","tabindex","1","autofocus","",1,"slds-input",3,"ngModel","ngModelChange"],["label","LBL_ID"]],template:function(e,t){1&e&&g.YNc(0,te,75,11,"ng-container",0),2&e&&g.Q6J("ngIf",t.reportsDesignerService.manipulateExpandedItemId==t.listItem.fieldid&&t.reportsDesignerService.expertMode)},directives:[i.O5,A._,l.Fj,l.JJ,l.On,l.EJ,l.YN,l.Kr,W.V],encapsulation:2}),ReportsDesignerManipulateTableRowExpansion})();function ie(e,t){if(1&e){const e=g.EpF();g.ynx(0),g.TgZ(1,"tr",18),g.NdJ("onDelete",(function(){const t=g.CHM(e).$implicit;return g.oxw().deleteField(t.fieldid)})),g.qZA(),g._UZ(2,"tr",19),g.BQk()}if(2&e){const e=t.$implicit;g.xp6(1),g.Q6J("listItem",e)("cdkDragData",e),g.xp6(1),g.Q6J("listItem",e)}}function le(e,t){1&e&&(g.TgZ(0,"tr")(1,"td",20)(2,"div",21),g._UZ(3,"system-label",22),g.qZA()()())}let ne=(()=>{class ReportsDesignerManipulate{constructor(e,t,s,i,l){this.language=e,this.modelUtilities=t,this.modal=s,this.model=i,this.reportsDesignerService=l}set listFields(e){this.reportsDesignerService.listFields=e}get listFields(){return this.reportsDesignerService.listFields}get dragList(){return this.reportsDesignerService.treeCDKDragList}trackByFn(e,t){return t.fieldid}onDrop(e){if(this.reportsDesignerService.removePlaceHolderElement(e.previousContainer.element.nativeElement),e.previousContainer===e.container)(0,d.bA)(e.container.data,e.previousIndex,e.currentIndex);else{let t=e.item.data,s=this.generateNewItem(t,e.container.data.length+1);e.container.data.splice(e.currentIndex,0,s),this.addListItemToUnionFields(s)}e.container.data=e.container.data.map(((e,t)=>(e.sequence=t,e))),this.listFields=e.container.data}addListItemToUnionFields(e){const t=this.model.getField("union_modules");if(!t||!t.length||0==t.length)return;let s=this.model.getField("unionlistfields");s&&s.length&&0!=s.length||(s=[]),t.forEach((t=>{let i={fieldid:e.fieldid,joinid:t.unionid,path:e.path,displaypath:"",unionfieldpath:"",unionfielddisplaypath:"",unionfieldname:"",unionfielddisplayname:"",name:e.name,fixedvalue:"",id:e.fieldid};s.push(i)})),this.model.setField("unionlistfields",s)}deleteListItemToUnionFields(e){let t=this.model.getField("unionlistfields");t&&t.length&&0!=t.length&&(t=t.filter((t=>t.fieldid!=e)),this.model.setField("unionlistfields",t))}generateNewItem(e=null,t){let s=this.reportsDesignerService.generateGuid();return{fieldid:s,path:e?`${this.reportsDesignerService.getCurrentPath()}::${e.id}`:"",displaypath:e?this.reportsDesignerService.getCurrentPath():"",fieldname:e?e.name:"",name:e?e.label:"new fixed field",display:"yes",sequence:t,width:"100",sort:"-",sortpriority:"",jointype:"optional",sqlfunction:"-",summaryfunction:"",groupby:"no",link:"no",fixedvalue:"",formulasequence:"",id:s}}deleteField(e){this.modal.confirmDeleteRecord().subscribe((t=>{if(t){let t=this.listFields.slice();t=t.filter((t=>t.fieldid!=e)),this.listFields=t,this.deleteListItemToUnionFields(e)}}))}addFixed(){let e=this.listFields.slice();const t=this.generateNewItem(null,e.length+1);e.push(t),this.listFields=e,this.addListItemToUnionFields(t),this.reportsDesignerService.manipulateExpandedItemId=t.fieldid}}return ReportsDesignerManipulate.ɵfac=function(e){return new(e||ReportsDesignerManipulate)(g.Y36(h.d),g.Y36(b.A),g.Y36(T.o),g.Y36(m.o),g.Y36(Z))},ReportsDesignerManipulate.ɵcmp=g.Xpm({type:ReportsDesignerManipulate,selectors:[["reports-designer-manipulate"]],decls:26,vars:7,consts:[[1,"slds-grid","slds-grid--vertical",2,"height","100%"],[1,"slds-border--bottom","slds-p-around--x-small"],[1,"slds-button","slds-button_neutral","slds-m-right--small","slds-p-horizontal--x-small","slds-text-title--caps",2,"height","100%","line-height","22px",3,"disabled","click"],["label","LBL_ADD_FIXED"],["cdkDropList","",1,"slds-grow","slds-scrollable--y",2,"height","100%",3,"cdkDropListData","cdkDropListDropped"],[1,"slds-table","slds-table--cell-buffer","spice-table_header-fixed","slds-table--fixed-layout","slds-no-row-hover","reports-designer-manipulate-table"],[1,"slds-text-title--caps","slds-theme--shade"],[1,"slds-cell-shrink"],["scope","col",1,"slds-resizable"],[1,"slds-truncate"],["label","LBL_PATH"],["label","LBL_NAME"],["label","LBL_FUNCTION"],["scope","col",1,"slds-text-align--center","slds-cell-shrink"],["icon","summary","size","x-small",3,"title"],["icon","link","size","x-small",3,"title"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["reports-designer-manipulate-table-row","","cdkDrag","","cdkDragBoundary",".reports-designer-manipulate-table",1,"slds-border--bottom","slds-drag--preview",3,"listItem","cdkDragData","onDelete"],["reports-designer-manipulate-table-row-expansion","",1,"slds-theme--shade","slds-box_border",3,"listItem"],["colspan","7"],[1,"slds-align--absolute-center","slds-p-around--large"],["label","MSG_DROP_FIELD_HERE"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0)(1,"div",1)(2,"button",2),g.NdJ("click",(function(){return t.addFixed()})),g._UZ(3,"system-label",3),g.qZA()(),g.TgZ(4,"div",4),g.NdJ("cdkDropListDropped",(function(e){return t.onDrop(e)})),g.TgZ(5,"table",5)(6,"thead")(7,"tr",6),g._UZ(8,"th",7),g.TgZ(9,"th",8)(10,"div",9),g._UZ(11,"system-label",10),g.qZA()(),g.TgZ(12,"th",8)(13,"div",9),g._UZ(14,"system-label",11),g.qZA()(),g.TgZ(15,"th",8)(16,"div",9),g._UZ(17,"system-label",12),g.qZA()(),g.TgZ(18,"th",13),g._UZ(19,"system-utility-icon",14),g.qZA(),g.TgZ(20,"th",13),g._UZ(21,"system-utility-icon",15),g.qZA(),g._UZ(22,"th",7),g.qZA()(),g.TgZ(23,"tbody"),g.YNc(24,ie,3,3,"ng-container",16),g.YNc(25,le,4,0,"tr",17),g.qZA()()()()),2&e&&(g.xp6(2),g.Q6J("disabled",!t.reportsDesignerService.expertMode),g.xp6(2),g.Q6J("cdkDropListData",t.listFields),g.xp6(15),g.Q6J("title",t.language.getLabel("LBL_GROUP_BY")),g.xp6(2),g.Q6J("title",t.language.getLabel("LBL_REQUIRED")),g.xp6(3),g.Q6J("ngForOf",t.listFields)("ngForTrackBy",t.trackByFn),g.xp6(1),g.Q6J("ngIf",0==(null==t.listFields?null:t.listFields.length)))},directives:[A._,d.Wj,F.r,i.sg,K,d.Zt,se,i.O5],encapsulation:2}),ReportsDesignerManipulate})();const oe=["reports-designer-manipulate-union-table-row",""];function re(e,t){1&e&&g._UZ(0,"system-utility-icon",7)}function ae(e,t){1&e&&g._UZ(0,"system-utility-icon",8)}function de(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",9)(1,"div",10)(2,"input",11),g.NdJ("ngModelChange",(function(t){g.CHM(e);return g.oxw().listItem.fixedvalue=t})),g.qZA()()()}if(2&e){const e=g.oxw();g.xp6(2),g.Q6J("ngModel",e.listItem.fixedvalue)}}function ce(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"button",12),g.NdJ("click",(function(){g.CHM(e);return g.oxw().unlinkField()})),g._UZ(1,"system-button-icon",13),g.qZA()}if(2&e){const e=g.oxw();g.Q6J("disabled",!e.isLinked)}}let ge=(()=>{class ReportsDesignerManipulateUnionTableRow{constructor(e){this.language=e,this.listItem={},this.onUnlink=new g.vpe}get path(){return this.listItem.path&&this.listItem.path.length>0?this.listItem.path:"FIXED"}get isLinked(){return!!this.listItem.unionfieldpath&&this.listItem.unionfieldpath.length>0}unlinkField(){this.onUnlink.emit()}}return ReportsDesignerManipulateUnionTableRow.ɵfac=function(e){return new(e||ReportsDesignerManipulateUnionTableRow)(g.Y36(h.d))},ReportsDesignerManipulateUnionTableRow.ɵcmp=g.Xpm({type:ReportsDesignerManipulateUnionTableRow,selectors:[["","reports-designer-manipulate-union-table-row",""]],inputs:{listItem:"listItem"},outputs:{onUnlink:"onUnlink"},attrs:oe,decls:22,vars:14,consts:[["icon","linked","size","x-small","colorclass","slds-icon-text-success",4,"ngIf"],["icon","unlinked","size","x-small","colorclass","slds-icon-text-light",4,"ngIf"],[1,"slds-truncate",3,"title"],[3,"label"],["class","slds-form-element",4,"ngIf"],["data-cdk-drag-placholder-container","",1,"slds-cell-shrink","slds-text-align--center"],["class","slds-button slds-button--icon",3,"disabled","click",4,"ngIf"],["icon","linked","size","x-small","colorclass","slds-icon-text-success"],["icon","unlinked","size","x-small","colorclass","slds-icon-text-light"],[1,"slds-form-element"],[1,"slds-form-element__control"],["type","text",1,"slds-input",3,"ngModel","ngModelChange"],[1,"slds-button","slds-button--icon",3,"disabled","click"],["icon","remove_link"]],template:function(e,t){1&e&&(g.TgZ(0,"td"),g.YNc(1,re,1,0,"system-utility-icon",0),g.YNc(2,ae,1,0,"system-utility-icon",1),g.qZA(),g.TgZ(3,"td")(4,"div",2),g._uU(5),g.qZA()(),g.TgZ(6,"td")(7,"div",2),g._UZ(8,"system-label",3),g.qZA()(),g.TgZ(9,"td")(10,"div",2),g._uU(11),g.qZA()(),g.TgZ(12,"td")(13,"div",2),g._uU(14),g.qZA()(),g.TgZ(15,"td")(16,"div",2),g._UZ(17,"system-label",3),g.qZA()(),g.TgZ(18,"td"),g.YNc(19,de,3,1,"div",4),g.qZA(),g.TgZ(20,"td",5),g.YNc(21,ce,2,1,"button",6),g.qZA()),2&e&&(g.xp6(1),g.Q6J("ngIf",t.isLinked),g.xp6(1),g.Q6J("ngIf",!t.isLinked),g.xp6(2),g.Q6J("title",t.path),g.xp6(1),g.hij(" ",t.path," "),g.xp6(2),g.Q6J("title",t.language.getLabel(t.listItem.name)),g.xp6(1),g.Q6J("label",t.listItem.name),g.xp6(2),g.Q6J("title",t.listItem.unionfieldpath),g.xp6(1),g.hij(" ",t.listItem.unionfieldpath," "),g.xp6(2),g.Q6J("title",t.listItem.unionfielddisplaypath),g.xp6(1),g.hij(" ",t.listItem.unionfielddisplaypath," "),g.xp6(2),g.Q6J("title",t.language.getLabel(t.listItem.unionfielddisplayname)),g.xp6(1),g.Q6J("label",t.listItem.unionfielddisplayname),g.xp6(2),g.Q6J("ngIf",t.listItem.joinid),g.xp6(2),g.Q6J("ngIf",t.listItem.joinid))},directives:[i.O5,F.r,A._,l.Fj,l.JJ,l.On,I.J],encapsulation:2}),ReportsDesignerManipulateUnionTableRow})();function pe(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"tr",14),g.NdJ("onUnlink",(function(){const t=g.CHM(e).$implicit;return g.oxw().unlinkField(t.fieldid)}))("cdkDropListEntered",(function(t){g.CHM(e);return g.oxw().onDropEntered(t)}))("cdkDropListDropped",(function(t){g.CHM(e);return g.oxw().onDrop(t)})),g.qZA()}if(2&e){const e=t.$implicit;g.Q6J("listItem",e)("id",e.fieldid)("cdkDropListData",e)}}let ue=(()=>{class ReportsDesignerManipulateUnion{constructor(e,t,s,i,l){this.language=e,this.modelUtilities=t,this.modal=s,this.model=i,this.reportsDesignerService=l,this.module={},this.currentUnionListFields=[]}get dragList(){return this.reportsDesignerService.treeCDKDragList}trackByFn(e,t){return t.fieldid}onDrop(e){this.reportsDesignerService.removePlaceHolderElement(e.previousContainer.element.nativeElement),e.previousContainer!==e.container&&this.linkUnionField(e.container.data,e.item.data)}linkUnionField(e,t){const s=this.reportsDesignerService.getCurrentPath().indexOf("link")<0?"unionroot::":"",i=this.reportsDesignerService.getCurrentPath().replace("root:","");e.unionfieldname=t.name,e.unionfielddisplayname=t.label,e.unionfielddisplaypath=this.reportsDesignerService.getCurrentPath(),e.unionfieldpath=`${s}union${this.module.unionid}:${i}::${t.id}`,e.displaypath=this.reportsDesignerService.getCurrentPath(),e.joinid=this.module.unionid}resetUnionField(e){e.unionfieldname="",e.unionfielddisplayname="",e.unionfielddisplaypath="",e.unionfieldpath="",e.displaypath=""}unlinkField(e){this.modal.confirm(this.language.getLabel("LBL_UNLINK"),this.language.getLabel("LBL_UNLINK")).subscribe((t=>{t&&this.currentUnionListFields.some((t=>{if(t.fieldid==e)return this.resetUnionField(t),!0}))}))}onDropEntered(e){const t=e.item.getPlaceholderElement();e.container.element.nativeElement.removeChild(t),t.style.display="block",t.style.height=0,t.style.width=0,t.style.overflow="hidden";const s=e.container.element.nativeElement.querySelectorAll("td[data-cdk-drag-placholder-container]");s[0]&&s[0].insertBefore(t,s[0].firstChild)}}return ReportsDesignerManipulateUnion.ɵfac=function(e){return new(e||ReportsDesignerManipulateUnion)(g.Y36(h.d),g.Y36(b.A),g.Y36(T.o),g.Y36(m.o),g.Y36(Z))},ReportsDesignerManipulateUnion.ɵcmp=g.Xpm({type:ReportsDesignerManipulateUnion,selectors:[["reports-designer-manipulate-union"]],inputs:{module:"module",currentUnionListFields:"currentUnionListFields"},decls:27,vars:2,consts:[[1,"slds-grid",2,"height","100%"],[1,"slds-size--1-of-1",2,"height","100%"],[1,"slds-table","slds-table--cell-buffer","spice-table_header-fixed","slds-table--fixed-layout","slds-no-row-hover","reports-designer-manipulate-table"],[1,"slds-text-title--caps","slds-theme--shade"],[1,"slds-cell-shrink"],["scope","col",1,"slds-resizable"],[1,"slds-truncate"],["label","LBL_PATH"],["label","LBL_NAME"],["label","LBL_UNION_FIELD_PATH"],["label","LBL_UNION_PATH"],["label","LBL_UNION_FIELD_NAME"],["label","LBL_FIXED_VALUE"],["reports-designer-manipulate-union-table-row","","cdkDropList","","cdkDropListSortingDisabled","","class","slds-border--bottom slds-drag--preview spice-reports-designer-union-list","style","height: 41px",3,"listItem","id","cdkDropListData","onUnlink","cdkDropListEntered","cdkDropListDropped",4,"ngFor","ngForOf","ngForTrackBy"],["reports-designer-manipulate-union-table-row","","cdkDropList","","cdkDropListSortingDisabled","",1,"slds-border--bottom","slds-drag--preview","spice-reports-designer-union-list",2,"height","41px",3,"listItem","id","cdkDropListData","onUnlink","cdkDropListEntered","cdkDropListDropped"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0)(1,"div",1)(2,"table",2)(3,"thead")(4,"tr",3),g._UZ(5,"th",4),g.TgZ(6,"th",5)(7,"div",6),g._UZ(8,"system-label",7),g.qZA()(),g.TgZ(9,"th",5)(10,"div",6),g._UZ(11,"system-label",8),g.qZA()(),g.TgZ(12,"th",5)(13,"div",6),g._UZ(14,"system-label",9),g.qZA()(),g.TgZ(15,"th",5)(16,"div",6),g._UZ(17,"system-label",10),g.qZA()(),g.TgZ(18,"th",5)(19,"div",6),g._UZ(20,"system-label",11),g.qZA()(),g.TgZ(21,"th",5)(22,"div",6),g._UZ(23,"system-label",12),g.qZA()(),g._UZ(24,"th",4),g.qZA()(),g.TgZ(25,"tbody"),g.YNc(26,pe,1,3,"tr",13),g.qZA()()()()),2&e&&(g.xp6(26),g.Q6J("ngForOf",t.currentUnionListFields)("ngForTrackBy",t.trackByFn))},directives:[A._,i.sg,ge,d.Wj],styles:[".cdk-drop-list-dragging[_ngcontent-%COMP%]{background-color:#ddd!important}"]}),ReportsDesignerManipulateUnion})();var me=s(3411),he=s(8477),fe=s(8717),be=s(429),Ze=s(6257),_e=s(7832),ve=s(5336);function Le(e,t){if(1&e&&(g.TgZ(0,"option",15),g._uU(1),g.qZA()),2&e){const e=t.$implicit;g.Q6J("value",e.value),g.xp6(1),g.Oqu(e.display)}}function xe(e,t){if(1&e&&g._UZ(0,"reporter-filter-item-enum",25),2&e){const e=g.oxw(2);g.Q6J("field","value")("wherecondition",e.whereCondition)("isMultiSelect",e.whereCondition.operator.includes("oneof"))}}function ye(e,t){if(1&e&&g._UZ(0,"reporter-filter-item-date",26),2&e){const e=g.oxw(2);g.Q6J("field","valuekey")("wherecondition",e.whereCondition)}}function Te(e,t){if(1&e&&g._UZ(0,"reporter-filter-item-text",26),2&e){const e=g.oxw(2);g.Q6J("field","value")("wherecondition",e.whereCondition)}}function Ce(e,t){if(1&e&&g._UZ(0,"reporter-filter-item-user",27),2&e){const e=g.oxw(2);g.Q6J("whereCondition",e.whereCondition)}}function De(e,t){if(1&e&&g._UZ(0,"reporter-filter-item-reference",27),2&e){const e=g.oxw(2);g.Q6J("whereCondition",e.whereCondition)}}function Me(e,t){if(1&e&&g._UZ(0,"reporter-filter-item-function",27),2&e){const e=g.oxw(2);g.Q6J("whereCondition",e.whereCondition)}}function Ae(e,t){if(1&e&&g._UZ(0,"reporter-filter-item-parent",28),2&e){const e=g.oxw(2);g.Q6J("wherecondition",e.whereCondition)}}function Ue(e,t){if(1&e&&g._UZ(0,"reporter-filter-item-enum",26),2&e){const e=g.oxw(3);g.Q6J("field","valueto")("wherecondition",e.whereCondition)}}function Ie(e,t){if(1&e&&g._UZ(0,"reporter-filter-item-date",26),2&e){const e=g.oxw(3);g.Q6J("field","valuetokey")("wherecondition",e.whereCondition)}}function Je(e,t){if(1&e&&g._UZ(0,"reporter-filter-item-text",26),2&e){const e=g.oxw(3);g.Q6J("field","valueto")("wherecondition",e.whereCondition)}}function Fe(e,t){if(1&e&&(g.TgZ(0,"div",29),g.YNc(1,Ue,1,2,"reporter-filter-item-enum",21),g.YNc(2,Ie,1,2,"reporter-filter-item-date",21),g.YNc(3,Je,1,2,"reporter-filter-item-text",21),g.qZA()),2&e){const e=g.oxw(2);g.Q6J("ngSwitch",e.itemType),g.xp6(1),g.Q6J("ngSwitchCase","enum"),g.xp6(1),g.Q6J("ngSwitchCase","date"),g.xp6(1),g.Q6J("ngSwitchCase","text")}}function we(e,t){if(1&e&&(g.TgZ(0,"div",16)(1,"label",7),g._UZ(2,"system-label",17),g.qZA(),g.TgZ(3,"div",18)(4,"div",19),g.YNc(5,xe,1,3,"reporter-filter-item-enum",20),g.YNc(6,ye,1,2,"reporter-filter-item-date",21),g.YNc(7,Te,1,2,"reporter-filter-item-text",21),g.YNc(8,Ce,1,1,"reporter-filter-item-user",22),g.YNc(9,De,1,1,"reporter-filter-item-reference",22),g.YNc(10,Me,1,1,"reporter-filter-item-function",22),g.YNc(11,Ae,1,1,"reporter-filter-item-parent",23),g.qZA(),g.YNc(12,Fe,4,4,"div",24),g.qZA()()),2&e){const e=g.oxw();g.xp6(4),g.Q6J("ngSwitch",e.itemType),g.xp6(1),g.Q6J("ngSwitchCase","enum"),g.xp6(1),g.Q6J("ngSwitchCase","date"),g.xp6(1),g.Q6J("ngSwitchCase","text"),g.xp6(1),g.Q6J("ngSwitchCase","user"),g.xp6(1),g.Q6J("ngSwitchCase","reference"),g.xp6(1),g.Q6J("ngSwitchCase","function"),g.xp6(1),g.Q6J("ngSwitchCase","parent_assign"),g.xp6(1),g.Q6J("ngIf",e.showValueTo)}}let Ne=(()=>{class ReportsDesignerCondition{constructor(e,t,s){this.language=e,this.model=t,this.reporterConfig=s,this.whereCondition={},this.isMultiSelect=!1}get itemType(){let e="text";switch(this.whereCondition.type){case"enum":case"multienum":case"radioenum":switch(this.whereCondition.operator){case"equals":case"notequal":case"oneof":case"oneofnot":case"oneofnotornull":e="enum"}break;case"date":case"datetime":case"datetimecombo":switch(this.whereCondition.operator){case"before":case"after":case"between":e="date"}break;default:switch(this.whereCondition.operator){case"equals":case"notequal":case"oneof":case"oneofnot":case"oneofnotornull":(this.whereCondition.type.indexOf("user_id")>-1||this.whereCondition.type.indexOf("user_name")>-1)&&(e="user")}}return"reference"==this.whereCondition.operator&&(e="reference"),"function"==this.whereCondition.operator&&(e="function"),"parent_assign"==this.whereCondition.operator&&(e="parent_assign"),e}get showValue(){return"parent_assign"==this.whereCondition.operator||"reference"==this.whereCondition.operator||"function"==this.whereCondition.operator||this.reporterConfig.operatorCount[this.whereCondition.operator]>0}get showValueTo(){return this.reporterConfig.operatorCount[this.whereCondition.operator]>1}getOperators(){let e=[];const t=this.reporterConfig.operatorAssignments[this.whereCondition.overrideType||this.whereCondition.type]||"varchar";let s=this.reporterConfig.operatorTypes[t];for(let t of s)e.push({value:t,display:this.language.getLabel("LBL_OP_"+t.toUpperCase())});const i=this.model.getField("integration_params");i&&i.kpublishing&&i.kpublishing.subpanelModule&&e.push({value:"parent_assign",display:this.language.getLabel("LBL_ASSIGN_FROM_PARENT")});const l=this.model.getField("whereconditions");return l&&l.some((e=>(this.reporterConfig.operatorAssignments[e.type]||"varchar"==t)&&!!e.reference))&&e.push({value:"reference",display:this.language.getLabel("LBL_REFERENCE")}),this.reporterConfig.whereFunctions&&this.reporterConfig.whereFunctions.length>0&&e.push({value:"function",display:this.language.getLabel("LBL_FUNCTION")}),e.sort(((e,t)=>e.display>t.display?1:-1)),e}changeOperator(){this.whereCondition.value="",this.whereCondition.valuekey="",this.whereCondition.valueto="",this.whereCondition.valuetokey="",this.whereCondition.referencefieldid=""}trackByFn(e,t){return e}}return ReportsDesignerCondition.ɵfac=function(e){return new(e||ReportsDesignerCondition)(g.Y36(h.d),g.Y36(m.o),g.Y36(v.s))},ReportsDesignerCondition.ɵcmp=g.Xpm({type:ReportsDesignerCondition,selectors:[["reports-designer-condition"]],inputs:{whereCondition:"whereCondition"},decls:16,vars:6,consts:[[1,"slds-grid","slds-size--1-of-2","slds-grid--vertical-align-center"],[1,"slds-form-element","slds-grid","slds-size--1-of-2"],[1,"slds-form-element__label","slds-grid","slds-grid--vertical-align-center"],["label","LBL_NAME"],[1,"slds-form-element__control","slds-grow"],["type","text",1,"slds-input",3,"ngModel","disabled"],[1,"slds-form-element","slds-p-horizontal--xx-small","slds-grid","slds-grid--vertical-align-center","slds-size--1-of-2"],[1,"slds-form-element__label","slds-grid","slds-grid--vertical-align-center","slds-m-left--xx-small"],["label","LBL_OPERATOR"],[1,"slds-select_container"],[1,"slds-select",3,"ngModel","ngModelChange","change"],["value","ignore"],["label","LBL_OP_IGNORE"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["class","slds-size--1-of-2 slds-grid",4,"ngIf"],[3,"value"],[1,"slds-size--1-of-2","slds-grid"],["label","LBL_VALUE"],[1,"slds-grid","slds-grow"],[1,"slds-grow",3,"ngSwitch"],[3,"field","wherecondition","isMultiSelect",4,"ngSwitchCase"],[3,"field","wherecondition",4,"ngSwitchCase"],[3,"whereCondition",4,"ngSwitchCase"],[3,"wherecondition",4,"ngSwitchCase"],["class","slds-size--1-of-2 slds-p-left--xx-small",3,"ngSwitch",4,"ngIf"],[3,"field","wherecondition","isMultiSelect"],[3,"field","wherecondition"],[3,"whereCondition"],[3,"wherecondition"],[1,"slds-size--1-of-2","slds-p-left--xx-small",3,"ngSwitch"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0)(1,"div",1)(2,"label",2),g._UZ(3,"system-label",3),g.qZA(),g.TgZ(4,"div",4),g._UZ(5,"input",5),g.qZA()(),g.TgZ(6,"div",6)(7,"label",7),g._UZ(8,"system-label",8),g.qZA(),g.TgZ(9,"div",4)(10,"div",9)(11,"select",10),g.NdJ("ngModelChange",(function(e){return t.whereCondition.operator=e}))("change",(function(){return t.changeOperator()})),g.TgZ(12,"option",11),g._UZ(13,"system-label",12),g.qZA(),g.YNc(14,Le,2,2,"option",13),g.qZA()()()()(),g.YNc(15,we,13,9,"div",14)),2&e&&(g.xp6(5),g.Q6J("ngModel",t.whereCondition.name)("disabled",!0),g.xp6(6),g.Q6J("ngModel",t.whereCondition.operator),g.xp6(3),g.Q6J("ngForOf",t.getOperators())("ngForTrackBy",t.trackByFn),g.xp6(1),g.Q6J("ngIf",t.showValue))},directives:[A._,l.Fj,l.JJ,l.On,l.EJ,l.YN,l.Kr,i.sg,i.O5,i.RF,i.n9,me.i,he.h,fe.I,be.f,Ze.W,_e.K,ve.g],encapsulation:2}),ReportsDesignerCondition})();function qe(e,t){if(1&e&&(g.TgZ(0,"option",34),g._UZ(1,"system-label",35),g.ALo(2,"uppercase"),g.qZA()),2&e){const e=t.$implicit;g.Q6J("value",e.key),g.xp6(1),g.Q6J("label",g.lcZ(2,2,"LBL_OP_"+e.key))}}let Re=(()=>{class ReportsDesignerConditionGroupExpansion{constructor(e,t,s){this.language=e,this.reportsDesignerService=t,this.model=s,this.contextUsed=!1}get requiredEnabled(){return this.whereCondition.path.split("::").length>2}set joinType(e){this.whereCondition.jointype=e?"required":"optional"}get joinType(){return"required"==this.whereCondition.jointype}get referenceDisabled(){const e=this.model.getField("whereconditions").some((e=>this.whereCondition.fieldid!=e.fieldid&&"reference"==e.operator&&e.value==this.whereCondition.reference));return"reference"==this.whereCondition.operator||e}ngOnInit(){this.setContextReferenceUse()}setContextReferenceUse(){const e=this.model.getField("visualization_params");if(e)for(let t in e)e.hasOwnProperty(t)&&(e[t].googlecharts&&e[t].googlecharts.context&&this.whereCondition.context&&this.whereCondition.context==e[t].googlecharts.context&&(this.contextUsed=!0),e[t].highcharts&&e[t].highcharts.context&&this.whereCondition.context&&this.whereCondition.context==e[t].highcharts.context&&(this.contextUsed=!0))}}return ReportsDesignerConditionGroupExpansion.ɵfac=function(e){return new(e||ReportsDesignerConditionGroupExpansion)(g.Y36(h.d),g.Y36(Z),g.Y36(m.o))},ReportsDesignerConditionGroupExpansion.ɵcmp=g.Xpm({type:ReportsDesignerConditionGroupExpansion,selectors:[["reports-designer-condition-group-expansion"]],inputs:{whereCondition:"whereCondition"},decls:67,vars:18,consts:[[1,"slds-grid","slds-p-around--x-small",2,"box-shadow","inset -1px 1px 6px 0 #aaa"],[1,"slds-form-element","slds-form-element_compound","slds-p-vertical--x-small","slds-size--1-of-1"],[1,"slds-form-element__control"],[1,"slds-grid","slds-m-vertical--xx-small","slds-grid--align-spread"],[1,"slds-form-element","slds-size--1-of-1"],[1,"slds-form-element__label"],["label","LBL_PATH"],["type","text",1,"slds-input",3,"ngModel","disabled","ngModelChange"],[1,"slds-grid"],[1,"slds-form-element","slds-size--1-of-2"],["label","LBL_USER_EDITABLE"],[1,"slds-select_container"],[1,"slds-select",3,"ngModel","ngModelChange"],["value","yes"],["label","LBL_YES"],["value","no"],["label","LBL_NO"],["value","yfo"],["label","LBL_VALUE_ONLY"],["value","yo1"],["label","LBL_REPORTS_ALLOW_EDIT_ON_OFF"],["value","yo2"],["label","LBL_REPORTS_ALLOW_EDIT_ON_ON"],["label","LBL_GROUPING"],["label","LBL_SEQUENCE"],["type","text",1,"slds-input",3,"ngModel","ngModelChange"],["label","LBL_CONTEXT"],["label","LBL_REFERENCE"],["label","LBL_REQUIRED"],[3,"ngModel","hidelabel","disabled","ngModelChange"],["label","LBL_CUSTOM_FUNCTION"],[3,"ngModel","ngModelChange"],["label","LBL_OVERRIDE_TYPE"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"label"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0)(1,"fieldset",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"label",5),g._UZ(6,"system-label",6),g.qZA(),g.TgZ(7,"div",2)(8,"input",7),g.NdJ("ngModelChange",(function(e){return t.whereCondition.path=e})),g.qZA()()()(),g.TgZ(9,"div",8)(10,"div",9)(11,"label",5),g._UZ(12,"system-label",10),g.qZA(),g.TgZ(13,"div",2)(14,"div",11)(15,"select",12),g.NdJ("ngModelChange",(function(e){return t.whereCondition.usereditable=e})),g.TgZ(16,"option",13),g._UZ(17,"system-label",14),g.qZA(),g.TgZ(18,"option",15),g._UZ(19,"system-label",16),g.qZA(),g.TgZ(20,"option",17),g._UZ(21,"system-label",18),g.qZA(),g.TgZ(22,"option",19),g._UZ(23,"system-label",20),g.qZA(),g.TgZ(24,"option",21),g._UZ(25,"system-label",22),g.qZA()()()()(),g.TgZ(26,"div",9)(27,"label",5),g._UZ(28,"system-label",23),g.qZA(),g.TgZ(29,"div",2)(30,"input",7),g.NdJ("ngModelChange",(function(e){return t.whereCondition.grouping=e})),g.qZA()()()(),g.TgZ(31,"div",8)(32,"div",9)(33,"label",5),g._UZ(34,"system-label",24),g.qZA(),g.TgZ(35,"div",2)(36,"input",25),g.NdJ("ngModelChange",(function(e){return t.whereCondition.sequence=e})),g.qZA()()(),g.TgZ(37,"div",9)(38,"label",5),g._UZ(39,"system-label",26),g.qZA(),g.TgZ(40,"div",2)(41,"input",7),g.NdJ("ngModelChange",(function(e){return t.whereCondition.context=e})),g.qZA()()()(),g.TgZ(42,"div",8)(43,"div",9)(44,"label",5),g._UZ(45,"system-label",27),g.qZA(),g.TgZ(46,"div",2)(47,"input",7),g.NdJ("ngModelChange",(function(e){return t.whereCondition.reference=e})),g.qZA()()(),g.TgZ(48,"div",9)(49,"label",5),g._UZ(50,"system-label",28),g.qZA(),g.TgZ(51,"div",2)(52,"system-checkbox",29),g.NdJ("ngModelChange",(function(e){return t.joinType=e})),g.qZA()()()(),g.TgZ(53,"div",8)(54,"div",9)(55,"label",5),g._UZ(56,"system-label",30),g.qZA(),g.TgZ(57,"system-input-base64",31),g.NdJ("ngModelChange",(function(e){return t.whereCondition.customSqlQuery=e})),g.qZA()(),g.TgZ(58,"div",9)(59,"label",5),g._UZ(60,"system-label",32),g.qZA(),g.TgZ(61,"div",2)(62,"div",11)(63,"select",12),g.NdJ("ngModelChange",(function(e){return t.whereCondition.overrideType=e})),g._UZ(64,"option"),g.YNc(65,qe,3,4,"option",33),g.ALo(66,"keyvalue"),g.qZA()()()()()()()()),2&e&&(g.xp6(8),g.Q6J("ngModel",t.whereCondition.path)("disabled",!0),g.xp6(7),g.Q6J("ngModel",t.whereCondition.usereditable),g.xp6(15),g.Q6J("ngModel",t.whereCondition.grouping)("disabled",!0),g.xp6(6),g.Q6J("ngModel",t.whereCondition.sequence),g.xp6(5),g.Q6J("ngModel",t.whereCondition.context)("disabled",t.contextUsed),g.xp6(6),g.Q6J("ngModel",t.whereCondition.reference)("disabled",t.referenceDisabled),g.xp6(5),g.Q6J("ngModel",t.joinType)("hidelabel",!0)("disabled",!t.requiredEnabled),g.xp6(5),g.Q6J("ngModel",t.whereCondition.customSqlQuery),g.xp6(6),g.Q6J("ngModel",t.whereCondition.overrideType),g.xp6(2),g.Q6J("ngForOf",g.lcZ(66,16,t.reportsDesignerService.operatorTypes)))},directives:[A._,l.Fj,l.JJ,l.On,l.EJ,l.YN,l.Kr,Q.U,W.V,i.sg],pipes:[i.Nd,i.gd],encapsulation:2}),ReportsDesignerConditionGroupExpansion})();function ke(e,t){if(1&e&&g._UZ(0,"reports-designer-condition-group-expansion",31),2&e){const e=g.oxw().$implicit;g.Q6J("whereCondition",e)}}function Ee(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"li",22)(1,"div",23),g._UZ(2,"reports-designer-condition",24),g.TgZ(3,"div",25)(4,"button",26),g.NdJ("click",(function(){const t=g.CHM(e).$implicit;return g.oxw().deleteCondition(t.id)})),g._UZ(5,"system-button-icon",27),g.qZA(),g.TgZ(6,"button",28),g.NdJ("click",(function(){const t=g.CHM(e).$implicit;return g.oxw().toggleExpand(t.id)})),g._UZ(7,"system-utility-icon",29),g.qZA()()(),g.YNc(8,ke,1,1,"reports-designer-condition-group-expansion",30),g.qZA()}if(2&e){const e=t.$implicit,s=g.oxw();g.xp6(2),g.Q6J("whereCondition",e),g.xp6(5),g.Udp("transform",s.expanded==e.id?"rotate(180deg)":"none"),g.Q6J("colorclass",s.reportsDesignerService.expertMode?"slds-icon-text-default":"slds-icon-text-light"),g.xp6(1),g.Q6J("ngIf",s.expanded==e.id&&s.reportsDesignerService.expertMode)}}function Be(e,t){if(1&e){const e=g.EpF();g.ynx(0),g.TgZ(1,"reports-designer-condition-group",32),g.NdJ("treeChange",(function(t){g.CHM(e);return g.oxw().handleTreeChange(t)})),g.qZA(),g.BQk()}if(2&e){const e=t.$implicit;g.xp6(1),g.Q6J("group",e)("canDelete",!0)}}function Oe(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"button",33),g.NdJ("click",(function(){g.CHM(e);return g.oxw().deleteGroup()})),g._UZ(1,"system-button-icon",34)(2,"system-label",35),g.qZA()}}let Se=(()=>{class ReportsDesignerConditionGroup{constructor(e,t,s){this.language=e,this.reportsDesignerService=t,this.model=s,this.canDelete=!1,this.treeChange=new g.vpe}get groupType(){return this.group.type}set groupType(e){this.group.type=e,this.model.getField("wheregroups").some((t=>{if(t.id==this.group.id)return t.type=e,!0}))}get whereConditions(){return this.model.getField("whereconditions")}set whereConditions(e){this.model.setField("whereconditions",e)}onDrop(e){this.reportsDesignerService.removePlaceHolderElement(e.previousContainer.element.nativeElement),e.previousContainer===e.container?(0,d.bA)(this.group.conditions,e.previousIndex,e.currentIndex):this.addCondition(e.item.data)}addGroup(){this.treeChange.emit({action:"addGroup",id:this.group.id})}deleteGroup(){this.treeChange.emit({action:"deleteGroup",id:this.group.id})}handleTreeChange(e){this.treeChange.emit(e)}toggleExpand(e){this.reportsDesignerService.expertMode&&(this.expanded=e==this.expanded?null:e)}addCondition(e){let t=this.reportsDesignerService.generateGuid(),s=`${this.reportsDesignerService.getCurrentPath()}::${e.id}`;if("root"!=this.group.unionid){const t=this.reportsDesignerService.getCurrentPath().indexOf("link")<0?"unionroot::":"",i=this.reportsDesignerService.getCurrentPath().replace("root:","");s=`${t}union${this.group.unionid}:${i}::${e.id}`}let i={id:t,groupid:this.group.id,unionid:this.group.unionid,fieldid:t,referencefieldid:"",path:s,displaypath:this.reportsDesignerService.getCurrentPath(),name:e.name,type:e.type,operator:"ignore",jointype:"required",usereditable:"no",dashleteditable:"no",exportpdf:"no",value:"",valueto:"",valuekey:"",valuetokey:""};this.group.conditions.push(i),this.whereConditions=this.whereConditions?[...this.whereConditions,i]:[i]}deleteCondition(e){this.group.conditions=this.group.conditions.filter((t=>t.id!=e)),this.whereConditions=this.whereConditions.filter((t=>t.id!=e))}trackByFn(e,t){return t.id}}return ReportsDesignerConditionGroup.ɵfac=function(e){return new(e||ReportsDesignerConditionGroup)(g.Y36(h.d),g.Y36(Z),g.Y36(m.o))},ReportsDesignerConditionGroup.ɵcmp=g.Xpm({type:ReportsDesignerConditionGroup,selectors:[["reports-designer-condition-group"]],inputs:{group:"group",canDelete:"canDelete"},outputs:{treeChange:"treeChange"},decls:23,vars:7,consts:[[1,"slds-expression__group"],[1,"slds-grid","slds-gutters_direct-xx-small","slds-grid--vertical-align-end","slds-size--1-of-1"],[1,"slds-form-element","slds-grid","slds-grid--vertical-align-center","slds-m-bottom--xx-small"],[1,"slds-form-element__label"],["label","LBL_GROUP_OPERATOR"],[1,"slds-form-element__control"],[1,"slds-select_container"],[1,"slds-select",3,"ngModel","ngModelChange"],["value","AND"],["label","LBL_AND"],["value","OR"],["label","LBL_OR"],[1,"slds-m-vertical--x-small","slds-p-horizontal--x-small"],["class","slds-expression__row_group slds-m-vertical--x-small","style","border: 1px dashed #ddd; padding: 1px",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDropList","",1,"slds-align--absolute-center","slds-text-color--inverse-weak",2,"min-height","30px","border","1px dashed #ddd",3,"id","cdkDropListDropped"],["label","MSG_DROP_FIELD_HERE"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"slds-expression__buttons"],[1,"slds-button","slds-button_neutral",3,"click"],["icon","add",1,"slds-m-right--xx-small"],["label","LBL_ADD_GROUP"],["class","slds-button slds-button_neutral slds-m-left--xx-small",3,"click",4,"ngIf"],[1,"slds-expression__row_group","slds-m-vertical--x-small",2,"border","1px dashed #ddd","padding","1px"],[1,"slds-grid","slds-p-around--xx-small"],[1,"slds-grid","slds-grid--vertical-align-center","slds-grow",3,"whereCondition"],[1,"slds-grid","slds-grid--vertical-align-center"],[1,"slds-button","slds-button_icon","slds-button_icon-border-filled","slds-m-left--xx-small",3,"click"],["icon","delete"],[1,"slds-button","slds-button_icon","slds-m-left--xx-small","slds-p-vertical--x-small","slds-p-horizontal--xx-small",3,"click"],["icon","down","size","x-small",3,"colorclass"],[3,"whereCondition",4,"ngIf"],[3,"whereCondition"],[3,"group","canDelete","treeChange"],[1,"slds-button","slds-button_neutral","slds-m-left--xx-small",3,"click"],["icon","delete",1,"slds-m-right--xx-small"],["label","LBL_DELETE_GROUP"]],template:function(e,t){1&e&&(g.TgZ(0,"li",0)(1,"fieldset")(2,"div",1)(3,"div",2)(4,"label",3),g._UZ(5,"system-label",4),g.qZA(),g.TgZ(6,"div",5)(7,"div",6)(8,"select",7),g.NdJ("ngModelChange",(function(e){return t.groupType=e})),g.TgZ(9,"option",8),g._UZ(10,"system-label",9),g.qZA(),g.TgZ(11,"option",10),g._UZ(12,"system-label",11),g.qZA()()()()()(),g.TgZ(13,"ul",12),g.YNc(14,Ee,9,5,"li",13),g.TgZ(15,"li",14),g.NdJ("cdkDropListDropped",(function(e){return t.onDrop(e)})),g._UZ(16,"system-label",15),g.qZA(),g.YNc(17,Be,2,2,"ng-container",16),g.qZA(),g.TgZ(18,"div",17)(19,"button",18),g.NdJ("click",(function(){return t.addGroup()})),g._UZ(20,"system-button-icon",19)(21,"system-label",20),g.qZA(),g.YNc(22,Oe,3,0,"button",21),g.qZA()()()),2&e&&(g.xp6(8),g.Q6J("ngModel",t.groupType),g.xp6(6),g.Q6J("ngForOf",t.group.conditions)("ngForTrackBy",t.trackByFn),g.xp6(1),g.Q6J("id",t.group.id),g.xp6(2),g.Q6J("ngForOf",t.group.children)("ngForTrackBy",t.trackByFn),g.xp6(5),g.Q6J("ngIf",t.canDelete))},directives:[A._,l.EJ,l.JJ,l.On,l.YN,l.Kr,i.sg,Ne,I.J,F.r,i.O5,Re,d.Wj,ReportsDesignerConditionGroup],styles:[".cdk-drop-list[_ngcontent-%COMP%]:hover{background:#fff}"]}),ReportsDesignerConditionGroup})(),Qe=(()=>{class ReportsDesignerFilter{constructor(e,t){this.reportsDesignerService=e,this.model=t,this.module={},this.rootGroup={},this.subscription=new x.w0}get whereConditions(){return this.model.getField("whereconditions")}set whereConditions(e){this.model.setField("whereconditions",e)}get whereGroups(){return this.model.getField("wheregroups")}set whereGroups(e){e=e.map((e=>_.omit(e,["conditions","children"]))),this.model.setField("wheregroups",e)}ngOnChanges(){this.loadWhereGroups()}ngOnDestroy(){this.subscription.unsubscribe()}generateGroup(e="-",t=this.reportsDesignerService.generateGuid()){return{id:t,groupid:t,unionid:this.module.unionid,type:"AND",parent:e,conditions:[],children:[],group:"-"!==e?null:"root"}}loadWhereGroups(){this.rootGroup={};const e=this.whereGroups&&this.whereGroups.length&&this.whereGroups.find((e=>this.module.unionid==e.unionid&&"-"==e.parent));e?(this.rootGroup=Object.assign({},e),this.setGroupConditions(this.rootGroup)):(this.rootGroup=this.generateGroup("-",this.module.unionid),this.whereGroups=this.whereGroups&&this.whereGroups.length?[...this.whereGroups,Object.assign({},this.rootGroup)]:[Object.assign({},this.rootGroup)]),this.buildTree()}handleTreeChange(e){switch(e.action){case"deleteGroup":this.whereGroups=this.whereGroups.filter((t=>t.id!=e.id)),this.cleanGroup(e.id),this.buildTree();break;case"addGroup":this.whereGroups=[...this.whereGroups,this.generateGroup(e.id)],this.buildTree()}}buildTree(){this.rootGroup.children=[],this.addGroupChildren(this.rootGroup)}setGroupConditions(e){e.conditions=this.whereConditions?this.whereConditions.filter((t=>t.groupid==e.id)):[]}addGroupChildren(e){for(let t of this.whereGroups)if(t.parent==e.id){let s=Object.assign({},t);this.setGroupConditions(s),s.children=[],e.children.push(s),this.addGroupChildren(s)}}cleanGroup(e){this.markDeletedGroupChildren(e),this.whereGroups=this.whereGroups.filter((e=>!e.deleted)),this.cleanWhereConditions()}markDeletedGroupChildren(e){for(let t of this.whereGroups)t.parent==e&&(this.markDeletedGroupChildren(t.id),t.deleted=!0)}cleanWhereConditions(){this.whereConditions&&(this.whereConditions=this.whereConditions.filter((e=>this.whereGroups.some((t=>t.id==e.groupid)))))}}return ReportsDesignerFilter.ɵfac=function(e){return new(e||ReportsDesignerFilter)(g.Y36(Z),g.Y36(m.o))},ReportsDesignerFilter.ɵcmp=g.Xpm({type:ReportsDesignerFilter,selectors:[["reports-designer-filter"]],inputs:{module:"module"},features:[g.TTD],decls:2,vars:1,consts:[[1,"slds-p-horizontal--small"],[3,"group","treeChange"]],template:function(e,t){1&e&&(g.TgZ(0,"ul",0)(1,"reports-designer-condition-group",1),g.NdJ("treeChange",(function(e){return t.handleTreeChange(e)})),g.qZA()()),2&e&&(g.xp6(1),g.Q6J("group",t.rootGroup))},directives:[Se],encapsulation:2}),ReportsDesignerFilter})();const Pe=["itemContainer"];let Ye=(()=>{class ReportsDesignerPresentItem{constructor(e,t){this.language=e,this.metadata=t,this.component=""}ngAfterViewInit(){this.render()}ngOnDestroy(){this.componentRef&&this.componentRef.destroy()}render(){this.metadata.addComponent(this.component,this.itemContainer).subscribe((e=>this.componentRef=e))}}return ReportsDesignerPresentItem.ɵfac=function(e){return new(e||ReportsDesignerPresentItem)(g.Y36(h.d),g.Y36(f.Pu))},ReportsDesignerPresentItem.ɵcmp=g.Xpm({type:ReportsDesignerPresentItem,selectors:[["reports-designer-present-item"]],viewQuery:function(e,t){if(1&e&&g.Gf(Pe,7,g.s_b),2&e){let e;g.iGM(e=g.CRH())&&(t.itemContainer=e.first)}},inputs:{component:"component"},decls:2,vars:0,consts:[["itemContainer",""]],template:function(e,t){1&e&&g._UZ(0,"div",null,0)},encapsulation:2}),ReportsDesignerPresentItem})();function ze(e,t){if(1&e&&(g.TgZ(0,"option",11),g._uU(1),g.qZA()),2&e){const e=t.$implicit;g.Q6J("value",e.id),g.xp6(1),g.Oqu(e.name)}}function Ge(e,t){if(1&e&&g._UZ(0,"reports-designer-present-item",13),2&e){const e=g.oxw().$implicit;g.Q6J("component",e.component)}}function He(e,t){if(1&e&&(g.TgZ(0,"div"),g.YNc(1,Ge,1,1,"reports-designer-present-item",12),g.qZA()),2&e){const e=t.$implicit,s=g.oxw();g.xp6(1),g.Q6J("ngIf",s.selectedItemId==e.id&&!!e.component)}}let Ve=(()=>{class ReportsDesignerPresent{constructor(e,t,s,i){this.language=e,this.metadata=t,this.model=s,this.reportsDesignerService=i,this.plugins=[]}get selectedItemId(){return this.model.getField("listtype")}set selectedItemId(e){this.model.setField("listtype",e),this.initializePresentationParams(e)}ngOnInit(){this.initializePresentationParams(),this.plugins=this.reportsDesignerService.loadPlugins("ReportsDesignerPresent")}initializePresentationParams(e){let t=this.model.getField("presentation_params");t&&t.plugin?e&&t.plugin!=e&&(t={plugin:e,pluginData:{}}):t={plugin:"standard",pluginData:{}},this.model.setField("presentation_params",t)}trackByFn(e,t){return t.id}}return ReportsDesignerPresent.ɵfac=function(e){return new(e||ReportsDesignerPresent)(g.Y36(h.d),g.Y36(f.Pu),g.Y36(m.o),g.Y36(Z))},ReportsDesignerPresent.ɵcmp=g.Xpm({type:ReportsDesignerPresent,selectors:[["reports-designer-present"]],decls:11,vars:4,consts:[[1,"slds-grid","slds-grid--vertical",2,"height","100%"],[1,"slds-border--bottom","slds-p-around--xx-small","slds-page-header",2,"border-radius","0"],[1,"slds-form-element","slds-grid","slds-grid--vertical-align-center"],[1,"slds-form-element__label","slds-text-heading--label"],["label","LBL_PLUGIN"],[1,"slds-form-element__control"],[1,"slds-select_container"],[1,"slds-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"slds-scrollable--y","slds-grow"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"value"],[3,"component",4,"ngIf"],[3,"component"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),g._UZ(4,"system-label",4),g.qZA(),g.TgZ(5,"div",5)(6,"div",6)(7,"select",7),g.NdJ("ngModelChange",(function(e){return t.selectedItemId=e})),g.YNc(8,ze,2,2,"option",8),g.qZA()()()()(),g.TgZ(9,"div",9),g.YNc(10,He,2,1,"div",10),g.qZA()()),2&e&&(g.xp6(7),g.Q6J("ngModel",t.selectedItemId),g.xp6(1),g.Q6J("ngForOf",t.plugins),g.xp6(2),g.Q6J("ngForOf",t.plugins)("ngForTrackBy",t.trackByFn))},directives:[A._,l.EJ,l.JJ,l.On,i.sg,l.YN,l.Kr,i.O5,Ye],encapsulation:2}),ReportsDesignerPresent})();const je=["itemContainer"];let $e=(()=>{class ReportsDesignerVisualizeItem{constructor(e,t){this.language=e,this.metadata=t,this.component=""}ngAfterViewInit(){this.render()}ngOnDestroy(){this.componentRef&&this.componentRef.destroy()}render(){this.metadata.addComponent(this.component,this.itemContainer).subscribe((e=>this.componentRef=e))}}return ReportsDesignerVisualizeItem.ɵfac=function(e){return new(e||ReportsDesignerVisualizeItem)(g.Y36(h.d),g.Y36(f.Pu))},ReportsDesignerVisualizeItem.ɵcmp=g.Xpm({type:ReportsDesignerVisualizeItem,selectors:[["reports-designer-visualize-item"]],viewQuery:function(e,t){if(1&e&&g.Gf(je,7,g.s_b),2&e){let e;g.iGM(e=g.CRH())&&(t.itemContainer=e.first)}},inputs:{component:"component"},decls:2,vars:0,consts:[["itemContainer",""]],template:function(e,t){1&e&&g._UZ(0,"div",null,0)},encapsulation:2}),ReportsDesignerVisualizeItem})();function Xe(e,t){if(1&e&&(g.TgZ(0,"option",21),g._uU(1),g.qZA()),2&e){const e=t.$implicit;g.Q6J("ngValue",e),g.xp6(1),g.hij(" ",e.value," ")}}function Ke(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"span",22)(1,"input",23),g.NdJ("ngModelChange",(function(t){g.CHM(e);return g.oxw().activeLayoutItem=t})),g.qZA(),g.TgZ(2,"label",24)(3,"span",25),g._uU(4),g.qZA()()()}if(2&e){const e=t.$implicit,s=g.oxw();g.xp6(1),g.Q6J("value",e)("ngModel",s.activeLayoutItem)("disabled",0==s.selectedLayout.itemsCount||e>s.selectedLayout.itemsCount)("id","ReportsDesignerVisualizationlayoutActiveItem"+e),g.xp6(1),g.Q6J("for","ReportsDesignerVisualizationlayoutActiveItem"+e),g.xp6(2),g.Oqu(e)}}function We(e,t){if(1&e&&(g.TgZ(0,"option",26),g._uU(1),g.qZA()),2&e){const e=t.$implicit;g.Q6J("value",e.id),g.xp6(1),g.Oqu(e.name)}}function et(e,t){if(1&e&&g._UZ(0,"reports-designer-visualize-item",28),2&e){const e=g.oxw().$implicit;g.Q6J("component",e.component)}}function tt(e,t){if(1&e&&(g.TgZ(0,"div"),g.YNc(1,et,1,1,"reports-designer-visualize-item",27),g.qZA()),2&e){const e=t.$implicit,s=g.oxw();g.xp6(1),g.Q6J("ngIf",s.selectedLayout.itemsCount>0&&s.selectedPluginId==e.id&&!!e.component)}}function st(e,t){1&e&&(g.TgZ(0,"div",29),g._UZ(1,"system-label",30),g.qZA())}let it=(()=>{class ReportsDesignerVisualize{constructor(e,t,s,i){this.language=e,this.metadata=t,this.reportsDesignerService=s,this.model=i,this.plugins=[],this.radioButtonItems=["1","2","3","4","5"],this.layoutOptions=[{value:"-",itemsCount:0},{value:"1x1",itemsCount:1},{value:"1x2",itemsCount:2},{value:"1x3",itemsCount:3},{value:"1x4",itemsCount:4},{value:"2x2",itemsCount:4},{value:"2x2wide",itemsCount:4},{value:"1x3x2",itemsCount:3},{value:"1x2x1",itemsCount:2},{value:"1+1+2",itemsCount:4},{value:"1x2x2",itemsCount:3},{value:"2x1x4",itemsCount:5}]}get selectedLayout(){return this._selectedLayout}set selectedLayout(e){this.model.getField("visualization_params").layout=e.value,this._selectedLayout=e,this.activeLayoutItem=this._selectedLayout.itemsCount>0?"1":void 0}get visualizationParams(){let e=this.model.getField("visualization_params");return e||{}}get activeLayoutItem(){return this.reportsDesignerService.visualizeActiveLayoutItem}set activeLayoutItem(e){this.reportsDesignerService.visualizeActiveLayoutItem=e,this.visualizationParams[e]||(this.visualizationParams[e]={})}get selectedPluginId(){var e;return null===(e=this.visualizationParams[this.activeLayoutItem])||void 0===e?void 0:e.plugin}set selectedPluginId(e){this.visualizationParams[this.activeLayoutItem].plugin=e}get chartHeight(){return this.model.getField("visualization_params").chartheight}set chartHeight(e){this.model.getField("visualization_params").chartheight=e}ngOnInit(){this.initializeVisualizationParams(),this.reportsDesignerService.loadVisualizationColors(),this.plugins=this.reportsDesignerService.loadPlugins("ReportsDesignerVisualize")}trackByFn(e,t){return t.id}initializeVisualizationParams(){let e=this.model.getField("visualization_params");e||(e={}),e.layout||(e.layout="-"),e.chartheight||(e.chartheight=400),this._selectedLayout=this.layoutOptions.find((t=>t.value==e.layout)),this.activeLayoutItem="1",this.model.setField("visualization_params",e)}}return ReportsDesignerVisualize.ɵfac=function(e){return new(e||ReportsDesignerVisualize)(g.Y36(h.d),g.Y36(f.Pu),g.Y36(Z),g.Y36(m.o))},ReportsDesignerVisualize.ɵcmp=g.Xpm({type:ReportsDesignerVisualize,selectors:[["reports-designer-visualize"]],decls:31,vars:11,consts:[[1,"slds-grid","slds-grid--vertical",2,"height","100%"],[1,"slds-border--bottom","slds-p-around--x-small","slds-page-header","slds-grid",2,"border-radius","0"],[1,"slds-form-element","slds-grid","slds-grid--vertical-align-center"],[1,"slds-form-element__label","slds-text-heading--label"],["label","LBL_LAYOUT"],[1,"slds-form-element__control"],[1,"slds-select_container"],[1,"slds-select",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"slds-form-element","slds-grid","slds-grid--vertical-align-center","slds-m-left--x-small"],["label","LBL_HEIGHT"],["type","text","size","5",1,"slds-input",3,"ngModel","ngModelChange"],["label","LBL_ITEMS"],[1,"slds-radio_button-group"],["class","slds-button slds-radio_button",4,"ngFor","ngForOf"],["label","LBL_PLUGIN"],[1,"slds-select",3,"ngModel","disabled","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"slds-scrollable--y","slds-grow",2,"min-height","0"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","slds-align--absolute-center","style","height: 100%",4,"ngIf"],[3,"ngValue"],[1,"slds-button","slds-radio_button"],["type","radio","name","layoutActiveItem",3,"value","ngModel","disabled","id","ngModelChange"],[1,"slds-radio_button__label",3,"for"],[1,"slds-radio_faux"],[3,"value"],[3,"component",4,"ngIf"],[3,"component"],[1,"slds-align--absolute-center",2,"height","100%"],["label","LBL_MAKE_SELECTION"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),g._UZ(4,"system-label",4),g.qZA(),g.TgZ(5,"div",5)(6,"div",6)(7,"select",7),g.NdJ("ngModelChange",(function(e){return t.selectedLayout=e})),g.YNc(8,Xe,2,2,"option",8),g.qZA()()()(),g.TgZ(9,"div",9)(10,"label",3),g._UZ(11,"system-label",10),g.qZA(),g.TgZ(12,"div",5)(13,"input",11),g.NdJ("ngModelChange",(function(e){return t.chartHeight=e})),g.qZA()()(),g.TgZ(14,"div",9)(15,"label",3),g._UZ(16,"system-label",12),g.qZA(),g.TgZ(17,"div",5)(18,"div",13),g.YNc(19,Ke,5,6,"span",14),g.qZA()()(),g.TgZ(20,"div",9)(21,"label",3),g._UZ(22,"system-label",15),g._uU(23),g.qZA(),g.TgZ(24,"div",5)(25,"div",6)(26,"select",16),g.NdJ("ngModelChange",(function(e){return t.selectedPluginId=e})),g.YNc(27,We,2,2,"option",17),g.qZA()()()()(),g.TgZ(28,"div",18),g.YNc(29,tt,2,1,"div",19),g.YNc(30,st,2,0,"div",20),g.qZA()()),2&e&&(g.xp6(7),g.Q6J("ngModel",t.selectedLayout),g.xp6(1),g.Q6J("ngForOf",t.layoutOptions),g.xp6(5),g.Q6J("ngModel",t.chartHeight),g.xp6(6),g.Q6J("ngForOf",t.radioButtonItems),g.xp6(4),g.hij(" (",t.activeLayoutItem,") "),g.xp6(3),g.Q6J("ngModel",t.selectedPluginId)("disabled",0==t.selectedLayout.itemsCount),g.xp6(1),g.Q6J("ngForOf",t.plugins),g.xp6(2),g.Q6J("ngForOf",t.plugins)("ngForTrackBy",t.trackByFn),g.xp6(1),g.Q6J("ngIf",0==t.selectedLayout.itemsCount||!t.selectedPluginId))},directives:[A._,l.EJ,l.JJ,l.On,i.sg,l.YN,l.Kr,l.Fj,l._,i.O5,$e],encapsulation:2}),ReportsDesignerVisualize})();const lt=["itemContainer"];let nt=(()=>{class ReportsDesignerIntegrateItem{constructor(e,t){this.language=e,this.metadata=t,this.component=""}ngAfterViewInit(){this.render()}ngOnDestroy(){this.componentRef&&this.componentRef.destroy()}render(){this.metadata.addComponent(this.component,this.itemContainer).subscribe((e=>this.componentRef=e))}}return ReportsDesignerIntegrateItem.ɵfac=function(e){return new(e||ReportsDesignerIntegrateItem)(g.Y36(h.d),g.Y36(f.Pu))},ReportsDesignerIntegrateItem.ɵcmp=g.Xpm({type:ReportsDesignerIntegrateItem,selectors:[["reports-designer-integrate-item"]],viewQuery:function(e,t){if(1&e&&g.Gf(lt,7,g.s_b),2&e){let e;g.iGM(e=g.CRH())&&(t.itemContainer=e.first)}},inputs:{component:"component"},decls:2,vars:0,consts:[["itemContainer",""]],template:function(e,t){1&e&&g._UZ(0,"div",null,0)},encapsulation:2}),ReportsDesignerIntegrateItem})();var ot=s(2646);function rt(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",5),g.NdJ("click",(function(){const t=g.CHM(e).$implicit;return g.oxw().setSelectedItemId(t.id)})),g.TgZ(1,"div",6),g._UZ(2,"system-label",7),g.qZA(),g.TgZ(3,"div",8)(4,"label",9),g._UZ(5,"span",10),g.TgZ(6,"input",11),g.NdJ("ngModelChange",(function(t){const s=g.CHM(e).$implicit;return g.oxw().setActivePlugins(s.id,t)})),g.qZA(),g.TgZ(7,"span",12),g._UZ(8,"span",13),g.qZA()()()()}if(2&e){const e=t.$implicit,s=g.oxw();g.ekj("slds-theme--shade",e.id==s.selectedItemId),g.xp6(2),g.Q6J("label",e.name),g.xp6(4),g.Q6J("ngModel",s.activePlugins[e.id])}}function at(e,t){if(1&e&&g._UZ(0,"reports-designer-integrate-item",16),2&e){const e=g.oxw().$implicit;g.Q6J("component",e.component)}}function dt(e,t){1&e&&(g.TgZ(0,"div",17)(1,"system-illustration-no-data"),g._UZ(2,"system-label",18),g.qZA()())}function ct(e,t){if(1&e&&(g.ynx(0),g.YNc(1,at,1,1,"reports-designer-integrate-item",14),g.YNc(2,dt,3,0,"div",15),g.BQk()),2&e){const e=t.$implicit,s=g.oxw();g.xp6(1),g.Q6J("ngIf",s.selectedItemId==e.id&&!!e.component),g.xp6(1),g.Q6J("ngIf",s.selectedItemId==e.id&&!e.component)}}let gt=(()=>{class ReportsDesignerIntegrate{constructor(e,t,s,i){this.language=e,this.metadata=t,this.model=s,this.reportsDesignerService=i,this.plugins=[],this.selectedItemId=""}get activePlugins(){return this.model.getField("integration_params").activePlugins}ngOnInit(){this.plugins=this.reportsDesignerService.loadPlugins("ReportsDesignerIntegrate"),this.initializeIntegrationParams()}initializeIntegrationParams(e){let t=this.model.getField("integration_params");t||(t={}),t.activePlugins||(t.activePlugins={},this.model.setField("integration_params",t))}setSelectedItemId(e){this.selectedItemId=e}trackByFn(e,t){return t.id}setActivePlugins(e,t){const s=this.model.getField("integration_params");s.activePlugins[e]=t?1:0,this.model.setField("integration_params",s)}}return ReportsDesignerIntegrate.ɵfac=function(e){return new(e||ReportsDesignerIntegrate)(g.Y36(h.d),g.Y36(f.Pu),g.Y36(m.o),g.Y36(Z))},ReportsDesignerIntegrate.ɵcmp=g.Xpm({type:ReportsDesignerIntegrate,selectors:[["reports-designer-integrate"]],decls:5,vars:3,consts:[[1,"slds-grid",2,"height","100%"],[1,"slds-size--1-of-3","slds-border--right","slds-scrollable--y",2,"height","100%"],["class","slds-grid slds-p-around--x-small slds-size--1-of-1 slds-border--bottom","style","cursor: pointer",3,"slds-theme--shade","click",4,"ngFor","ngForOf"],[1,"slds-size--2-of-3","slds-scrollable--y",2,"height","100%"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"slds-grid","slds-p-around--x-small","slds-size--1-of-1","slds-border--bottom",2,"cursor","pointer",3,"click"],[1,"slds-truncate","slds-grow","slds-align-middle"],[3,"label"],[1,"slds-form-element"],[1,"slds-checkbox_toggle","slds-grid"],[1,"slds-form-element__label","slds-m-bottom_none"],["type","checkbox",3,"ngModel","ngModelChange"],["aria-live","assertive",1,"slds-checkbox_faux_container"],[1,"slds-checkbox_faux",2,"cursor","initial"],[3,"component",4,"ngIf"],["class","slds-grid slds-grid--vertical-align-center slds-grid--align-center","style","height: 100%",4,"ngIf"],[3,"component"],[1,"slds-grid","slds-grid--vertical-align-center","slds-grid--align-center",2,"height","100%"],["label","LBL_NO_CONFIGURATION_NEEDED"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0)(1,"div",1),g.YNc(2,rt,9,4,"div",2),g.qZA(),g.TgZ(3,"div",3),g.YNc(4,ct,3,2,"ng-container",4),g.qZA()()),2&e&&(g.xp6(2),g.Q6J("ngForOf",t.plugins),g.xp6(2),g.Q6J("ngForOf",t.plugins)("ngForTrackBy",t.trackByFn))},directives:[i.sg,A._,l.Wl,l.JJ,l.On,i.O5,nt,ot.t],encapsulation:2}),ReportsDesignerIntegrate})();var pt=s(4664);function ut(e,t){1&e&&g._UZ(0,"reports-designer-details")}function mt(e,t){if(1&e&&(g.ynx(0),g._UZ(1,"reports-designer-manipulate")(2,"reports-designer-manipulate-union",45),g.BQk()),2&e){const e=g.oxw(3);g.xp6(1),g.ekj("slds-hide","root"!=e.reportsDesignerService.activeModule.unionid),g.xp6(1),g.ekj("slds-hide","root"==e.reportsDesignerService.activeModule.unionid),g.Q6J("module",e.reportsDesignerService.activeModule)("currentUnionListFields",e.currentUnionListFields)}}function ht(e,t){if(1&e&&g._UZ(0,"reports-designer-filter",5),2&e){const e=g.oxw(3);g.Q6J("module",e.reportsDesignerService.activeModule)}}function ft(e,t){1&e&&g._UZ(0,"reports-designer-present")}function bt(e,t){1&e&&g._UZ(0,"reports-designer-visualize")}function Zt(e,t){1&e&&g._UZ(0,"reports-designer-integrate")}function _t(e,t){1&e&&(g.ynx(0),g.YNc(1,ut,1,0,"reports-designer-details",43),g.YNc(2,mt,3,6,"ng-container",43),g.YNc(3,ht,1,1,"reports-designer-filter",44),g.YNc(4,ft,1,0,"reports-designer-present",43),g.YNc(5,bt,1,0,"reports-designer-visualize",43),g.YNc(6,Zt,1,0,"reports-designer-integrate",43),g.BQk()),2&e&&(g.xp6(1),g.Q6J("ngSwitchCase","details"),g.xp6(1),g.Q6J("ngSwitchCase","manipulate"),g.xp6(1),g.Q6J("ngSwitchCase","filter"),g.xp6(1),g.Q6J("ngSwitchCase","present"),g.xp6(1),g.Q6J("ngSwitchCase","visualize"),g.xp6(1),g.Q6J("ngSwitchCase","integrate"))}function vt(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",21)(1,"ul",22)(2,"li",23),g.NdJ("click",(function(){g.CHM(e);return g.oxw().setActiveTab("details")})),g.TgZ(3,"a",24)(4,"span",25),g._UZ(5,"system-utility-icon",26),g.qZA(),g._UZ(6,"system-label",27),g.qZA()(),g.TgZ(7,"li",23),g.NdJ("click",(function(){g.CHM(e);return g.oxw().setActiveTab("manipulate")})),g.TgZ(8,"a",24)(9,"span",25),g._UZ(10,"system-utility-icon",28),g.qZA(),g._UZ(11,"system-label",29),g.qZA()(),g.TgZ(12,"li",23),g.NdJ("click",(function(){g.CHM(e);return g.oxw().setActiveTab("filter")})),g.TgZ(13,"a",24)(14,"span",25),g._UZ(15,"system-utility-icon",30),g.qZA(),g._UZ(16,"system-label",31),g.qZA()(),g.TgZ(17,"li",23),g.NdJ("click",(function(){g.CHM(e);return g.oxw().setActiveTab("present")})),g.TgZ(18,"a",24)(19,"span",25),g._UZ(20,"system-utility-icon",32),g.qZA(),g._UZ(21,"system-label",33),g.qZA()(),g.TgZ(22,"li",23),g.NdJ("click",(function(){g.CHM(e);return g.oxw().setActiveTab("visualize")})),g.TgZ(23,"a",24)(24,"span",25),g._UZ(25,"system-utility-icon",34),g.qZA(),g._UZ(26,"system-label",35),g.qZA()(),g.TgZ(27,"li",23),g.NdJ("click",(function(){g.CHM(e);return g.oxw().setActiveTab("integrate")})),g.TgZ(28,"a",24)(29,"span",25),g._UZ(30,"system-utility-icon",36),g.qZA(),g._UZ(31,"system-label",37),g.qZA()(),g.TgZ(32,"li",38)(33,"system-checkbox",39),g.NdJ("ngModelChange",(function(t){g.CHM(e);return g.oxw().reportsDesignerService.expertMode=t})),g._UZ(34,"system-label",40),g.qZA()()(),g.TgZ(35,"div",41),g.YNc(36,_t,7,6,"ng-container",42),g.qZA()()}if(2&e){const e=g.oxw();g.xp6(2),g.ekj("slds-active","details"==e.activeTab),g.xp6(5),g.ekj("slds-active","manipulate"==e.activeTab),g.xp6(5),g.ekj("slds-active","filter"==e.activeTab),g.xp6(5),g.ekj("slds-active","present"==e.activeTab)("slds-text-color--inverse-weak",0==(null==e.reportsDesignerService.listFields?null:e.reportsDesignerService.listFields.length)),g.xp6(3),g.Q6J("colorclass",0==(null==e.reportsDesignerService.listFields?null:e.reportsDesignerService.listFields.length)?"slds-icon-text-light":"slds-icon-text-default"),g.xp6(2),g.ekj("slds-active","visualize"==e.activeTab)("slds-text-color--inverse-weak",0==(null==e.reportsDesignerService.listFields?null:e.reportsDesignerService.listFields.length)),g.xp6(3),g.Q6J("colorclass",0==(null==e.reportsDesignerService.listFields?null:e.reportsDesignerService.listFields.length)?"slds-icon-text-light":"slds-icon-text-default"),g.xp6(2),g.ekj("slds-active","integrate"==e.activeTab),g.xp6(6),g.Q6J("ngModel",e.reportsDesignerService.expertMode),g.xp6(2),g.Q6J("ngSwitch",e.activeTab),g.xp6(1),g.Q6J("ngIf",null==e.reportsDesignerService.activeModule?null:e.reportsDesignerService.activeModule.unionid)}}function Lt(e,t){1&e&&(g.TgZ(0,"div",46),g._UZ(1,"system-spinner"),g.qZA())}function xt(e,t){1&e&&(g.TgZ(0,"div",47),g._UZ(1,"system-label",48),g.qZA())}let yt=(()=>{class ReportsDesigner{constructor(e,t,s,i,l,n,o,r,a,d,c){this.language=e,this.cdr=t,this.view=s,this.router=i,this.model=l,this.modal=n,this.metadata=o,this.navigationtab=r,this.activatedRoute=a,this.injector=d,this.reportsDesignerService=c,this.subscriptions=new x.w0,this.currentUnionListFields=[],this.activeTab="manipulate",this.model.module="KReports",this.subscribeToActivatedRoute()}ngAfterViewInit(){this.view.setEditMode(),this.view.isEditable=!0,this.cdr.detectChanges()}ngOnDestroy(){this.subscriptions.unsubscribe()}setInitialValues(e){const t=this.metadata.getFieldDefs(this.model.module,"report_status");this.model.setFields({report_module:e.module,listfields:[],report_status:t.default||"1",whereconditions:[],listtype:"standard",presentation_params:{plugin:"standard",pluginData:{standardViewProperties:{processCount:"Synchronous",listEntries:25}}}})}subscribeToActivatedRoute(){this.subscriptions.add(this.navigationtab.activeRoute$.subscribe((e=>{const t=e.params;t.id&&0!=t.id.length&&("new"==t.id?this.openSelectModuleModal():(this.model.id=t.id,this.model.getData().subscribe((e=>{if(e.report_module&&0!=e.report_module.length){const t=this.model.getField("report_module");this.reportsDesignerService.setCurrentPath(t,t),this.reportsDesignerService.activeModule={unionid:"root",module:e.report_module}}else this.openSelectModuleModal(),this.activeTab="details";e.listfields||this.model.setField("listfields",[]),e.whereconditions||this.model.setField("whereconditions",[]),this.navigationtab.setTabInfo({displayname:this.model.getField("name"),displaymodule:this.model.module})}))))})))}setActiveTab(e){"details"==this.activeTab&&!this.model.validate()||("present"==e||"visualize"==e)&&0==this.reportsDesignerService.listFields.length||(this.activeTab=e)}goToModule(){this.router.navigate(["/module/KReports"])}cancel(){this.model.isNew&&this.navigationtab.closeTab(),this.model.cancelEdit(),this.view.setViewMode(),this.navigationtab.closeTab(),this.router.navigate(["/module/KReports/"+(this.model.isNew?"":this.model.id)])}save(){this.model.validate()&&this.model.save(!0).subscribe((()=>{this.view.setViewMode(),this.navigationtab.closeTab(),this.router.navigate(["/module/KReports/"+this.model.id])}))}openSelectModuleModal(){this.model.initialize(),this.modal.openModal("ReportsDesignerSelectModuleModal",!0,this.injector).subscribe((e=>{e.instance.createmode=!0,e.instance.response.subscribe((e=>{e?(this.setInitialValues(e),this.reportsDesignerService.setCurrentPath(e.module,e.module),this.reportsDesignerService.activeModule={unionid:"root",module:e.module},this.navigationtab.setTabInfo({displayname:this.model.getField("name"),displaymodule:this.model.module})):(this.navigationtab.closeTab(),this.cancel())}))}))}handleUnionDelete(e){this.cleanWhereGroups(e),this.cleanUnionListFields(e)}handleUnionAdd(e){this.currentUnionListFields=e}cleanWhereGroups(e){let t=this.model.getField("wheregroups");t&&t.length&&(t=t.filter((t=>t.unionid!=e)),this.model.setField("wheregroups",t),this.cleanWhereConditions(t))}cleanWhereConditions(e){let t=this.model.getField("whereconditions");t&&t.length&&(t=t.filter((t=>e.some((e=>e.id==t.groupid)))),this.model.setField("whereconditions",t))}cleanUnionListFields(e){let t=this.model.getField("unionlistfields");t&&t.length&&(t=t.filter((t=>t.joinid!=e)),this.model.setField("unionlistfields",t))}}return ReportsDesigner.ɵfac=function(e){return new(e||ReportsDesigner)(g.Y36(h.d),g.Y36(g.sBO),g.Y36(L.e),g.Y36(y.F0),g.Y36(m.o),g.Y36(T.o),g.Y36(f.Pu),g.Y36(C.d),g.Y36(y.gz),g.Y36(g.zs3),g.Y36(Z))},ReportsDesigner.ɵcmp=g.Xpm({type:ReportsDesigner,selectors:[["reports-designer"]],features:[g._Bn([Z,v.s,L.e,m.o])],decls:23,vars:8,consts:[[1,"slds-page-header"],[1,"slds-grid"],[1,"slds-col","slds-has-flexi-truncate"],[1,"slds-media","slds-no-space","slds-grow"],[1,"slds-media__figure",3,"click"],[3,"module"],[1,"slds-media__body"],["href","javascript:void(0);",1,"slds-text-title--caps","slds-line-height--reset",3,"click"],[1,"slds-page-header__title","slds-m-right--small","slds-align-middle","slds-truncate"],[1,"slds-align-top","slds-col","slds-grid","slds-no-flex","slds-p-top--x-small"],[1,"slds-button","slds-m-left--x-small","slds-button--neutral",3,"disabled","click"],["label","LBL_CANCEL"],[1,"slds-button","slds-m-horizontal--x-small","slds-button--brand",3,"disabled","click"],["label","LBL_SAVE"],["system-to-bottom","","cdkDropListGroup","",1,"slds-grid"],[1,"slds-size--1-of-3","slds-border--right","slds-grid--vertical",2,"height","100%"],[3,"onUnionDelete","onUnionAdd"],[1,"slds-size--2-of-3",2,"height","100%"],["class","slds-tabs--default",4,"ngIf"],["class","slds-align--absolute-center","style","height: 100%",4,"ngIf"],["class","slds-p-around--small slds-align--absolute-center","style","height: 100%",4,"ngIf"],[1,"slds-tabs--default"],["role","tablist",1,"slds-tabs--default__nav"],["role","presentation",1,"slds-tabs--default__item","slds-text-title--caps",3,"click"],["href","javascript:void(0);","role","tab","aria-selected","false",1,"slds-tabs--default__link"],[1,"slds-tabs__left-icon"],["icon","summarydetail","size","x-small"],["label","LBL_DETAILS"],["icon","database","size","x-small"],["label","LBL_MANIPULATE"],["icon","filterList","size","x-small"],["label","LBL_FILTER"],["icon","screen","size","x-small",3,"colorclass"],["label","LBL_PRESENT"],["icon","chart","size","x-small",3,"colorclass"],["label","LBL_VISUALIZE"],["icon","settings","size","x-small"],["label","LBL_INTEGRATE"],["role","presentation",1,"slds-grid","slds-grid--vertical-align-center","slds-text-title--caps","slds-col--bump-left","slds-p-vertical--x-small"],[3,"ngModel","ngModelChange"],["label","LBL_EXPERT_MODE"],["system-to-bottom","",3,"ngSwitch"],[4,"ngIf"],[4,"ngSwitchCase"],[3,"module",4,"ngSwitchCase"],[3,"module","currentUnionListFields"],[1,"slds-align--absolute-center",2,"height","100%"],[1,"slds-p-around--small","slds-align--absolute-center",2,"height","100%"],["label","LBL_MAKE_SELECTION"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),g.NdJ("click",(function(){return t.goToModule()})),g._UZ(5,"system-icon",5),g.qZA(),g.TgZ(6,"div",6)(7,"a",7),g.NdJ("click",(function(){return t.goToModule()})),g._UZ(8,"system-label-modulename",5),g.qZA(),g.TgZ(9,"h1",8),g._uU(10),g.qZA()()()(),g.TgZ(11,"div",9)(12,"button",10),g.NdJ("click",(function(){return t.cancel()})),g._UZ(13,"system-label",11),g.qZA(),g.TgZ(14,"button",12),g.NdJ("click",(function(){return t.save()})),g._UZ(15,"system-label",13),g.qZA()()()(),g.TgZ(16,"div",14)(17,"div",15)(18,"reports-designer-tree",16),g.NdJ("onUnionDelete",(function(e){return t.handleUnionDelete(e)}))("onUnionAdd",(function(e){return t.handleUnionAdd(e)})),g.qZA()(),g.TgZ(19,"div",17),g.YNc(20,vt,37,21,"div",18),g.YNc(21,Lt,2,0,"div",19),g.YNc(22,xt,2,0,"div",20),g.qZA()()),2&e&&(g.xp6(5),g.Q6J("module",t.model.module),g.xp6(3),g.Q6J("module",t.model.module),g.xp6(2),g.hij(" ",t.model.getField("name")," "),g.xp6(2),g.Q6J("disabled",t.model.isLoading),g.xp6(2),g.Q6J("disabled",t.model.isLoading),g.xp6(6),g.Q6J("ngIf",!t.model.isLoading&&!(null==t.reportsDesignerService.activeModule||!t.reportsDesignerService.activeModule.module)),g.xp6(1),g.Q6J("ngIf",t.model.isLoading),g.xp6(1),g.Q6J("ngIf",!(t.model.isLoading||null!=t.reportsDesignerService.activeModule&&t.reportsDesignerService.activeModule.module)))},directives:[D.f,M.M,A._,U.H,d.Fd,S,i.O5,F.r,Q.U,l.JJ,l.On,i.RF,i.n9,V,ne,ue,Qe,Ve,it,gt,pt.W],encapsulation:2}),ReportsDesigner})();function Tt(e,t){if(1&e&&(g.TgZ(0,"th",3)(1,"div",4),g._UZ(2,"system-label",17),g.qZA()()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("title",e.language.getLabel("LBL_FUNCTION"))}}function Ct(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"td")(1,"div",25)(2,"div",26)(3,"div",27)(4,"select",28),g.NdJ("ngModelChange",(function(t){g.CHM(e);return g.oxw().$implicit.summaryfunction=t})),g.TgZ(5,"option",74),g._uU(6,"-"),g.qZA(),g.TgZ(7,"option",75),g._UZ(8,"system-label",76),g.qZA(),g.TgZ(9,"option",77),g._UZ(10,"system-label",78),g.qZA(),g.TgZ(11,"option",79),g._UZ(12,"system-label",80),g.qZA(),g.TgZ(13,"option",81),g._UZ(14,"system-label",82),g.qZA(),g.TgZ(15,"option",83),g._UZ(16,"system-label",84),g.qZA()()()()()()}if(2&e){const e=g.oxw().$implicit;g.xp6(4),g.Q6J("ngModel",e.summaryfunction)}}function Dt(e,t){if(1&e){const e=g.EpF();g.ynx(0),g.TgZ(1,"tr",20)(2,"td",21),g._UZ(3,"system-utility-icon",22),g.qZA(),g.TgZ(4,"td")(5,"div",23),g._UZ(6,"system-label",24),g.qZA()(),g.TgZ(7,"td")(8,"div",25)(9,"div",26)(10,"div",27)(11,"select",28),g.NdJ("ngModelChange",(function(t){return g.CHM(e).$implicit.display=t})),g.TgZ(12,"option",29),g._UZ(13,"system-label",30),g.qZA(),g.TgZ(14,"option",31),g._UZ(15,"system-label",32),g.qZA(),g.TgZ(16,"option",33),g._UZ(17,"system-label",34),g.qZA()()()()()(),g.TgZ(18,"td")(19,"div",2)(20,"system-checkbox",35),g.NdJ("ngModelChange",(function(t){const s=g.CHM(e).$implicit;return g.oxw(2).setFieldLink(s,t)})),g._uU(21," "),g.qZA()()(),g.TgZ(22,"td")(23,"div",25)(24,"div",26)(25,"div",27)(26,"select",28),g.NdJ("ngModelChange",(function(t){return g.CHM(e).$implicit.sort=t})),g._UZ(27,"option"),g.TgZ(28,"option",36),g._UZ(29,"system-label",37),g.qZA(),g.TgZ(30,"option",38),g._UZ(31,"system-label",39),g.qZA(),g.TgZ(32,"option",40),g._UZ(33,"system-label",41),g.qZA()()()()()(),g.TgZ(34,"td")(35,"div",25)(36,"div",26)(37,"input",42),g.NdJ("ngModelChange",(function(t){return g.CHM(e).$implicit.width=t})),g.qZA()()()(),g.TgZ(38,"td")(39,"div",25)(40,"div",26)(41,"div",27)(42,"select",28),g.NdJ("ngModelChange",(function(t){return g.CHM(e).$implicit.overridetype=t})),g.TgZ(43,"option",43),g._UZ(44,"system-label",44),g.qZA(),g.TgZ(45,"option",45),g._UZ(46,"system-label",46),g.qZA(),g.TgZ(47,"option",47),g._UZ(48,"system-label",48),g.qZA(),g.TgZ(49,"option",49),g._UZ(50,"system-label",50),g.qZA(),g.TgZ(51,"option",51),g._UZ(52,"system-label",52),g.qZA(),g.TgZ(53,"option",53),g._UZ(54,"system-label",54),g.qZA(),g.TgZ(55,"option",55),g._UZ(56,"system-label",56),g.qZA(),g.TgZ(57,"option",57),g._UZ(58,"system-label",58),g.qZA(),g.TgZ(59,"option",59),g._UZ(60,"system-label",60),g.qZA(),g.TgZ(61,"option",61),g._UZ(62,"system-label",62),g.qZA(),g.TgZ(63,"option",63),g._UZ(64,"system-label",64),g.qZA(),g.TgZ(65,"option",65),g._UZ(66,"system-label",66),g.qZA()()()()()(),g.YNc(67,Ct,17,1,"td",67),g.TgZ(68,"td")(69,"div",25)(70,"div",26)(71,"div",27)(72,"select",28),g.NdJ("ngModelChange",(function(t){return g.CHM(e).$implicit.overridealignment=t})),g.TgZ(73,"option",68),g._UZ(74,"system-label",69),g.qZA(),g.TgZ(75,"option",70),g._UZ(76,"system-label",71),g.qZA(),g.TgZ(77,"option",72),g._UZ(78,"system-label",73),g.qZA()()()()()(),g.TgZ(79,"td")(80,"div",25)(81,"div",26)(82,"input",42),g.NdJ("ngModelChange",(function(t){return g.CHM(e).$implicit.component=t})),g.qZA()()()()(),g.BQk()}if(2&e){const e=t.$implicit,s=g.oxw(2);g.xp6(1),g.Q6J("cdkDragData",e),g.xp6(5),g.Q6J("label",e.name),g.xp6(5),g.Q6J("ngModel",e.display),g.xp6(9),g.Q6J("ngModel","yes"==e.link),g.xp6(6),g.Q6J("ngModel",e.sort),g.xp6(11),g.Q6J("ngModel",e.width),g.xp6(5),g.Q6J("ngModel",e.overridetype),g.xp6(25),g.Q6J("ngIf",s.showFunction),g.xp6(5),g.Q6J("ngModel",e.overridealignment),g.xp6(10),g.Q6J("ngModel",e.component)}}function Mt(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"tbody",18),g.NdJ("cdkDropListDropped",(function(t){g.CHM(e);return g.oxw().onDrop(t)})),g.YNc(1,Dt,83,10,"ng-container",19),g.qZA()}if(2&e){const e=g.oxw();g.Q6J("cdkDropListData",e.listFields),g.xp6(1),g.Q6J("ngForOf",e.listFields)("ngForTrackBy",e.trackByFn)}}let At=(()=>{class ReportsDesignerPresentItemTable{constructor(e,t,s){this.language=e,this.model=t,this.reportsDesignerService=s,this.showFunction=!1}get listFields(){return this.reportsDesignerService.listFields}trackByFn(e,t){return t.fieldid}onDrop(e){(0,d.bA)(e.container.data,e.previousIndex,e.currentIndex),e.container.data=e.container.data.map(((e,t)=>(e.sortpriority=t,e))),this.model.setField("listfields",e.container.data)}setFieldLink(e,t){e.link=t?"yes":"no"}}return ReportsDesignerPresentItemTable.ɵfac=function(e){return new(e||ReportsDesignerPresentItemTable)(g.Y36(h.d),g.Y36(m.o),g.Y36(Z))},ReportsDesignerPresentItemTable.ɵcmp=g.Xpm({type:ReportsDesignerPresentItemTable,selectors:[["reports-designer-present-item-table"]],inputs:{showFunction:"showFunction"},decls:30,vars:10,consts:[[1,"slds-table","slds-table--cell-buffer","spice-table_header-fixed","slds-table--fixed-layout","slds-no-row-hover","reports-designer-manipulate-table"],[1,"slds-text-title--caps","slds-theme--shade"],[1,"slds-cell-shrink"],["scope","col",1,"slds-resizable"],[1,"slds-truncate",3,"title"],["label","LBL_NAME"],["label","LBL_DISPLAY"],["scope","col",1,"slds-cell-shrink"],[1,"slds-align--absolute-center"],["icon","link","size","x-small",3,"title"],["label","LBL_SORT"],["label","LBL_WIDTH"],["label","LBL_OVERRIDE_TYPE"],["scope","col","class","slds-resizable",4,"ngIf"],["label","LBL_OVERRIDE_ALIGNMENT"],["label","LBL_COMPONENT"],["cdkDropList","","class","slds-grow slds-scrollable--y",3,"cdkDropListData","cdkDropListDropped",4,"ngIf"],["label","LBL_FUNCTION"],["cdkDropList","",1,"slds-grow","slds-scrollable--y",3,"cdkDropListData","cdkDropListDropped"],[4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","",1,"slds-border--bottom","slds-drag--preview",3,"cdkDragData"],[1,"slds-p-around--none"],["cdkDragHandle","","icon","drag_and_drop","size","x-small",1,"slds-p-horizontal--x-small",2,"cursor","move"],[1,"slds-truncate"],[3,"label"],[1,"slds-form-element"],[1,"slds-form-element__control"],[1,"slds-select_container"],[1,"slds-select",3,"ngModel","ngModelChange"],["value","yes"],["label","LBL_YES"],["value","no"],["label","LBL_NO"],["value","hid"],["label","LBL_HIDDEN"],[3,"ngModel","ngModelChange"],["value","asc"],["label","LBL_ASCENDING"],["value","desc"],["label","LBL_DESCENDING"],["value","sortable"],["label","LBL_SORTABLE"],["type","text",1,"slds-input",3,"ngModel","ngModelChange"],["value","none"],["label","LBL_NONE"],["value","currency"],["label","LBL_CURRENCY"],["value","currencyint"],["label","LBL_CURRENCY_INTEGER"],["value","percentage"],["label","LBL_PERCENTAGE"],["value","number"],["label","LBL_NUMBER"],["value","int"],["label","LBL_INTEGER"],["value","float"],["label","LBL_FLOAT"],["value","date"],["label","LBL_DATE"],["value","datetime"],["label","LBL_DATE_TIME"],["value","datetutc"],["label","LBL_DATE_TO_UTC"],["value","bool"],["label","LBL_BOOLEAN"],["value","text"],["label","LBL_TEXT"],[4,"ngIf"],["value","left"],["label","LBL_LEFT_ALIGN"],["value","right"],["label","LBL_RIGHT_ALIGN"],["value","center"],["label","LBL_CENTER_ALIGN"],["value","-"],["value","sum"],["label","LBL_SUM"],["value","count"],["label","LBL_COUNT"],["value","avg"],["label","LBL_AVERAGE"],["value","min"],["label","LBL_MINIMUM"],["value","max"],["label","LBL_MAXIMUM"]],template:function(e,t){1&e&&(g.TgZ(0,"table",0)(1,"thead")(2,"tr",1),g._UZ(3,"th",2),g.TgZ(4,"th",3)(5,"div",4),g._UZ(6,"system-label",5),g.qZA()(),g.TgZ(7,"th",3)(8,"div",4),g._UZ(9,"system-label",6),g.qZA()(),g.TgZ(10,"th",7)(11,"div",8),g._UZ(12,"system-utility-icon",9),g.qZA()(),g.TgZ(13,"th",3)(14,"div",4),g._UZ(15,"system-label",10),g.qZA()(),g.TgZ(16,"th",3)(17,"div",4),g._UZ(18,"system-label",11),g.qZA()(),g.TgZ(19,"th",3)(20,"div",4),g._UZ(21,"system-label",12),g.qZA()(),g.YNc(22,Tt,3,1,"th",13),g.TgZ(23,"th",3)(24,"div",4),g._UZ(25,"system-label",14),g.qZA()(),g.TgZ(26,"th",3)(27,"div",4),g._UZ(28,"system-label",15),g.qZA()()()(),g.YNc(29,Mt,2,3,"tbody",16),g.qZA()),2&e&&(g.xp6(5),g.Q6J("title",t.language.getLabel("LBL_NAME")),g.xp6(3),g.Q6J("title",t.language.getLabel("LBL_DISPLAY")),g.xp6(4),g.Q6J("title",t.language.getLabel("LBL_LINK")),g.xp6(2),g.Q6J("title",t.language.getLabel("LBL_SORT")),g.xp6(3),g.Q6J("title",t.language.getLabel("LBL_WIDTH")),g.xp6(3),g.Q6J("title",t.language.getLabel("LBL_OVERRIDE_TYPE")),g.xp6(2),g.Q6J("ngIf",t.showFunction),g.xp6(2),g.Q6J("title",t.language.getLabel("LBL_OVERRIDE_ALIGNMENT")),g.xp6(3),g.Q6J("title",t.language.getLabel("LBL_COMPONENT")),g.xp6(2),g.Q6J("ngIf",t.listFields))},directives:[A._,F.r,i.O5,d.Wj,i.sg,d.Zt,d.Bh,l.EJ,l.JJ,l.On,l.YN,l.Kr,Q.U,l.Fj],encapsulation:2}),ReportsDesignerPresentItemTable})();var Ut=s(3194);let It=(()=>{class ReportsDesignerPresentItemStandard{constructor(e,t,s){this.language=e,this.model=t,this.reportsDesignerService=s,this.propertiesFieldName="standardViewProperties"}get listFields(){return this.reportsDesignerService.listFields}get properties(){return this.model.getField("presentation_params").pluginData[this.propertiesFieldName]}ngOnInit(){this.initializePluginData({processCount:"Synchronous",listEntries:25})}initializePluginData(e){const t=this.model.getField("presentation_params");t.pluginData[this.propertiesFieldName]||(t.pluginData[this.propertiesFieldName]=e,this.model.setField("presentation_params",t))}trackByFn(e,t){return t.fieldid}}return ReportsDesignerPresentItemStandard.ɵfac=function(e){return new(e||ReportsDesignerPresentItemStandard)(g.Y36(h.d),g.Y36(m.o),g.Y36(Z))},ReportsDesignerPresentItemStandard.ɵcmp=g.Xpm({type:ReportsDesignerPresentItemStandard,selectors:[["reports-designer-present-item-standard"]],decls:23,vars:2,consts:[["system-to-bottom-noscroll","",1,"slds-grid","slds-grid--vertical"],[1,"slds-border--bottom","slds-p-around--small","slds-grid"],[1,"slds-form-element","slds-grid","slds-grid--vertical-align-center"],[1,"slds-form-element__label"],["label","LBL_PROCESS_COUNT"],[1,"slds-form-element__control"],[1,"slds-select_container"],[1,"slds-select",3,"ngModel","ngModelChange"],["value","Synchronous"],["label","LBL_SYNCHRONOUS"],["value","Asynchronous"],["label","LBL_ASYNCHRONOUS"],["value","None"],["label","LBL_NONE"],[1,"slds-form-element","slds-grid","slds-grid--vertical-align-center","slds-m-left--x-small"],["label","LBL_RECORDS_PER_PAGE"],[1,"slds-form-element"],["type","text",1,"slds-input",3,"ngModel","ngModelChange"],[1,"slds-grow","slds-scrollable--y"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),g._UZ(4,"system-label",4),g.qZA(),g.TgZ(5,"div",5)(6,"div",6)(7,"select",7),g.NdJ("ngModelChange",(function(e){return t.properties.processCount=e})),g.TgZ(8,"option",8),g._UZ(9,"system-label",9),g.qZA(),g.TgZ(10,"option",10),g._UZ(11,"system-label",11),g.qZA(),g.TgZ(12,"option",12),g._UZ(13,"system-label",13),g.qZA()()()()(),g.TgZ(14,"div",14)(15,"label",3),g._UZ(16,"system-label",15),g.qZA(),g.TgZ(17,"div",5)(18,"div",16)(19,"div",5)(20,"input",17),g.NdJ("ngModelChange",(function(e){return t.properties.listEntries=e})),g.qZA()()()()()(),g.TgZ(21,"div",18),g._UZ(22,"reports-designer-present-item-table"),g.qZA()()),2&e&&(g.xp6(7),g.Q6J("ngModel",t.properties.processCount),g.xp6(13),g.Q6J("ngModel",t.properties.listEntries))},directives:[Ut.t,A._,l.EJ,l.JJ,l.On,l.YN,l.Kr,l.Fj,At],encapsulation:2}),ReportsDesignerPresentItemStandard})();function Jt(e,t){if(1&e&&(g.TgZ(0,"option",19),g._uU(1),g.qZA()),2&e){const e=t.$implicit;g.Q6J("value",e.value),g.xp6(1),g.hij(" ",e.name," ")}}function Ft(e,t){if(1&e&&(g.TgZ(0,"option",19),g._uU(1),g.qZA()),2&e){const e=t.$implicit;g.Q6J("value",e.value),g.xp6(1),g.hij(" ",e.name," ")}}function wt(e,t){if(1&e&&(g.TgZ(0,"option",19),g._uU(1),g.qZA()),2&e){const e=t.$implicit;g.Q6J("value",e.id),g.xp6(1),g.hij(" ",e.name," ")}}function Nt(e,t){if(1&e&&(g.TgZ(0,"li",20)(1,"span",21)(2,"span",22)(3,"span",23),g._uU(4),g.qZA()()()()),2&e){const e=t.$implicit;g.xp6(2),g.Udp("background-color",e),g.xp6(2),g.Oqu(e)}}let qt=(()=>{class ReportsDesignerVisualizeItemChartTypePanel{constructor(e,t){this.language=e,this.reportsDesignerService=t,this.typeOptions=[],this.dimensionsOptions=[],this.properties={}}get typeOptionsFiltered(){return this.typeOptions.filter((e=>e.dimensions.indexOf(this.properties.dims)>-1))}get themeColors(){const e=this.reportsDesignerService.visualizeColorTheme.find((e=>e.id==this.properties.colors));return e?e.colors:[]}get colorOptions(){return this.reportsDesignerService.visualizeColorTheme}trackByFnValue(e,t){return t.value}trackByFnIndex(e,t){return e}}return ReportsDesignerVisualizeItemChartTypePanel.ɵfac=function(e){return new(e||ReportsDesignerVisualizeItemChartTypePanel)(g.Y36(h.d),g.Y36(Z))},ReportsDesignerVisualizeItemChartTypePanel.ɵcmp=g.Xpm({type:ReportsDesignerVisualizeItemChartTypePanel,selectors:[["reports-designer-visualize-item-chart-type-panel"]],inputs:{typeOptions:"typeOptions",dimensionsOptions:"dimensionsOptions",properties:"properties"},decls:32,vars:12,consts:[["title","LBL_CHART_TYPE",3,"collapsible"],[1,"slds-p-around--x-small"],[1,"slds-grid"],[1,"slds-form-element","slds-grid","slds-grid--vertical-align-center","slds-size--1-of-2","slds-p-horizontal--x-small"],[1,"slds-form-element__label","slds-text-heading--label"],["label","LBL_DIMENSIONS"],[1,"slds-form-element__control","slds-grow"],[1,"slds-select_container"],[1,"slds-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["label","LBL_TYPE"],[1,"slds-grid","slds-m-top--x-small"],["label","LBL_COLORS"],[1,"slds-grid","slds-grid--vertical-align-center","slds-size--1-of-2","slds-p-horizontal--x-small"],["label","LBL_PREVIEW"],[1,"slds-color-picker","slds-color-picker_swatches-only","slds-grid","slds-grid--vertical-align-center","slds-grow"],[1,"slds-color-picker__selector"],["role","menu",1,"slds-color-picker__swatches"],["class","slds-color-picker__swatch","role","presentation",4,"ngFor","ngForOf","ngForTrackBy"],[3,"value"],["role","presentation",1,"slds-color-picker__swatch"],["role","menuitem",1,"slds-color-picker__swatch-trigger","slds-is-selected"],[1,"slds-swatch"],[1,"slds-assistive-text"]],template:function(e,t){1&e&&(g.TgZ(0,"system-collapsable-tab",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),g._UZ(5,"system-label",5),g.qZA(),g.TgZ(6,"div",6)(7,"div",7)(8,"select",8),g.NdJ("ngModelChange",(function(e){return t.properties.dims=e})),g.YNc(9,Jt,2,2,"option",9),g.qZA()()()(),g.TgZ(10,"div",3)(11,"label",4),g._UZ(12,"system-label",10),g.qZA(),g.TgZ(13,"div",6)(14,"div",7)(15,"select",8),g.NdJ("ngModelChange",(function(e){return t.properties.type=e})),g.YNc(16,Ft,2,2,"option",9),g.qZA()()()()(),g.TgZ(17,"div",11)(18,"div",3)(19,"label",4),g._UZ(20,"system-label",12),g.qZA(),g.TgZ(21,"div",6)(22,"div",7)(23,"select",8),g.NdJ("ngModelChange",(function(e){return t.properties.colors=e})),g.YNc(24,wt,2,2,"option",9),g.qZA()()()(),g.TgZ(25,"div",13)(26,"label",4),g._UZ(27,"system-label",14),g.qZA(),g.TgZ(28,"div",15)(29,"div",16)(30,"ul",17),g.YNc(31,Nt,5,3,"li",18),g.qZA()()()()()()()),2&e&&(g.Q6J("collapsible",!1),g.xp6(8),g.Q6J("ngModel",t.properties.dims),g.xp6(1),g.Q6J("ngForOf",t.dimensionsOptions)("ngForTrackBy",t.trackByFnValue),g.xp6(6),g.Q6J("ngModel",t.properties.type),g.xp6(1),g.Q6J("ngForOf",t.typeOptionsFiltered)("ngForTrackBy",t.trackByFnValue),g.xp6(7),g.Q6J("ngModel",t.properties.colors),g.xp6(1),g.Q6J("ngForOf",t.colorOptions)("ngForTrackBy",t.trackByFnIndex),g.xp6(7),g.Q6J("ngForOf",t.themeColors)("ngForTrackBy",t.trackByFnIndex))},directives:[P.z,A._,l.EJ,l.JJ,l.On,i.sg,l.YN,l.Kr],encapsulation:2}),ReportsDesignerVisualizeItemChartTypePanel})();function Rt(e,t){if(1&e&&g._UZ(0,"reports-designer-visualize-item-chart-data-panel-single-series",3),2&e){const e=g.oxw();g.Q6J("properties",e.properties)}}function kt(e,t){if(1&e&&g._UZ(0,"reports-designer-visualize-item-chart-data-panel-multiple-series",3),2&e){const e=g.oxw();g.Q6J("properties",e.properties)}}let Et=(()=>{class ReportsDesignerVisualizeItemChartDataPanel{constructor(e,t,s){this.language=e,this.model=t,this.reportsDesignerService=s,this.properties={}}get listFields(){return this.model.getField("listfields")}ngOnChanges(){this.initializeDataSeries()}onDrop(e){this.properties.dataseries.push({id:this.reportsDesignerService.generateGuid(),fieldid:e.item.data.fieldid,name:e.item.data.name,chartfunction:"-",meaning:"value",axis:"",renderer:"",color:""})}deleteSeries(e){this.properties.dataseries=this.properties.dataseries.filter((t=>t.fieldid!=e))}trackByFn(e,t){return t.fieldid}initializeDataSeries(){this.properties.dataseries&&this.properties.dataseries.length>0||("1"==this.properties.dims[2]?this.properties.dataseries=[{fieldid:"",name:"",chartfunction:"-",meaning:"value",axis:"P",renderer:""}]:this.properties.dataseries=[])}}return ReportsDesignerVisualizeItemChartDataPanel.ɵfac=function(e){return new(e||ReportsDesignerVisualizeItemChartDataPanel)(g.Y36(h.d),g.Y36(m.o),g.Y36(Z))},ReportsDesignerVisualizeItemChartDataPanel.ɵcmp=g.Xpm({type:ReportsDesignerVisualizeItemChartDataPanel,selectors:[["reports-designer-visualize-item-chart-data-panel"]],inputs:{properties:"properties"},features:[g.TTD],decls:4,vars:3,consts:[["title","LBL_CHART_DATA",1,"spice-collapsible-tab-grow",3,"collapsible"],[3,"properties",4,"ngIf","ngIfElse"],["seriesValuesContainer",""],[3,"properties"]],template:function(e,t){if(1&e&&(g.TgZ(0,"system-collapsable-tab",0),g.YNc(1,Rt,1,1,"reports-designer-visualize-item-chart-data-panel-single-series",1),g.YNc(2,kt,1,1,"ng-template",null,2,g.W1O),g.qZA()),2&e){const e=g.MAs(3);g.Q6J("collapsible",!1),g.xp6(1),g.Q6J("ngIf",-1==t.properties.dims.indexOf("N"))("ngIfElse",e)}},encapsulation:2}),ReportsDesignerVisualizeItemChartDataPanel})();function Bt(e,t){if(1&e&&(g.TgZ(0,"option",13),g._UZ(1,"system-label",14),g.qZA()),2&e){const e=t.$implicit;g.Q6J("value",e.fieldid),g.xp6(1),g.Q6J("label",e.name)}}function Ot(e,t){if(1&e&&(g.TgZ(0,"option",13),g._UZ(1,"system-label",14),g.qZA()),2&e){const e=t.$implicit;g.Q6J("value",e.fieldid),g.xp6(1),g.Q6J("label",e.name)}}function St(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",2)(1,"label",3),g._UZ(2,"system-label",15),g.qZA(),g.TgZ(3,"div",5)(4,"div",6)(5,"select",7),g.NdJ("ngModelChange",(function(t){g.CHM(e);return g.oxw().properties.dataseries[0].fieldid=t})),g.YNc(6,Ot,2,2,"option",8),g.qZA()()()()}if(2&e){const e=g.oxw();g.xp6(5),g.Q6J("ngModel",e.properties.dataseries[0].fieldid),g.xp6(1),g.Q6J("ngForOf",e.listFields)("ngForTrackBy",e.trackByFn)}}function Qt(e,t){if(1&e&&(g.TgZ(0,"option",13),g._UZ(1,"system-label",14),g.qZA()),2&e){const e=t.$implicit;g.Q6J("value",e.fieldid),g.xp6(1),g.Q6J("label",e.name)}}function Pt(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",16)(1,"label",3),g._UZ(2,"system-label",4),g._uU(3," 2 "),g.qZA(),g.TgZ(4,"div",5)(5,"div",6)(6,"select",7),g.NdJ("ngModelChange",(function(t){g.CHM(e);return g.oxw().properties.dimensions.dimension2=t})),g.YNc(7,Qt,2,2,"option",8),g.qZA()()()()}if(2&e){const e=g.oxw();g.xp6(6),g.Q6J("ngModel",e.properties.dimensions.dimension2),g.xp6(1),g.Q6J("ngForOf",e.listFields)("ngForTrackBy",e.trackByFn)}}function Yt(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",2)(1,"label",3),g._UZ(2,"system-label",17),g.qZA(),g.TgZ(3,"div",5)(4,"div",6)(5,"select",7),g.NdJ("ngModelChange",(function(t){g.CHM(e);return g.oxw().properties.dataseries[0].chartfunction=t})),g.TgZ(6,"option",18),g._uU(7,"-"),g.qZA(),g.TgZ(8,"option",19),g._UZ(9,"system-label",20),g.qZA(),g.TgZ(10,"option",21),g._UZ(11,"system-label",22),g.qZA(),g.TgZ(12,"option",23),g._UZ(13,"system-label",24),g.qZA(),g.TgZ(14,"option",25),g._UZ(15,"system-label",26),g.qZA(),g.TgZ(16,"option",27),g._UZ(17,"system-label",28),g.qZA(),g.TgZ(18,"option",29),g._UZ(19,"system-label",30),g.qZA()()()()()}if(2&e){const e=g.oxw();g.xp6(5),g.Q6J("ngModel",e.properties.dataseries[0].chartfunction)}}function zt(e,t){if(1&e&&(g.TgZ(0,"option",13),g._UZ(1,"system-label",14),g.qZA()),2&e){const e=t.$implicit;g.Q6J("value",e.fieldid),g.xp6(1),g.Q6J("label",e.name)}}function Gt(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",2)(1,"label",3),g._UZ(2,"system-label",4),g._uU(3," 3 "),g.qZA(),g.TgZ(4,"div",5)(5,"div",6)(6,"select",7),g.NdJ("ngModelChange",(function(t){g.CHM(e);return g.oxw().properties.dimensions.dimension3=t})),g.YNc(7,zt,2,2,"option",8),g.qZA()()()()}if(2&e){const e=g.oxw();g.xp6(6),g.Q6J("ngModel",e.properties.dimensions.dimension3),g.xp6(1),g.Q6J("ngForOf",e.listFields)("ngForTrackBy",e.trackByFn)}}let Ht=(()=>{class ReportsDesignerVisualizeItemChartDataPanelSingleSeries extends Et{constructor(e,t,s){super(e,t,s),this.language=e,this.model=t,this.reportsDesignerService=s}}return ReportsDesignerVisualizeItemChartDataPanelSingleSeries.ɵfac=function(e){return new(e||ReportsDesignerVisualizeItemChartDataPanelSingleSeries)(g.Y36(h.d),g.Y36(m.o),g.Y36(Z))},ReportsDesignerVisualizeItemChartDataPanelSingleSeries.ɵcmp=g.Xpm({type:ReportsDesignerVisualizeItemChartDataPanelSingleSeries,selectors:[["reports-designer-visualize-item-chart-data-panel-single-series"]],features:[g.qOj],decls:17,vars:7,consts:[[1,"slds-p-around--x-small"],[1,"slds-grid"],[1,"slds-form-element","slds-grid","slds-grid--vertical-align-center","slds-size--1-of-2","slds-p-horizontal--x-small"],[1,"slds-form-element__label","slds-text-heading--label"],["label","LBL_DIMENSION"],[1,"slds-form-element__control","slds-grow"],[1,"slds-select_container"],[1,"slds-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["class","slds-form-element slds-grid slds-grid--vertical-align-center slds-size--1-of-2 slds-p-horizontal--x-small",4,"ngIf"],[1,"slds-grid","slds-m-top--x-small"],[1,"slds-size--1-of-2","slds-p-horizontal--x-small"],["class","slds-form-element slds-grid slds-grid--vertical-align-center",4,"ngIf"],[3,"value"],[3,"label"],["label","LBL_DATA_SERIES"],[1,"slds-form-element","slds-grid","slds-grid--vertical-align-center"],["label","LBL_FUNCTION"],["value","-"],["value","SUM"],["label","LBL_SUM"],["value","AVG"],["label","LBL_AVERAGE"],["value","CUMSUM"],["label","LBL_SUM_CUMULATED"],["value","COUNT"],["label","LBL_COUNT"],["value","MAX"],["label","LBL_MAXIMUM"],["value","MIN"],["label","LBL_MINIMUM"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),g._UZ(4,"system-label",4),g._uU(5," 1 "),g.qZA(),g.TgZ(6,"div",5)(7,"div",6)(8,"select",7),g.NdJ("ngModelChange",(function(e){return t.properties.dimensions.dimension1=e})),g.YNc(9,Bt,2,2,"option",8),g.qZA()()()(),g.YNc(10,St,7,3,"div",9),g.qZA(),g.TgZ(11,"div",10)(12,"div",11),g.YNc(13,Pt,8,3,"div",12),g.qZA(),g.YNc(14,Yt,20,1,"div",9),g.qZA(),g.TgZ(15,"div",10),g.YNc(16,Gt,8,3,"div",9),g.qZA()()),2&e&&(g.xp6(8),g.Q6J("ngModel",t.properties.dimensions.dimension1),g.xp6(1),g.Q6J("ngForOf",t.listFields)("ngForTrackBy",t.trackByFn),g.xp6(1),g.Q6J("ngIf","1"==t.properties.dims[2]),g.xp6(3),g.Q6J("ngIf","221"==t.properties.dims||"220"==t.properties.dims||"331"==t.properties.dims),g.xp6(1),g.Q6J("ngIf","1"==t.properties.dims[2]),g.xp6(2),g.Q6J("ngIf","331"==t.properties.dims))},directives:[A._,l.EJ,l.JJ,l.On,i.sg,l.YN,l.Kr,i.O5],encapsulation:2}),ReportsDesignerVisualizeItemChartDataPanelSingleSeries})();function Vt(e,t){if(1&e&&(g.TgZ(0,"option",27),g._UZ(1,"system-label",28),g.qZA()),2&e){const e=t.$implicit;g.Q6J("value",e.fieldid),g.xp6(1),g.Q6J("label",e.name)}}function jt(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",20)(1,"label",21),g._UZ(2,"system-label",22),g._uU(3," 1 "),g.qZA(),g.TgZ(4,"div",23)(5,"div",24)(6,"select",25),g.NdJ("ngModelChange",(function(t){g.CHM(e);return g.oxw().properties.dimensions.dimension1=t})),g.YNc(7,Vt,2,2,"option",26),g.qZA()()()()}if(2&e){const e=g.oxw();g.xp6(6),g.Q6J("ngModel",e.properties.dimensions.dimension1),g.xp6(1),g.Q6J("ngForOf",e.listFields)("ngForTrackBy",e.trackByFn)}}function $t(e,t){if(1&e&&(g.TgZ(0,"tr",29)(1,"td",30),g._UZ(2,"system-utility-icon",31),g.qZA(),g.TgZ(3,"td")(4,"div",8),g._UZ(5,"system-label",28),g.qZA()()()),2&e){const e=t.$implicit;g.Q6J("cdkDragData",e),g.xp6(4),g.Q6J("title",e.name),g.xp6(1),g.Q6J("label",e.name)}}function Xt(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"tr",32)(1,"td")(2,"div",8),g._UZ(3,"system-label",28),g.qZA()(),g.TgZ(4,"td")(5,"div",33)(6,"div",34)(7,"div",24)(8,"select",25),g.NdJ("ngModelChange",(function(t){return g.CHM(e).$implicit.chartfunction=t})),g.TgZ(9,"option",35),g._uU(10,"-"),g.qZA(),g.TgZ(11,"option",36),g._UZ(12,"system-label",37),g.qZA(),g.TgZ(13,"option",38),g._UZ(14,"system-label",39),g.qZA(),g.TgZ(15,"option",40),g._UZ(16,"system-label",41),g.qZA(),g.TgZ(17,"option",42),g._UZ(18,"system-label",43),g.qZA(),g.TgZ(19,"option",44),g._UZ(20,"system-label",45),g.qZA(),g.TgZ(21,"option",46),g._UZ(22,"system-label",47),g.qZA()()()()()(),g.TgZ(23,"td")(24,"div",33)(25,"div",34)(26,"div",24)(27,"select",25),g.NdJ("ngModelChange",(function(t){return g.CHM(e).$implicit.axis=t})),g.TgZ(28,"option",35),g._uU(29,"-"),g.qZA(),g.TgZ(30,"option",48),g._UZ(31,"system-label",49),g.qZA(),g.TgZ(32,"option",50),g._UZ(33,"system-label",51),g.qZA()()()()()(),g.TgZ(34,"td")(35,"div",33)(36,"div",34)(37,"div",24)(38,"select",25),g.NdJ("ngModelChange",(function(t){return g.CHM(e).$implicit.renderer=t})),g.TgZ(39,"option",35),g._uU(40,"-"),g.qZA(),g.TgZ(41,"option",52),g._UZ(42,"system-label",53),g.qZA(),g.TgZ(43,"option",54),g._UZ(44,"system-label",55),g.qZA(),g.TgZ(45,"option",56),g._UZ(46,"system-label",57),g.qZA()()()()()(),g.TgZ(47,"td")(48,"div",33)(49,"div",34)(50,"input",58),g.NdJ("ngModelChange",(function(t){return g.CHM(e).$implicit.color=t})),g.qZA()()()(),g.TgZ(51,"td")(52,"button",59),g.NdJ("click",(function(){const t=g.CHM(e).$implicit;return g.oxw().deleteSeries(t.fieldid)})),g._UZ(53,"system-button-icon",60),g.qZA()()()}if(2&e){const e=t.$implicit;g.xp6(2),g.Q6J("title",e.name),g.xp6(1),g.Q6J("label",e.name),g.xp6(5),g.Q6J("ngModel",e.chartfunction),g.xp6(19),g.Q6J("ngModel",e.axis),g.xp6(11),g.Q6J("ngModel",e.renderer),g.xp6(12),g.Q6J("ngModel",e.color)}}function Kt(e,t){1&e&&(g.TgZ(0,"tr")(1,"td",61),g._UZ(2,"system-label",62),g.qZA()())}let Wt=(()=>{class ReportsDesignerVisualizeItemChartDataPanelMultipleSeries extends Et{constructor(e,t,s,i){super(e,t,i),this.language=e,this.model=t,this.renderer=s,this.reportsDesignerService=i}get availableListFields(){return this.properties.dataseries&&0!=this.properties.dataseries.length?this.listFields.filter((e=>!this.properties.dataseries.some((t=>t.fieldid===e.fieldid)))):this.listFields}}return ReportsDesignerVisualizeItemChartDataPanelMultipleSeries.ɵfac=function(e){return new(e||ReportsDesignerVisualizeItemChartDataPanelMultipleSeries)(g.Y36(h.d),g.Y36(m.o),g.Y36(g.Qsj),g.Y36(Z))},ReportsDesignerVisualizeItemChartDataPanelMultipleSeries.ɵcmp=g.Xpm({type:ReportsDesignerVisualizeItemChartDataPanelMultipleSeries,selectors:[["reports-designer-visualize-item-chart-data-panel-multiple-series"]],features:[g.qOj],decls:36,vars:14,consts:[[1,"slds-grid","slds-grid--vertical","slds-p-around--xxx-small",2,"height","100%"],["class","slds-form-element slds-grid slds-grid--vertical-align-center slds-p-vertical--x-small slds-p-left--medium slds-p-right--x-small slds-size--1-of-2",4,"ngIf"],["cdkDropListGroup","",1,"slds-border--bottom","slds-border--left","slds-border--right","slds-border--top","slds-grid","slds-grow",2,"min-height","100px"],[1,"slds-size--1-of-4","slds-scrollable--y","slds-border--right",2,"height","100%"],[1,"slds-table","slds-table--cell-buffer","spice-table_header-fixed","slds-table--fixed-layout","slds-no-row-hover"],[1,"slds-text-title--caps","slds-theme--shade"],["scope","col",1,"slds-cell-shrink"],["scope","col"],[1,"slds-truncate",3,"title"],["label","LBL_FIELDS"],["cdkDropList","","cdkDropListSortingDisabled","",3,"cdkDropListData"],["cdkDrag","","class","slds-border--bottom slds-drag--preview","style","height: 41px",3,"cdkDragData",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDropList","",1,"slds-scrollable--y","slds-size--3-of-4",2,"height","inherit",3,"cdkDropListData","cdkDropListDropped"],["label","LBL_NAME"],["label","LBL_FUNCTION"],["label","LBL_AXIS"],["label","LBL_RENDER_AS"],["label","LBL_COLOR"],["cdkDrag","","cdkDragDisabled","","class","slds-border--bottom",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"slds-form-element","slds-grid","slds-grid--vertical-align-center","slds-p-vertical--x-small","slds-p-left--medium","slds-p-right--x-small","slds-size--1-of-2"],[1,"slds-form-element__label","slds-text-heading--label"],["label","LBL_DIMENSION"],[1,"slds-form-element__control","slds-grow"],[1,"slds-select_container"],[1,"slds-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[3,"value"],[3,"label"],["cdkDrag","",1,"slds-border--bottom","slds-drag--preview",2,"height","41px",3,"cdkDragData"],[1,"slds-p-around--none"],["cdkDragHandle","","icon","drag_and_drop","size","x-small",1,"slds-p-horizontal--x-small",2,"cursor","move"],["cdkDrag","","cdkDragDisabled","",1,"slds-border--bottom"],[1,"slds-form-element"],[1,"slds-form-element__control"],["value","-"],["value","SUM"],["label","LBL_SUM"],["value","AVG"],["label","LBL_AVERAGE"],["value","CUMSUM"],["label","LBL_SUM_CUMULATED"],["value","COUNT"],["label","LBL_COUNT"],["value","MAX"],["label","LBL_MAXIMUM"],["value","MIN"],["label","LBL_MINIMUM"],["value","P"],["label","LBL_PRIMARY"],["value","S"],["label","LBL_SECONDARY"],["value","bars"],["label","LBL_BAR"],["value","line"],["label","LBL_LINE"],["value","area"],["label","LBL_AREA"],["type","text",1,"slds-input",3,"ngModel","ngModelChange"],[1,"slds-button","slds-button--icon",3,"click"],["icon","delete"],["colspan","6",1,"slds-text-align_center",2,"padding","1rem"],["label","MSG_DROP_FIELD_HERE"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.YNc(1,jt,8,3,"div",1),g.TgZ(2,"div",2)(3,"div",3)(4,"table",4)(5,"thead")(6,"tr",5),g._UZ(7,"th",6),g.TgZ(8,"th",7)(9,"div",8),g._UZ(10,"system-label",9),g.qZA()()()(),g.TgZ(11,"tbody",10),g.YNc(12,$t,6,3,"tr",11),g.qZA()()(),g.TgZ(13,"div",12),g.NdJ("cdkDropListDropped",(function(e){return t.onDrop(e)})),g.TgZ(14,"table",4)(15,"thead")(16,"tr",5)(17,"th",7)(18,"div",8),g._UZ(19,"system-label",13),g.qZA()(),g.TgZ(20,"th",7)(21,"div",8),g._UZ(22,"system-label",14),g.qZA()(),g.TgZ(23,"th",7)(24,"div",8),g._UZ(25,"system-label",15),g.qZA()(),g.TgZ(26,"th",7)(27,"div",8),g._UZ(28,"system-label",16),g.qZA()(),g.TgZ(29,"th",7)(30,"div",8),g._UZ(31,"system-label",17),g.qZA()(),g._UZ(32,"th",6),g.qZA()(),g.TgZ(33,"tbody"),g.YNc(34,Xt,54,6,"tr",18),g.YNc(35,Kt,3,0,"tr",19),g.qZA()()()()()),2&e&&(g.xp6(1),g.Q6J("ngIf","21N"==t.properties.dims),g.xp6(8),g.Q6J("title",t.language.getLabel("LBL_FIELDS")),g.xp6(2),g.Q6J("cdkDropListData",t.listFields),g.xp6(1),g.Q6J("ngForOf",t.availableListFields)("ngForTrackBy",t.trackByFn),g.xp6(1),g.Q6J("cdkDropListData",t.properties.dataseries),g.xp6(5),g.Q6J("title",t.language.getLabel("LBL_NAME")),g.xp6(3),g.Q6J("title",t.language.getLabel("LBL_FUNCTION")),g.xp6(3),g.Q6J("title",t.language.getLabel("LBL_AXIS")),g.xp6(3),g.Q6J("title",t.language.getLabel("LBL_RENDER_AS")),g.xp6(3),g.Q6J("title",t.language.getLabel("LBL_COLOR")),g.xp6(4),g.Q6J("ngForOf",t.properties.dataseries)("ngForTrackBy",t.trackByFn),g.xp6(1),g.Q6J("ngIf",0==(null==t.properties.dataseries?null:t.properties.dataseries.length)))},directives:[i.O5,A._,l.EJ,l.JJ,l.On,i.sg,l.YN,l.Kr,d.Fd,d.Wj,d.Zt,F.r,d.Bh,l.Fj,I.J],encapsulation:2}),ReportsDesignerVisualizeItemChartDataPanelMultipleSeries})();function es(e,t){if(1&e&&(g.TgZ(0,"option",31),g._uU(1),g.qZA()),2&e){const e=t.$implicit;g.Q6J("value",e),g.xp6(1),g.hij(" ",e," ")}}let ts=(()=>{class ReportsDesignerVisualizeItemGoogleCharts{constructor(e,t,s){this.language=e,this.model=t,this.reportsDesignerService=s,this.contextOptions=[],this.dimensionsOptions=[{value:"111",name:`1 ${this.language.getLabel("LBL_DIMENSIONAL")} (${this.language.getLabel("LBL_SERIES")})`},{value:"10N",name:`1 ${this.language.getLabel("LBL_DIMENSIONAL")} (${this.language.getLabel("LBL_VALUES")})`},{value:"221",name:`2 ${this.language.getLabel("LBL_DIMENSIONAL")} (${this.language.getLabel("LBL_SERIES")})`},{value:"21N",name:`2 ${this.language.getLabel("LBL_DIMENSIONAL")} (${this.language.getLabel("LBL_VALUES")})`},{value:"220",name:`2 ${this.language.getLabel("LBL_DIMENSIONAL")} (${this.language.getLabel("LBL_NO_VALUES")})`},{value:"331",name:`3 ${this.language.getLabel("LBL_DIMENSIONAL")} (${this.language.getLabel("LBL_SERIES")})`}],this.typeOptions=[{dimensions:["111","10N","221","21N"],value:"Area",name:this.language.getLabel("LBL_AREA_CHART")},{dimensions:["111","10N","221","21N"],value:"SteppedArea",name:this.language.getLabel("LBL_STEPPED_AREA_CHART")},{dimensions:["221","331"],value:"Bubble",name:this.language.getLabel("LBL_BUBBLE_CHART")},{dimensions:["221"],value:"Sankey",name:this.language.getLabel("LBL_SANKEY_CHART")},{dimensions:["111","10N","221","21N"],value:"Bar",name:this.language.getLabel("LBL_BAR_CHART")},{dimensions:["111","10N","221","21N"],value:"Column",name:this.language.getLabel("LBL_COLUMN_CHART")},{dimensions:["111","10N","221","21N"],value:"Line",name:this.language.getLabel("LBL_LINE_CHART")},{dimensions:["220"],value:"Scatter",name:this.language.getLabel("LBL_SCATTER_CHART")},{dimensions:["111","10N"],value:"Pie",name:this.language.getLabel("LBL_PIE_CHART")},{dimensions:["111","10N"],value:"Donut",name:this.language.getLabel("LBL_DONUT_CHART")},{dimensions:["10N","21N"],value:"Combo",name:this.language.getLabel("LBL_COMBO_CHART")}]}get properties(){return this.model.getField("visualization_params")[this.reportsDesignerService.visualizeActiveLayoutItem]}ngOnInit(){this.initializeProperties()}initializeProperties(){this.contextOptions=this.model.getField("whereconditions").filter((e=>!!e.context)).map((e=>e.context)),this.properties.googlecharts&&this.properties.googlecharts.uid||(this.properties.googlecharts={uid:this.reportsDesignerService.generateGuid(),title:"",dims:"111",type:"Area",colors:"default",dataseries:[],options:{},context:"",legend:null,dimensions:{dimension1:null,dimension2:null,dimension3:null}})}setPropertiesOption(e,t){this.properties.googlecharts.options[e]=t?"on":"off"}}return ReportsDesignerVisualizeItemGoogleCharts.ɵfac=function(e){return new(e||ReportsDesignerVisualizeItemGoogleCharts)(g.Y36(h.d),g.Y36(m.o),g.Y36(Z))},ReportsDesignerVisualizeItemGoogleCharts.ɵcmp=g.Xpm({type:ReportsDesignerVisualizeItemGoogleCharts,selectors:[["reports-designer-visualize-item-google-charts"]],decls:47,vars:21,consts:[["system-to-bottom-noscroll","",1,"slds-p-horizontal--xx-small","slds-grid","slds-grid--vertical"],[3,"properties","typeOptions","dimensionsOptions"],[1,"slds-grow",2,"min-height","0"],[2,"display","block","height","50%",3,"properties"],[1,"slds-p-top--x-small",2,"height","50%"],[1,"spice-collapsible-tab-grow",3,"collapsible","title"],[1,"slds-p-around--x-small","slds-height_full"],[1,"slds-grid"],[1,"slds-size--1-of-2","slds-form-element","slds-grid","slds-grid--vertical-align-center","slds-p-horizontal--x-small","slds-size--1-of-1"],[1,"slds-form-element__label"],["label","LBL_TITLE"],[1,"slds-form-element__control","slds-grow"],["type","text","size","5",1,"slds-input",3,"ngModel","ngModelChange"],["label","LBL_CONTEXT"],[1,"slds-select_container"],[1,"slds-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"slds-size--1-of-1","slds-p-top--x-small","slds-m-top--x-small","slds-has-divider--top","slds-has-divider--bottom","slds-grid","slds-wrap"],[1,"slds-size--1-of-4","slds-p-horizontal--x-small",3,"ngModel","ngModelChange"],["label","LBL_DISPLAY_LEGEND"],["label","LBL_SHOW_EMPTY_VALUES"],["label","LBL_HIDE_V_AXIS_LABELS"],["label","LBL_HIDE_H_AXIS_LABELS"],["label","LBL_LOGARITHMIC_V_SCALE"],["label","LBL_LOGARITHMIC_H_SCALE"],["label","LBL_STACKED_SERIES"],["label","LBL_DIMENSIONAL"],["label","LBL_REVERSE_SERIES"],["label","LBL_SMOOTHED_LINE"],["label","LBL_SHOW_POINTS"],["label","LBL_MATERIAL_DESIGN"],[3,"value"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g._UZ(1,"reports-designer-visualize-item-chart-type-panel",1),g.TgZ(2,"div",2),g._UZ(3,"reports-designer-visualize-item-chart-data-panel",3),g.TgZ(4,"div",4)(5,"system-collapsable-tab",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"label",9),g._UZ(10,"system-label",10),g.qZA(),g.TgZ(11,"div",11)(12,"input",12),g.NdJ("ngModelChange",(function(e){return t.properties.googlecharts.title=e})),g.qZA()()(),g.TgZ(13,"div",8)(14,"label",9),g._UZ(15,"system-label",13),g.qZA(),g.TgZ(16,"div",11)(17,"div",14)(18,"select",15),g.NdJ("ngModelChange",(function(e){return t.properties.googlecharts.context=e})),g._UZ(19,"option"),g.YNc(20,es,2,2,"option",16),g.qZA()()()()(),g.TgZ(21,"div",17)(22,"system-checkbox",18),g.NdJ("ngModelChange",(function(e){return t.setPropertiesOption("legend",e)})),g._UZ(23,"system-label",19),g.qZA(),g.TgZ(24,"system-checkbox",18),g.NdJ("ngModelChange",(function(e){return t.setPropertiesOption("emptyvalues",e)})),g._UZ(25,"system-label",20),g.qZA(),g.TgZ(26,"system-checkbox",18),g.NdJ("ngModelChange",(function(e){return t.setPropertiesOption("novlabels",e)})),g._UZ(27,"system-label",21),g.qZA(),g.TgZ(28,"system-checkbox",18),g.NdJ("ngModelChange",(function(e){return t.setPropertiesOption("nohlabels",e)})),g._UZ(29,"system-label",22),g.qZA(),g.TgZ(30,"system-checkbox",18),g.NdJ("ngModelChange",(function(e){return t.setPropertiesOption("logv",e)})),g._UZ(31,"system-label",23),g.qZA(),g.TgZ(32,"system-checkbox",18),g.NdJ("ngModelChange",(function(e){return t.setPropertiesOption("logh",e)})),g._UZ(33,"system-label",24),g.qZA(),g.TgZ(34,"system-checkbox",18),g.NdJ("ngModelChange",(function(e){return t.setPropertiesOption("stacked",e)})),g._UZ(35,"system-label",25),g.qZA(),g.TgZ(36,"system-checkbox",18),g.NdJ("ngModelChange",(function(e){return t.setPropertiesOption("is3D",e)})),g._uU(37," 3 "),g._UZ(38,"system-label",26),g.qZA(),g.TgZ(39,"system-checkbox",18),g.NdJ("ngModelChange",(function(e){return t.setPropertiesOption("reverse",e)})),g._UZ(40,"system-label",27),g.qZA(),g.TgZ(41,"system-checkbox",18),g.NdJ("ngModelChange",(function(e){return t.setPropertiesOption("curvetypefunction",e)})),g._UZ(42,"system-label",28),g.qZA(),g.TgZ(43,"system-checkbox",18),g.NdJ("ngModelChange",(function(e){return t.setPropertiesOption("points",e)})),g._UZ(44,"system-label",29),g.qZA(),g.TgZ(45,"system-checkbox",18),g.NdJ("ngModelChange",(function(e){return t.setPropertiesOption("material",e)})),g._UZ(46,"system-label",30),g.qZA()()()()()()()),2&e&&(g.xp6(1),g.Q6J("properties",t.properties.googlecharts)("typeOptions",t.typeOptions)("dimensionsOptions",t.dimensionsOptions),g.xp6(2),g.Q6J("properties",t.properties.googlecharts),g.xp6(2),g.Q6J("collapsible",!1)("title","LBL_CHART_OPTIONS"),g.xp6(7),g.Q6J("ngModel",t.properties.googlecharts.title),g.xp6(6),g.Q6J("ngModel",t.properties.googlecharts.context),g.xp6(2),g.Q6J("ngForOf",t.contextOptions),g.xp6(2),g.Q6J("ngModel","on"==t.properties.googlecharts.options.legend),g.xp6(2),g.Q6J("ngModel","on"==t.properties.googlecharts.options.emptyvalues),g.xp6(2),g.Q6J("ngModel","on"==t.properties.googlecharts.options.novlabels),g.xp6(2),g.Q6J("ngModel","on"==t.properties.googlecharts.options.nohlabels),g.xp6(2),g.Q6J("ngModel","on"==t.properties.googlecharts.options.logv),g.xp6(2),g.Q6J("ngModel","on"==t.properties.googlecharts.options.logh),g.xp6(2),g.Q6J("ngModel","on"==t.properties.googlecharts.options.stacked),g.xp6(2),g.Q6J("ngModel","on"==t.properties.googlecharts.options.is3D),g.xp6(3),g.Q6J("ngModel","on"==t.properties.googlecharts.options.reverse),g.xp6(2),g.Q6J("ngModel","on"==t.properties.googlecharts.options.curvetypefunction),g.xp6(2),g.Q6J("ngModel","on"==t.properties.googlecharts.options.points),g.xp6(2),g.Q6J("ngModel","on"==t.properties.googlecharts.options.material))},directives:[Ut.t,qt,Et,P.z,A._,l.Fj,l.JJ,l.On,l.EJ,l.YN,l.Kr,i.sg,Q.U],encapsulation:2}),ReportsDesignerVisualizeItemGoogleCharts})();var ss=s(4846);let is=(()=>{class ReportsDesignerIntegrateItemTargetList{constructor(e,t,s){this.language=e,this.model=t,this.prospectListModel=s}get properties(){return this.model.getField("integration_params").ktargetlistexport}set targetList(e){if(!e)return;const t=e.split("::");this.prospectListModel.id=t[0],this.prospectListModel.resetData(),this.prospectListModel.setField("name",t[1]);this.properties.targetlist_id=this.prospectListModel.id}get targetList(){return this.prospectListModel.getField("name")?`${this.prospectListModel.id}::${this.prospectListModel.getField("name")}`:""}ngOnInit(){this.initializeProperties()}initializeProperties(){this.prospectListModel.module="ProspectLists";let e=this.model.getField("integration_params");e.ktargetlistexport?e.ktargetlistexport.targetlist_id&&(this.prospectListModel.id=e.ktargetlistexport.targetlist_id,this.prospectListModel.getData()):(e.ktargetlistexport={targetlist_id:"",targetlist_update_action:"",targetlist_create_direct:!1},this.model.setField("integration_params",e))}}return ReportsDesignerIntegrateItemTargetList.ɵfac=function(e){return new(e||ReportsDesignerIntegrateItemTargetList)(g.Y36(h.d),g.Y36(m.o,4),g.Y36(m.o))},ReportsDesignerIntegrateItemTargetList.ɵcmp=g.Xpm({type:ReportsDesignerIntegrateItemTargetList,selectors:[["reports-designer-integrate-item-target-list"]],features:[g._Bn([m.o])],decls:31,vars:3,consts:[[1,"slds-p-around--x-small"],[1,"slds-form-element","slds-form-element_compound","slds-m-bottom--medium"],[1,"slds-form-element__legend","slds-form-element__label","slds-text-title--caps"],["label","LBL_UPDATE_TARGET_LIST"],[1,"slds-form-element__control","slds-p-left--small","slds-p-top--small"],[1,"slds-form-element__row"],[1,"slds-form-element","slds-size--1-of-1"],[1,"slds-form-element__label"],["label","LBL_PROSPECTLIST"],["module","ProspectLists",1,"slds-grow",2,"display","block","margin","0 -5px",3,"ngModel","ngModelChange"],["label","LBL_ACTION"],[1,"slds-select_container","slds-grow"],[1,"slds-select",3,"ngModel","ngModelChange"],["value","rep"],["label","LBL_UPDATE"],["value","add"],["label","LBL_ADD"],["value","sub"],["label","LBL_SUBTRACT"],[1,"slds-form-element","slds-form-element_compound","slds-m-top--small","slds-has-divider--top-space"],["label","LBL_PERFORMANCE_SETTINGS"],[1,"slds-form-element"],[3,"ngModel","ngModelChange"],["label","LBL_CREATE_DIRECT"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0)(1,"fieldset",1)(2,"legend",2),g._UZ(3,"system-label",3),g.qZA(),g.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"label",7),g._UZ(8,"system-label",8),g.qZA(),g.TgZ(9,"system-input-relate",9),g.NdJ("ngModelChange",(function(e){return t.targetList=e})),g.qZA()()(),g.TgZ(10,"div",5)(11,"div",6)(12,"label",7),g._UZ(13,"system-label",10),g.qZA(),g.TgZ(14,"div",11)(15,"select",12),g.NdJ("ngModelChange",(function(e){return t.properties.targetlist_update_action=e})),g._UZ(16,"option"),g.TgZ(17,"option",13),g._UZ(18,"system-label",14),g.qZA(),g.TgZ(19,"option",15),g._UZ(20,"system-label",16),g.qZA(),g.TgZ(21,"option",17),g._UZ(22,"system-label",18),g.qZA()()()()()()(),g.TgZ(23,"fieldset",19)(24,"legend",2),g._UZ(25,"system-label",20),g.qZA(),g.TgZ(26,"div",4)(27,"div",5)(28,"div",21)(29,"system-checkbox",22),g.NdJ("ngModelChange",(function(e){return t.properties.targetlist_create_direct=e})),g._UZ(30,"system-label",23),g.qZA()()()()()()),2&e&&(g.xp6(9),g.Q6J("ngModel",t.targetList),g.xp6(6),g.Q6J("ngModel",t.properties.targetlist_update_action),g.xp6(14),g.Q6J("ngModel",t.properties.targetlist_create_direct))},directives:[A._,ss.z,l.JJ,l.On,l.EJ,l.YN,l.Kr,Q.U],encapsulation:2}),ReportsDesignerIntegrateItemTargetList})();var ls=s(7579),ns=s(9621),os=s(1916),rs=s(3499),as=s(5767);function ds(e,t){if(1&e&&(g.TgZ(0,"system-collapsable-tab",16),g._UZ(1,"object-record-fieldset",17),g.qZA()),2&e){const e=g.oxw();g.Q6J("collapsible",!1),g.xp6(1),g.Q6J("fieldset",e.fieldset)}}function cs(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"li",18),g.NdJ("click",(function(){const t=g.CHM(e).$implicit;return g.oxw().setSelectedModule(t.name)}))("dblclick",(function(){const t=g.CHM(e).$implicit;return g.oxw().confirm(t.name)})),g.TgZ(1,"div",19),g._UZ(2,"system-icon",20),g.qZA(),g.TgZ(3,"div",21)(4,"p",22),g._uU(5),g.qZA()()()}if(2&e){const e=t.$implicit,s=g.oxw();g.ekj("spice-box-is-selected",e.name==s.selectedModule),g.xp6(2),g.Q6J("module",e.name),g.xp6(2),g.Q6J("title",e.display),g.xp6(1),g.hij(" ",e.display," ")}}function gs(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"button",23),g.NdJ("click",(function(){g.CHM(e);return g.oxw().confirm()})),g._UZ(1,"system-label",24),g.qZA()}if(2&e){const e=g.oxw();g.Q6J("disabled",!e.canCreate)}}let ps=(()=>{class ReportsDesignerSelectModuleModal{constructor(e,t,s,i){this.language=e,this.metadata=t,this.model=s,this.view=i,this.createmode=!1,this.moduleList=[],this.filteredModuleList=[],this.subject=new ls.x,this.response=this.subject.asObservable(),this.self={},this.reportName="",this.selectedModule="",this._searchTerm="",this.view.isEditable=!0,this.view.setEditMode(),this.view.editfieldname="name"}get searchTerm(){return this._searchTerm}set searchTerm(e){this.filteredModuleList=this.moduleList.filter((t=>t.display.toLowerCase().indexOf(e.toLowerCase())>-1||t.name.toLowerCase().indexOf(e.toLowerCase())>-1))}get disabled(){return!(this.reportName&&this.selectedModule)}ngOnInit(){this.loadModuleList();let e=this.metadata.getComponentConfig("ReportsDesignerSelectModuleModal",this.model.module);this.fieldset=e.fieldset}loadModuleList(){this.moduleList=this.metadata.getModules().map((e=>({name:e,display:this.language.getModuleName(e)}))).sort(((e,t)=>e.display>t.display?1:-1)),this.filteredModuleList=this.moduleList}setSelectedModule(e){this.selectedModule=e,this.createmode||this.confirm()}close(){this.subject.next(!1),this.subject.complete(),this.self.destroy()}confirm(e){e&&this.setSelectedModule(e),this.canCreate&&(this.subject.next({name:this.reportName,module:this.selectedModule}),this.subject.complete(),this.close())}trackByFn(e,t){return t}get canCreate(){var e;return!this.createmode||(null===(e=this.model.getField("name"))||void 0===e?void 0:e.length)>0}}return ReportsDesignerSelectModuleModal.ɵfac=function(e){return new(e||ReportsDesignerSelectModuleModal)(g.Y36(h.d),g.Y36(f.Pu),g.Y36(m.o),g.Y36(L.e))},ReportsDesignerSelectModuleModal.ɵcmp=g.Xpm({type:ReportsDesignerSelectModuleModal,selectors:[["reports-designer-select-module-modal"]],inputs:{createmode:"createmode"},decls:18,vars:10,consts:[["module","KReports",3,"close"],["module","KReports",3,"singular"],["margin","xx-small",3,"grow"],["tabtitle","LBL_DETAILS",3,"collapsible",4,"ngIf"],["tabtitle","LBL_MODULE",3,"collapsible"],[1,"slds-p-around--x-small"],[1,"slds-app-launcher__header-search","slds-p-horizontal--none"],[1,"slds-form-element"],[1,"slds-form-element__control","slds-input-has-icon","slds-input-has-icon--left"],["icon","search",3,"addclasses"],["type","search",1,"slds-input",3,"ngModel","placeholder","ngModelChange"],[1,"slds-grid","slds-grid--pull-padded","slds-p-around--xx-small","slds-wrap"],["class","slds-p-around--small slds-size--xx-small",3,"spice-box-is-selected","click","dblclick",4,"ngFor","ngForOf","ngForTrackBy"],[1,"slds-button","slds-button--neutral",3,"click"],["label","LBL_CANCEL"],["class","slds-button slds-button--neutral",3,"disabled","click",4,"ngIf"],["tabtitle","LBL_DETAILS",3,"collapsible"],["direction","vertical",3,"fieldset"],[1,"slds-p-around--small","slds-size--xx-small",3,"click","dblclick"],[1,"slds-app-launcher__tile-figure","slds-app-launcher__tile-figure--small","slds-text-link_reset"],["size","large",3,"module"],[1,"slds-align_absolute-center","slds-p-top--xx-small"],[1,"slds-truncate","slds-text-link_reset",3,"title"],[1,"slds-button","slds-button--neutral",3,"disabled","click"],["label","LBL_NEXT"]],template:function(e,t){1&e&&(g.TgZ(0,"system-modal")(1,"system-modal-header",0),g.NdJ("close",(function(){return t.close()})),g._UZ(2,"system-label-modulename",1),g.qZA(),g.TgZ(3,"system-modal-content",2),g.YNc(4,ds,2,2,"system-collapsable-tab",3),g.TgZ(5,"system-collapsable-tab",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),g._UZ(10,"system-utility-icon",9),g.TgZ(11,"input",10),g.NdJ("ngModelChange",(function(e){return t.searchTerm=e})),g.qZA()()()(),g.TgZ(12,"ul",11),g.YNc(13,cs,6,5,"li",12),g.qZA()()()(),g.TgZ(14,"system-modal-footer")(15,"button",13),g.NdJ("click",(function(){return t.close()})),g._UZ(16,"system-label",14),g.qZA(),g.YNc(17,gs,2,1,"button",15),g.qZA()()),2&e&&(g.xp6(2),g.Q6J("singular",!0),g.xp6(1),g.Q6J("grow",!0),g.xp6(1),g.Q6J("ngIf",t.createmode),g.xp6(1),g.Q6J("collapsible",!1),g.xp6(5),g.Q6J("addclasses","slds-input__icon slds-input__icon--left"),g.xp6(1),g.Q6J("ngModel",t.searchTerm)("placeholder",t.language.getLabel("LBL_SEARCH")),g.xp6(2),g.Q6J("ngForOf",t.filteredModuleList)("ngForTrackBy",t.trackByFn),g.xp6(4),g.Q6J("ngIf",t.createmode))},directives:[ns.j,os.y,M.M,rs.x,i.O5,P.z,Y.d,F.r,l.Fj,l.JJ,l.On,i.sg,D.f,as.p,A._],encapsulation:2}),ReportsDesignerSelectModuleModal})(),us=(()=>{class ModuleReportsDesigner{}return ModuleReportsDesigner.ɵfac=function(e){return new(e||ModuleReportsDesigner)},ModuleReportsDesigner.ɵmod=g.oAB({type:ModuleReportsDesigner}),ModuleReportsDesigner.ɵinj=g.cJS({providers:[Z],imports:[[i.ez,l.u5,n.ObjectFields,o.ObjectComponents,r.SystemComponents,a.o,d._t,c.ModuleReports]]}),ModuleReportsDesigner})();("undefined"==typeof ngJitMode||ngJitMode)&&g.kYT(us,{declarations:[yt,S,V,ne,ue,Ve,Ye,At,It,it,$e,qt,Et,Ht,Wt,ts,gt,nt,is,Qe,Se,Re,Ne,K,ge,se,ps],imports:[i.ez,l.u5,n.ObjectFields,o.ObjectComponents,r.SystemComponents,a.o,d._t,c.ModuleReports],exports:[yt,At,qt,Et]}),g.B6R(Et,[P.z,i.O5,Ht,Wt],[])}}]);