/*!
 * 
 *                     aacService
 *
 *                     release: 2022.01.001
 *
 *                     date: 2022-08-25 13:14:25
 *
 *                     build: 2022.01.001.1661426065713
 *
 */
"use strict";(self.webpackChunkcore=self.webpackChunkcore||[]).push([["src_modules_holidaycalendars_moduleholidaycalendars_ts"],{8395:(e,t,l)=>{l.r(t),l.d(t,{ModuleHolidayCalendars:()=>j});var s=l(9808),a=l(2382),d=l(9769),i=l(1549),o=l(1706),n=l(4518),r=l(6472),c=l(5710),u=l(2644),m=l(4893),y=l(5329),h=l(4154),C=l(3333),g=l(2656),b=l(3463),p=l(3194),f=l(3814),H=l(7763),L=l(586),v=l(6040),Z=l(1058),_=l(7588);let M=(()=>{class HolidayCalendarListDays{constructor(e,t,l,s){this.language=e,this.model=t,this.metadata=l,this.relatedmodels=s,this.relatedmodels.module="SystemHolidayCalendars",this.relatedmodels.relatedModule="SystemHolidayCalendarDays",this.relatedmodels.linkName="systemholidaycalendardays",this.relatedmodels.loaditems=1e3,this.componentconfig=this.metadata.getComponentConfig("HolidayCalendarListDays","SystemHolidayCalendarDays"),this.listfields=this.metadata.getFieldSetFields(this.componentconfig.fieldset)}ngOnChanges(e){this.relatedmodels.id=this.calendarid,this.relatedmodels.resetData(),this.relatedmodels.getData().subscribe((e=>{this.relatedmodels.items.sort(((e,t)=>moment(e.holiday_date).isBefore(moment(t.holiday_date))?1:-1))}))}}return HolidayCalendarListDays.ɵfac=function(e){return new(e||HolidayCalendarListDays)(m.Y36(y.d),m.Y36(c.o),m.Y36(h.Pu),m.Y36(v.j))},HolidayCalendarListDays.ɵcmp=m.Xpm({type:HolidayCalendarListDays,selectors:[["holiday-calendar-list-days"]],inputs:{calendarid:"calendarid"},features:[m._Bn([v.j,c.o]),m.TTD],decls:2,vars:2,consts:[["system-to-bottom",""],[3,"listfields","listitemactionset"]],template:function(e,t){1&e&&(m.TgZ(0,"div",0),m._UZ(1,"object-relatedlist-table",1),m.qZA()),2&e&&(m.xp6(1),m.Q6J("listfields",t.listfields)("listitemactionset",t.componentconfig.actionset))},directives:[Z.H,_.K],encapsulation:2}),HolidayCalendarListDays})();const x=function(e){return{"slds-theme--inverse":e}},A=function(e){return{module:"SystemHolidayCalendars",data:e}};function D(e,t){if(1&e){const e=m.EpF();m.TgZ(0,"div",15),m.NdJ("click",(function(){const t=m.CHM(e).$implicit;return m.oxw().activeCalendar=t.id})),m.TgZ(1,"div",16)(2,"span"),m._uU(3),m.qZA(),m._UZ(4,"object-action-menu",17),m.qZA()()}if(2&e){const e=t.$implicit,l=m.oxw();m.Q6J("ngClass",m.VKq(5,x,e.id==l.activeCalendar)),m.xp6(1),m.Q6J("system-model-provider",m.VKq(7,A,e)),m.xp6(2),m.Oqu(e.name),m.xp6(1),m.Q6J("buttonsize","x-small")("actionset",l.actionset)}}function J(e,t){if(1&e&&m._UZ(0,"holiday-calendar-list-days",18),2&e){const e=m.oxw();m.Q6J("calendarid",e.activeCalendar)}}let Y=(()=>{class HolidayCalendarList{constructor(e,t,l,s){this.language=e,this.modellist=t,this.model=l,this.metadata=s;let a=this.metadata.getComponentConfig("HolidayCalendarList","SystemHolidayCalendars");this.actionset=a.actionset}ngOnInit(){this.modellist.initialize("SystemHolidayCalendars"),this.modellist.getListData()}refresh(){this.activeCalendar=void 0,this.modellist.reLoadList()}set activeCalendar(e){this._activeCalendarID=e}get activeCalendar(){return this._activeCalendarID}addCalendar(){this.model.module="ServiceCalendars",this.model.id="",this.model.initialize(),this.model.addModel()}addDay(){this.model.module="ServiceCalendarTimes",this.model.id="",this.model.initialize(),this.model.addModel(null,null,{servicecalendar_id:this.activeCalendar})}}return HolidayCalendarList.ɵfac=function(e){return new(e||HolidayCalendarList)(m.Y36(y.d),m.Y36(u.t),m.Y36(c.o),m.Y36(h.Pu))},HolidayCalendarList.ɵcmp=m.Xpm({type:HolidayCalendarList,selectors:[["holiday-calendar-list"]],features:[m._Bn([u.t,c.o])],decls:17,vars:3,consts:[[1,"slds-grid","slds-grid_vertical-align-center","slds-grid--align-spread","slds-p-around--small"],[1,"slds-text-heading_medium"],["module","SystemHolidayCalendars"],[1,"slds-grid"],[1,"slds-button","slds-button--neutral",3,"click"],["icon","add"],["label","LBL_CALENDAR"],[1,"slds-button","slds-button--neutral",3,"disabled","click"],["label","LBL_DAY"],[1,"slds-button","slds-button_icon","slds-button_icon-border-filled",3,"click"],["icon","refresh"],["system-to-bottom-noscroll","","system-view-provider","",1,"slds-size--1-of-4","slds-theme--default"],["class","slds-box--border slds-m-around--xx-small",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"slds-size--3-of-4","slds-border--left","slds-theme--shade"],[3,"calendarid",4,"ngIf"],[1,"slds-box--border","slds-m-around--xx-small",3,"ngClass","click"],[1,"slds-p-around--x-small","slds-grid","slds-grid--vertical-align-center","slds-grid--align-spread",3,"system-model-provider"],[3,"buttonsize","actionset"],[3,"calendarid"]],template:function(e,t){1&e&&(m.TgZ(0,"div",0)(1,"h2",1),m._UZ(2,"system-label-modulename",2),m.qZA(),m.TgZ(3,"div",3)(4,"button",4),m.NdJ("click",(function(){return t.addCalendar()})),m._UZ(5,"system-button-icon",5)(6,"system-label",6),m.qZA(),m.TgZ(7,"button",7),m.NdJ("click",(function(){return t.addDay()})),m._UZ(8,"system-button-icon",5)(9,"system-label",8),m.qZA(),m.TgZ(10,"button",9),m.NdJ("click",(function(){return t.refresh()})),m._UZ(11,"system-button-icon",10),m.qZA()()(),m.TgZ(12,"div",3)(13,"div",11),m.YNc(14,D,5,9,"div",12),m.qZA(),m.TgZ(15,"div",13),m.YNc(16,J,1,1,"holiday-calendar-list-days",14),m.qZA()()),2&e&&(m.xp6(7),m.Q6J("disabled",!t.activeCalendar),m.xp6(7),m.Q6J("ngForOf",t.modellist.listData.list),m.xp6(2),m.Q6J("ngIf",t.activeCalendar))},directives:[C.M,g.J,b._,p.t,f.V,s.sg,s.mk,H.u,L.g,s.O5,M],encapsulation:2}),HolidayCalendarList})();var k=l(4505),T=l(3278),B=l(9621),q=l(1916),O=l(3499),S=l(5767);let z=(()=>{class HolidayCalendarListGetHolidaysModal{constructor(e,t,l){this.backend=e,this.model=t,this.toast=l}close(){this.self.destroy()}load(){this.backend.getRequest(`module/SystemHolidayCalendars/${this.model.id}/calendarific/${this.country}/${this.year}`).subscribe((e=>{this.close()}),(e=>{this.toast.sendToast("Error loading Holidays","error"),console.log(e)}))}}return HolidayCalendarListGetHolidaysModal.ɵfac=function(e){return new(e||HolidayCalendarListGetHolidaysModal)(m.Y36(k.y),m.Y36(c.o),m.Y36(T.A))},HolidayCalendarListGetHolidaysModal.ɵcmp=m.Xpm({type:HolidayCalendarListGetHolidaysModal,selectors:[["holiday-calendar-list-get-holidays-modal"]],decls:16,vars:2,consts:[["size","prompt"],[3,"close"],["label","LBL_LOAD_HOLIDAYS"],[1,"slds-grid","slds-grid--vertical"],[1,"slds-grid","slds-p-vertical--x-small"],["label","LBL_COUNTRY",1,"slds-size--1-of-2"],["maxlength","2","type","text",1,"slds-input","slds-size--1-of-2",3,"ngModel","ngModelChange"],["label","LBL_YEAR",1,"slds-size--1-of-2"],["maxlength","4","type","number",1,"slds-input","slds-size--1-of-2",3,"ngModel","ngModelChange"],[1,"slds-button","slds-button--neutral",3,"click"],["label","LBL_CANCEL"],[1,"slds-button","slds-button--brand",3,"click"],["label","LBL_LOAD"]],template:function(e,t){1&e&&(m.TgZ(0,"system-modal",0)(1,"system-modal-header",1),m.NdJ("close",(function(){return t.close()})),m._UZ(2,"system-label",2),m.qZA(),m.TgZ(3,"system-modal-content")(4,"div",3)(5,"div",4),m._UZ(6,"system-label",5),m.TgZ(7,"input",6),m.NdJ("ngModelChange",(function(e){return t.country=e})),m.qZA()(),m.TgZ(8,"div",4),m._UZ(9,"system-label",7),m.TgZ(10,"input",8),m.NdJ("ngModelChange",(function(e){return t.year=e})),m.qZA()()()(),m.TgZ(11,"system-modal-footer")(12,"button",9),m.NdJ("click",(function(){return t.close()})),m._UZ(13,"system-label",10),m.qZA(),m.TgZ(14,"button",11),m.NdJ("click",(function(){return t.load()})),m._UZ(15,"system-label",12),m.qZA()()()),2&e&&(m.xp6(7),m.Q6J("ngModel",t.country),m.xp6(3),m.Q6J("ngModel",t.year))},directives:[B.j,q.y,b._,O.x,a.Fj,a.nD,a.JJ,a.On,a.wV,S.p],encapsulation:2}),HolidayCalendarListGetHolidaysModal})();var G=l(4044),N=l(6625);let U=(()=>{class HolidayCalendarListGetHolidaysButton{constructor(e,t,l,s){this.model=e,this.modal=t,this.configuration=l,this.injector=s,this.disabled=!0,this.enableButton()}enableButton(){let e=this.configuration.getCapabilityConfig("holidaycalendars");(null==e?void 0:e.calendarific)&&(this.disabled=!1)}execute(){this.modal.openModal("HolidayCalendarListGetHolidaysModal",!0,this.injector)}}return HolidayCalendarListGetHolidaysButton.ɵfac=function(e){return new(e||HolidayCalendarListGetHolidaysButton)(m.Y36(c.o),m.Y36(G.o),m.Y36(N.C),m.Y36(m.zs3))},HolidayCalendarListGetHolidaysButton.ɵcmp=m.Xpm({type:HolidayCalendarListGetHolidaysButton,selectors:[["holiday-calendar-list-get-holidays-button"]],decls:1,vars:0,consts:[["label","LBL_LOAD_HOLIDAYS"]],template:function(e,t){1&e&&m._UZ(0,"system-label",0)},directives:[b._],encapsulation:2}),HolidayCalendarListGetHolidaysButton})(),j=(()=>{class ModuleHolidayCalendars{}return ModuleHolidayCalendars.ɵfac=function(e){return new(e||ModuleHolidayCalendars)},ModuleHolidayCalendars.ɵmod=m.oAB({type:ModuleHolidayCalendars}),ModuleHolidayCalendars.ɵinj=m.cJS({imports:[[s.ez,a.u5,i.ObjectFields,o.GlobalComponents,n.ObjectComponents,r.SystemComponents,d.o]]}),ModuleHolidayCalendars})();("undefined"==typeof ngJitMode||ngJitMode)&&m.kYT(j,{declarations:[Y,M,z,U],imports:[s.ez,a.u5,i.ObjectFields,o.GlobalComponents,n.ObjectComponents,r.SystemComponents,d.o]})}}]);